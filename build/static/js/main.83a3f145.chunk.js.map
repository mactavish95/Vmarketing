{"version":3,"sources":["config/api.js","components/Header.js","screens/HomeScreen.js","components/EnhancedModelInfo.js","components/Llma.js","components/EnhancedLLM.js","components/VoiceRecognition.js","components/VoiceAnalysis.js","services/locationService.js","components/LocationSuggestions.js","components/LocationAttachment.js","services/VoiceService.js","screens/VoiceReview.js","services/llmService.js","screens/ReviewGenerator.js","screens/ReviewHistory.js","screens/BlogCreator.js","screens/BlogIndex.js","screens/BlogPost.js","screens/CustomerServiceResponse.js","screens/VoiceTest.js","components/SocialMediaPostOptions.js","components/SocialMediaPostResult.js","components/SocialMediaIntegration.js","components/FacebookIcon.js","components/SocialMediaPostWizard.js","screens/SocialMediaPost.js","components/FullPostView.js","screens/SocialMediaPostHistory.js","screens/SocialMediaIntegrationScreen.js","screens/Login.js","screens/Signup.js","App.js","i18n.js","index.js"],"names":["API_CONFIG","development","baseURL","timeout","production","process","REACT_APP_API_URL","environment","window","location","hostname","includes","apiConfig","getApiUrl","endpoint","console","log","isNetlify","selectedEnvironment","warn","concat","Header","useLocation","isMenuOpen","setIsMenuOpen","useState","isMobile","setIsMobile","openDropdown","setOpenDropdown","t","i18n","useTranslation","supportedLanguages","code","name","flag","shortName","supported","filter","lang","getFlagEmoji","countryCode","flagMap","length","useEffect","checkMobile","innerWidth","addEventListener","removeEventListener","closeMenu","handleDropdownToggle","dropdownName","handleDropdownHover","handleDropdownLeave","currentLanguage","find","language","_jsxs","className","children","Link","to","onClick","_jsx","toggleMenu","pathname","onMouseEnter","onMouseLeave","startsWith","role","htmlFor","id","value","onChange","e","changeLanguage","lng","target","map","HomeScreen","currentFeature","setCurrentFeature","isVisible","setIsVisible","interval","setInterval","prev","clearInterval","features","icon","title","desc","link","feature","index","EnhancedModelInfo","_ref","_modelInfo$modelInfo","_modelInfo$modelInfo2","_modelInfo$modelInfo3","_modelInfo$modelInfo4","_modelInfo$modelInfo5","style","modelInfo","setModelInfo","loading","setLoading","error","setError","fetchModelInfo","async","apiUrl","res","fetch","ok","Error","status","statusText","data","json","success","model","message","description","strengths","provider","modelType","parameters","maxContextLength","capabilities","performance","responseTime","contentQuality","consistency","creativity","_objectSpread","background","borderRadius","padding","border","textAlign","display","alignItems","justifyContent","gap","width","height","borderTop","animation","color","fontSize","fontWeight","marginBottom","boxShadow","margin","lineHeight","gridTemplateColumns","capability","temperature","maxTokens","toLocaleString","topP","flexWrap","strength","marginTop","jsx","Llma","inputText","setInputText","response","setResponse","isLoading","setIsLoading","conversationHistory","setConversationHistory","availableModels","setAvailableModels","selectedModel","setSelectedModel","loadAvailableModels","models","callLlamaAPI","text","history","method","headers","body","JSON","stringify","errorData","catch","examplePrompts","slice","key","clearConversation","content","timestamp","toLocaleTimeString","onSubmit","preventDefault","trim","userMessage","Date","result","aiMessage","err","placeholder","rows","prompt","type","disabled","navigator","clipboard","writeText","EnhancedLLM","input","setInput","qualityAnalysis","setQualityAnalysis","getQualityColor","score","join","requestBody","context","userIntent","domain","urgency","forceModel","newHistory","required","contentType","comparison","alert","recommendedModel","confidence","toFixed","copyToClipboard","overallScore","Object","entries","metrics","metric","charAt","toUpperCase","weaknesses","weakness","suggestions","suggestion","sentiment","complexity","keyPoints","structureAnalysis","words","msg","substring","VoiceRecognition","onTranscript","enableLLMEnhancement","isListening","setIsListening","transcript","setTranscript","interimTranscript","setInterimTranscript","isSupported","setIsSupported","isInitialized","setIsInitialized","retryCount","setRetryCount","browserInfo","setBrowserInfo","showManualInput","setShowManualInput","manualText","setManualText","isEnhancing","setIsEnhancing","enhancedTranscript","setEnhancedTranscript","recognitionRef","useRef","timeoutRef","checkDeviceAndBrowser","userAgent","vendor","opera","isMobileDevice","test","toLowerCase","browser","initializeSpeechRecognition","current","abort","clearTimeout","SpeechRecognition","webkitSpeechRecognition","mozSpeechRecognition","msSpeechRecognition","setupRecognition","recognition","continuous","interimResults","maxAlternatives","onstart","setTimeout","stopListening","onresult","event","finalTranscript","i","resultIndex","results","resultTranscript","isFinal","newTranscript","processTranscript","onerror","errorMessage","onend","startListening","onaudiostart","onaudioend","onsoundstart","onsoundend","onspeechstart","onspeechend","start","stop","retryInitialization","toggleManualInput","enhanceTranscriptWithLLM","hasApiKey","hasTranscript","rawTranscript","transcriptLength","enhanced","original","arguments","undefined","debugLLMEnhancement","debugVoiceRecognition","displayText","isActive","handleToggleListening","textToCopy","then","originalText","document","clearTranscript","autoFocus","VoiceAnalysis","analysis","onGenerateReview","onSaveAnalysis","parentReviewType","isExpanded","setIsExpanded","isGeneratingReview","setIsGeneratingReview","generatedReview","setGeneratedReview","reviewType","setReviewType","originalTranscript","topics","tone","actionItems","summary","wordCount","speakingPace","handleSaveAnalysis","backgroundColor","getSentimentColor","getConfidenceColor","Math","round","point","topic","_Fragment","item","review","stack","LocationService","getCurrentLocation","options","finalOptions","enableHighAccuracy","maximumAge","Promise","resolve","reject","geolocation","getCurrentPosition","position","locationData","latitude","coords","longitude","accuracy","toISOString","address","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","getAddressFromCoordinates","display_name","getPermissionStatus","permissions","query","state","formatLocation","calculateDistance","lat1","lon1","lat2","lon2","φ1","PI","φ2","Δφ","Δλ","a","sin","cos","atan2","sqrt","validateCoordinates","getLocationSuggestions","currentLocation","searchLocations","limit","encodeURIComponent","parseFloat","lat","lon","importance","LocationSuggestions","onLocationSelect","onClose","setSuggestions","setAnalysis","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","_result$analysis","specificPlace","handleLocationSelect","getLocationIcon","locationMentioned","locationType","cityOrArea","keywords","keyword","idx","_suggestion$coordinat","_suggestion$coordinat2","coordinates","source","LocationAttachment","onLocationChange","initialLocation","setLocation","permissionStatus","setPermissionStatus","showSuggestions","setShowSuggestions","updatedLocation","getPermissionStatusColor","getPermissionStatusText","clearLocation","selectedLocation","cleanAIResponse","cleaned","replace","sentences","split","s","structure","positiveAspects","negativeAspects","questions","statements","push","Set","extractTopicKeywords","totalSentences","analyzeEnhancedContentStructure","formatted","opening","capitalizeFirst","forEach","aspect","highlights","highlight","experienceDetails","detail","valueAspects","conclusion","positiveCount","negativeCount","formatEnhancedReviewResponse","findings","finding","sentimentSentences","some","insight","rec","impactSentences","impact","formatEnhancedAnalysisResponse","greeting","mainResponse","personalInsights","followUp","formatEnhancedConversationResponse","acknowledgment","problemAnalysis","solutions","solution","improvements","improvement","compensation","gesture","formatEnhancedCustomerServiceResponse","mainPoint","explanations","explanation","insights","applications","app","formatEnhancedGeneralResponse","formatForEnhancedDepthAndRelevance","str","constructor","this","analyzeVoice","generateReview","url","getVoiceAnalysis","VoiceReview","isAnalyzing","setIsAnalyzing","rating","setRating","savedReviews","setSavedReviews","setLocationData","ratingAutoAdjusted","setRatingAutoAdjusted","analyzeVoiceInput","inputTranscript","analysisResult","VoiceService","analysisWithTranscript","suggestedRating","autoAdjustRating","analysisData","positiveKeywords","negativeKeywords","word","min","max","clearAll","star","reviewTypeParam","finalReviewType","hasLocation","reviewText","reviewData","now","existingReviews","parse","localStorage","getItem","updatedReviews","setItem","analysisRecord","existingAnalyses","apiKey","REACT_APP_OPENAI_API_KEY","anthropicKey","REACT_APP_ANTHROPIC_API_KEY","useLocalFallback","analyzeWithOpenAI","analyzeWithAnthropic","analyzeLocally","messages","max_tokens","choices","positiveWords","negativeWords","detectTone","extractTopics","generateSuggestions","generateActionItems","actions","generateReviewFromVoice","formatReviewText","points","ReviewGenerator","useNavigate","currentStep","setCurrentStep","setReviewData","pros","cons","experience","isGenerating","setIsGenerating","showAnalysis","setShowAnalysis","showQuickStart","setShowQuickStart","showVoiceInput","setShowVoiceInput","voiceTranscript","setVoiceTranscript","containerRef","reviewTypes","label","tones","steps","handleInputChange","field","updatedData","allContent","Boolean","createReview","reviewHistory","newReview","itemName","category","unshift","analyzeReview","llmService","isGeneratedReview","reviewFormats","restaurant","openings","positive","negative","neutral","prosFormat","consFormat","experienceFormat","hotel","product","service","place","general","format","reviewContent","floor","random","resetReview","handleLocationChange","handleGenerateReviewFromAnalysis","handleVoiceTranscript","ref","step","scrollIntoView","behavior","goToStep","renderStepContent","prevStep","nextStep","ReviewHistory","reviews","setReviews","filteredReviews","setFilteredReviews","searchTerm","setSearchTerm","filterType","setFilterType","expandedReviews","setExpandedReviews","loadReviews","filterReviews","voiceReviews","formattedVoiceReviews","voiceReview","isVoiceReview","allReviews","sort","b","filtered","toggleReviewExpansion","reviewId","newSet","has","delete","add","formatDate","toLocaleDateString","year","month","day","hour","minute","movie","book","repeat","copyReview","confirm","regularReviews","originalVoiceReviews","deleteReview","BlogCreator","blogData","setBlogData","mainName","industry","targetAudience","specialFeatures","generatedBlog","setGeneratedBlog","images","setImages","isUploading","setIsUploading","uploadProgress","setUploadProgress","imageAnalysis","setImageAnalysis","reorderImages","fromIndex","toIndex","newImages","movedImage","splice","formatFileSize","bytes","pow","targetAudiences","lengths","renderHierarchicalContent","line","trimmedLine","match","parts","part","partIndex","autoComplete","imageData","img","size","dataUrl","blogPost","blogHistory","newBlog","metadata","saveErr","generateBlogPost","multiple","accept","validFiles","Array","from","files","file","isValidType","isValidSize","fileName","progressInterval","processImages","reader","FileReader","onload","uploadedAt","readAsDataURL","all","image","src","alt","removeImage","imageId","audience","imageDetails","suggestedPlacement","suggestedCaption","integrationSuggestions","BlogIndex","activeTab","setActiveTab","setBlogHistory","backendBlogs","setBackendBlogs","backendLoading","setBackendLoading","backendError","setBackendError","showBackend","setShowBackend","fetchBackendBlogs","loadBlogHistory","filteredBlogs","blog","matchesSearch","restaurantName","matchesFilter","restaurantType","getWordCount","blogPosts","slug","excerpt","readTime","date","blogs","minHeight","fontFamily","maxWidth","overflow","backdropFilter","textShadow","opacity","flex","cursor","transition","top","right","post","textDecoration","flexDirection","transform","textTransform","letterSpacing","reduce","total","minWidth","maxHeight","whiteSpace","bottom","left","pointerEvents","createdAt","updatedAt","_id","copyBlog","updatedHistory","deleteBlog","overview","BlogPost","useParams","generatedPost","setGeneratedPost","isEditMode","setIsEditMode","editedContent","setEditedContent","isSaving","setIsSaving","showPreview","setShowPreview","copyStatus","setCopyStatus","backendPost","setBackendPost","loadGeneratedPost","postId","foundPost","toString","require","default","isArray","found","renderBlogWithImages","blogContent","cleanedContent","num","trimmed","cleanAndFormatBlogContent","paragraphs","p","imagePlacement","paragraph","imgIndex","indexOf","fontStyle","objectFit","borderBottom","paddingBottom","borderLeft","paddingLeft","marginLeft","isBackend","isGenerated","postColor","postCategory","postDate","postTitle","cuisine","togglePreview","resize","lastEdited","CustomerServiceResponse","setReview","setSentiment","staffName","setStaffName","boxSizing","onFocus","borderColor","onBlur","option","VoiceTest","testResults","setTestResults","React","_navigator$mediaDevic","info","platform","cookieEnabled","onLine","speechRecognition","mediaDevices","getUserMedia","addTestResult","stream","audio","getTracks","track","clearResults","SocialMediaPostOptions","platforms","setPlatform","postTypes","postType","setPostType","setTone","audiences","setTargetAudience","contentStructures","contentStructure","setContentStructure","engagementGoals","engagementGoal","setEngagementGoal","contentLengths","contentLength","setContentLength","customLength","setCustomLength","brandVoiceIntensities","brandVoiceIntensity","setBrandVoiceIntensity","engagementUrgencies","engagementUrgency","setEngagementUrgency","situations","situation","setSituation","showAdvancedOptions","setShowAdvancedOptions","priority","tabIndex","goal","parseInt","voice","situationItem","toneItem","SocialMediaPostResult","_tones$find","_tones$find2","_tones$find3","enhancedContent","reviewedContent","isReviewing","showOriginalContent","setShowOriginalContent","showComparison","setShowComparison","getPlatformIcon","getToneIcon","getAudienceIcon","selectedPlatform","isOverLimit","openPreviewWindow","generationHistory","setContent","setEnhancedContent","modalPost","setModalPost","globalHistory","isHistoryLoading","historyError","groupHistoryByPlatform","displayQualityAnalysis","coherence","relevance","completeness","clarity","engagement","recommendations","setRecommendations","recLoading","setRecLoading","recError","setRecError","zIndex","wordWrap","paddingTop","count","_ref2","recs","getPostRecommendations","postData","blob","Blob","URL","createObjectURL","createElement","href","download","click","revokeObjectURL","SocialMediaIntegration","onPublishSuccess","onPublishError","isConnected","onConnectAccount","connectedAccounts","setConnectedAccounts","isPublishing","setIsPublishing","publishStatus","setPublishStatus","showConnectModal","setShowConnectModal","facebook","authUrl","scope","instagram","twitter","linkedin","fetchConnectedAccounts","credentials","accounts","connectAccount","platformKey","popup","open","checkClosed","closed","publishContent","accountId","getAccountStatus","account","expiresAt","platformConfig","username","profileImage","disconnectAccount","rel","keys","_ref3","FacebookIcon","viewBox","fill","xmlns","x","y","rx","d","SocialMediaPostWizard","setReviewedContent","generateContent","useMemo","emoji","guidance","tips","returnObjects","getSteps","setStep","enhancementError","setEnhancementError","enhanceContent","verticalAlign","marginRight","tiktok","youtube","tip","handleFinalSubmit","SocialMediaPost","hashtags","setHashtags","setGenerationHistory","selectedSuggestion","setSelectedSuggestion","setIsReviewing","useWizard","setUseWizard","getContentLengths","baseLengths","targetWords","setGlobalHistory","setIsHistoryLoading","setHistoryError","maxLength","bestPractices","audienceTypes","getPostTypes","getContentStructures","getEngagementGoals","getTones","getAudiences","calculateTargetLength","selectedLength","cl","baseLength","platformMax","platformOptimal","targetLength","subtle","moderate","strong","dominant","low","normal","high","urgent","promotional","crisis","celebration","educational","community","trending","seasonal","minWords","maxWords","enhancedPrompt","useCase","generatedContent","lines","bulletLines","historyItem","savePostToBackend","analyzeQuality","platformInfo","toneInfo","pt","platformPreview","hashtagLines","mainContent","mainText","formattedContent","formatInstagramContent","previewHTML","newWindow","write","close","reviewPrompt","reviewGeneratedContent","fetchGlobalHistory","posts","handleWizardSubmit","outline","platformValue","_platforms$find","toneValue","audienceValue","_audiences$find","FullPostView","displayContent","toneObj","tn","platformView","PostCard","platformIcon","platformColor","expanded","onExpand","onCollapse","gridColumn","friendly","professional","playful","inspirational","textOverflow","WebkitLineClamp","WebkitBoxOrient","SocialMediaPostHistory","expandedId","setExpandedId","platformIcons","platformColors","borderBottomLeftRadius","borderBottomRightRadius","grouped","SocialMediaIntegrationScreen","borderTopLeftRadius","borderTopRightRadius","providers","Login","handleLogin","Signup","navigate","form","setForm","email","password","confirmPassword","setSuccess","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleChange","v","App","isAuthenticated","setIsAuthenticated","user","useAuth","Router","Routes","Route","path","element","Navigate","use","LanguageDetector","initReactI18next","init","resources","en","translation","vi","fallbackLng","interpolation","escapeValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"oIAAA,uFACA,MAAMA,EAAa,CAEjBC,YAAa,CACXC,QAAS,4BACTC,QAAS,KAGXC,WAAY,CACVF,QAASG,qOAAYC,mBAAqB,qDAC1CH,QAAS,MAMPI,GADYC,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BACxE,cAGnBC,EAAYZ,EAAWO,GAGvBM,EAAaC,IACxBC,QAAQC,IAAI,iCAAwB,CAClCT,YAAaF,aACbY,UAAWT,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BACjGD,SAAUF,OAAOC,SAASC,SAC1BR,QAASU,EAAUV,QACnBI,kBAAmBD,qOAAYC,kBAC/BY,oBAAqBX,KAGlBK,EAAUV,SAAWU,EAAUV,QAAQS,SAAS,oBACnDI,QAAQI,KAAK,2FACN,MAEH,GAANC,OAAUR,EAAUV,SAAOkB,OAAGN,IAIjBF,W,4uvHC0PAS,MA7RAA,KACX,MAAMZ,EAAWa,eACVC,EAAYC,GAAiBC,oBAAS,IACtCC,EAAUC,GAAeF,oBAAS,IAClCG,EAAcC,GAAmBJ,mBAAS,OAC3C,EAAEK,EAAC,KAAEC,GAASC,cAedC,EAZY,CACd,CAAEC,KAAM,KAAMC,KAAML,EAAE,WAAYM,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GAC5E,CAAEJ,KAAM,KAAMC,KAAML,EAAE,cAAeM,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GAC/E,CAAEJ,KAAM,KAAMC,KAAM,aAAWC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GACzE,CAAEJ,KAAM,KAAMC,KAAM,cAAYC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GAC1E,CAAEJ,KAAM,KAAMC,KAAM,UAAWC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GACzE,CAAEJ,KAAM,KAAMC,KAAM,eAAMC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GACpE,CAAEJ,KAAM,KAAMC,KAAM,qBAAOC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,GACrE,CAAEJ,KAAM,KAAMC,KAAM,qBAAOC,KAAM,2BAAQC,UAAW,KAAMC,WAAW,IAIpCC,OAAOC,GAAQA,EAAKF,WAGnDG,EAAgBC,IAClB,MAAMC,EAAU,CACZ,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,4BAQV,GAAwB,KAJPA,EAAQD,IAAgB,4BAI5BE,OACT,OAAOD,EAAQD,IAAgB,eAa/B,MAVgB,CACZ,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,2BACN,GAAM,4BAEKA,IAAgB,gBAKvCG,oBAAU,KACN,MAAMC,EAAcA,KAChBnB,EAAYnB,OAAOuC,YAAc,MAMrC,OAHAD,IACAtC,OAAOwC,iBAAiB,SAAUF,GAE3B,IAAMtC,OAAOyC,oBAAoB,SAAUH,IACnD,IAEH,MAIMI,EAAYA,KACd1B,GAAc,GACdK,EAAgB,OAQdsB,EAAwBC,IACtB1B,GACAG,EAAgBD,IAAiBwB,EAAe,KAAOA,IAIzDC,EAAuBD,IACpB1B,GACDG,EAAgBuB,IAIlBE,EAAsBA,KACnB5B,GACDG,EAAgB,OAKlB0B,EAAkBtB,EAAmBuB,KAAKhB,GAAQA,EAAKN,OAASH,EAAK0B,WAAaxB,EAAmB,GAE3G,OACIyB,eAAA,UAAQC,UAAU,SAAQC,SAAA,CACtBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BF,eAACG,IAAI,CAACC,GAAG,IAAIH,UAAU,OAAOI,QAASb,EAAUU,SAAA,CAC7CI,cAAA,QAAML,UAAU,YAAWC,SAAC,WAC5BI,cAAA,QAAML,UAAU,YAAWC,SAAC,kBAIhCF,eAAA,UACIC,UAAS,aAAAvC,OAAeG,EAAa,SAAW,IAChDwC,QA9CGE,KACfzC,GAAeD,IA8CH,aAAW,yBAAwBqC,SAAA,CAEnCI,cAAA,WACAA,cAAA,WACAA,cAAA,cAGJN,eAAA,OAAKC,UAAS,YAAAvC,OAAcG,EAAa,SAAW,IAAKqC,SAAA,CAErDF,eAACG,IAAI,CACDC,GAAG,IACHH,UAAS,YAAAvC,OAAoC,MAAtBX,EAASyD,SAAmB,SAAW,IAC9DH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,gBAIV4B,eAAA,OACIC,UAAS,sBAAAvC,OAAyC,YAAjBQ,EAA6B,OAAS,IACvEuC,aAAcA,IAAMd,EAAoB,WACxCe,aAAcd,EAAoBM,SAAA,CAElCF,eAAA,OACIC,UAAU,mBACVI,QAASA,IAAMZ,EAAqB,WAAWS,SAAA,CAEnDI,cAAA,OAAKL,UAAU,kBAAiBC,SAAC,qBAC7BI,cAAA,QAAML,UAAU,iBAAgBC,SAAC,cAErCF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC9BF,eAACG,IAAI,CACDC,GAAG,SACHH,UAAS,YAAAvC,OAAoC,WAAtBX,EAASyD,SAAwB,SAAW,IACnEH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,iBAEV4B,eAACG,IAAI,CACDC,GAAG,WACHH,UAAS,YAAAvC,OAAoC,aAAtBX,EAASyD,SAA0B,SAAW,IACrEH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,yBAMd4B,eAAA,OACIC,UAAS,sBAAAvC,OAAyC,OAAjBQ,EAAwB,OAAS,IAClEuC,aAAcA,IAAMd,EAAoB,MACxCe,aAAcd,EAAoBM,SAAA,CAElCF,eAAA,OACIC,UAAU,mBACVI,QAASA,IAAMZ,EAAqB,MAAMS,SAAA,CAE9CI,cAAA,OAAKL,UAAU,kBAAiBC,SAAC,eAC7BI,cAAA,QAAML,UAAU,iBAAgBC,SAAC,cAErCI,cAAA,OAAKL,UAAU,gBAAeC,SAC9BF,eAACG,IAAI,CACDC,GAAG,SACHH,UAAS,YAAAvC,OAAoC,WAAtBX,EAASyD,SAAwB,SAAW,IACnEH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,sBAMd4B,eAAA,OACIC,UAAS,sBAAAvC,OAAyC,eAAjBQ,EAAgC,OAAS,IAC1EuC,aAAcA,IAAMd,EAAoB,cACxCe,aAAcd,EAAoBM,SAAA,CAElCF,eAAA,OACIC,UAAU,mBACVI,QAASA,IAAMZ,EAAqB,cAAcS,SAAA,CAEtDI,cAAA,OAAKL,UAAU,kBAAiBC,SAAC,uBAC7BI,cAAA,QAAML,UAAU,iBAAgBC,SAAC,cAErCF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC9BF,eAACG,IAAI,CACDC,GAAG,QACHH,UAAS,YAAAvC,OAAcX,EAASyD,SAASG,WAAW,WAAa5D,EAASyD,SAASvD,SAAS,iBAAmB,SAAW,IAC1HoD,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,gBAEV4B,eAACG,IAAI,CACDC,GAAG,gBACHH,UAAS,YAAAvC,OAAoC,kBAAtBX,EAASyD,SAA+B,SAAW,IAC1EH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,uBAEV4B,eAACG,IAAI,CACDC,GAAG,gBACHH,UAAS,YAAAvC,OAAoC,kBAAtBX,EAASyD,SAA+B,SAAW,IAC1EH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,uBAEV4B,eAACG,IAAI,CACDC,GAAG,wBACHH,UAAS,YAAAvC,OAAoC,0BAAtBX,EAASyD,SAAuC,SAAW,IAClFH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,4BAA8B,0BAEpC4B,eAACG,IAAI,CACDC,GAAG,4BACHH,UAAS,YAAAvC,OAAoC,8BAAtBX,EAASyD,SAA2C,SAAW,IACtFH,QAASb,EAAUU,SAAA,CACtB,gBACO9B,EAAE,0CAMlB4B,eAACG,IAAI,CACDC,GAAG,oBACHH,UAAS,YAAAvC,OAAoC,sBAAtBX,EAASyD,SAAmC,SAAW,IAC9EH,QAASb,EAAUU,SAAA,CACtB,kCACU9B,EAAE,2BAEb4B,eAACG,IAAI,CAACC,GAAG,SAASH,UAAU,WAAUC,SAAA,CAClCI,cAAA,QAAMM,KAAK,MAAM,aAAW,QAAOV,SAAC,iBAAS,IAAE9B,EAAE,iBAAmB,WAExE4B,eAACG,IAAI,CAACC,GAAG,UAAUH,UAAU,WAAUC,SAAA,CACnCI,cAAA,QAAMM,KAAK,MAAM,aAAW,SAAQV,SAAC,iBAAS,IAAE9B,EAAE,kBAAoB,mBAMjFP,GACGyC,cAAA,OAAKL,UAAU,iBAAiBI,QAASb,IAG7CQ,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BF,eAAA,SACIa,QAAQ,cAAaX,SAAA,CAEpBlC,EAAW,eAAI,GAAAN,OAAMqB,EAAac,EAAgBrB,MAAK,KAAAd,OAAIU,EAAE,aAAc,OAEhFkC,cAAA,UACIQ,GAAG,cACHC,MAAO1C,EAAK0B,SACZiB,SAAUC,IAAKC,OAjMPC,EAiMsBF,EAAEG,OAAOL,WAhMnD1C,EAAK6C,eAAeC,GADAA,OAiMsCjB,SAE7C3B,EAAmB8C,IAAIvC,GACpBkB,eAAA,UAAwBe,MAAOjC,EAAKN,KAAK0B,SAAA,CACpCnB,EAAaD,EAAKN,MAAM,IAAER,EAAWc,EAAKH,UAAYG,EAAKL,OADnDK,EAAKN,gB,MCqB3B8C,MAxSIA,KACf,MAAM,EAAElD,GAAME,eACPiD,EAAgBC,GAAqBzD,mBAAS,IAC9C0D,EAAWC,GAAgB3D,oBAAS,GAE3CoB,oBAAU,KACNuC,GAAa,GACb,MAAMC,EAAWC,YAAY,KACzBJ,EAAmBK,IAAUA,EAAO,GAAK,IAC1C,KACH,MAAO,IAAMC,cAAcH,IAC5B,IAEH,MAAMI,EAAW,CACb,CAAEC,KAAM,eAAMC,MAAO7D,EAAE,oCAAqC8D,KAAM9D,EAAE,0CAA2C+D,KAAM,iBACrH,CAAEH,KAAM,eAAMC,MAAO7D,EAAE,mCAAoC8D,KAAM9D,EAAE,yCAA0C+D,KAAM,qBACnH,CAAEH,KAAM,eAAMC,MAAO7D,EAAE,+BAAgC8D,KAAM9D,EAAE,qCAAsC+D,KAAM,iBAC3G,CAAEH,KAAM,eAAMC,MAAO7D,EAAE,oCAAqC8D,KAAM9D,EAAE,0CAA2C+D,KAAM,iBACrH,CAAEH,KAAM,iCAASC,MAAO7D,EAAE,mCAAoC8D,KAAM9D,EAAE,yCAA0C+D,KAAM,qBACtH,CAAEH,KAAM,eAAMC,MAAO7D,EAAE,+BAAgC8D,KAAM9D,EAAE,qCAAsC+D,KAAM,kBAG/G,OACInC,eAAA,OAAKC,UAAS,eAAAvC,OAAiB+D,EAAY,UAAY,IAAKvB,SAAA,CAExDF,eAAA,WAASC,UAAU,eAAcC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,kBAAiBC,SAC5BI,cAAA,OAAKL,UAAU,qBAEnBD,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACvBI,cAAA,QAAML,UAAU,aAAYC,SAAC,WAC7BI,cAAA,QAAML,UAAU,aAAYC,SAAC,mCAEjCF,eAAA,MAAIC,UAAU,aAAYC,SAAA,CACtBI,cAAA,QAAML,UAAU,aAAYC,SAAC,mBAC7BI,cAAA,QAAML,UAAU,kBAAiBC,SAAC,kBAClCI,cAAA,QAAML,UAAU,aAAYC,SAAC,4BAEjCI,cAAA,KAAGL,UAAU,gBAAeC,SAAC,qLAI7BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACvBF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,QAAML,UAAU,cAAaC,SAAC,SAC9BI,cAAA,QAAML,UAAU,aAAYC,SAAC,uBAEjCF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,QAAML,UAAU,cAAaC,SAAC,QAC9BI,cAAA,QAAML,UAAU,aAAYC,SAAC,qBAEjCF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,QAAML,UAAU,cAAaC,SAAC,SAC9BI,cAAA,QAAML,UAAU,aAAYC,SAAC,uBAGrCF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAACG,IAAI,CAACC,GAAG,gBAAgBH,UAAU,mBAAkBC,SAAA,CACjDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC3BI,cAAA,QAAML,UAAU,WAAUC,SAAC,qBAC3BI,cAAA,QAAML,UAAU,YAAWC,SAAC,cAEhCF,eAACG,IAAI,CAACC,GAAG,oBAAoBH,UAAU,qBAAoBC,SAAA,CACvDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC3BI,cAAA,QAAML,UAAU,WAAUC,SAAC,oBAE/BF,eAACG,IAAI,CAACC,GAAG,gBAAgBH,UAAU,oBAAmBC,SAAA,CAClDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC3BI,cAAA,QAAML,UAAU,WAAUC,SAAC,4BAO3CI,cAAA,WAASL,UAAU,oBAAmBC,SAClCF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAIL,UAAU,gBAAeC,SAAC,kDAC9BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,gFAGpCI,cAAA,OAAKL,UAAU,gBAAeC,SACzB6B,EAASV,IAAI,CAACe,EAASC,IACpBrC,eAAA,OAAiBC,UAAS,gBAAAvC,OAAkB2E,IAAUd,EAAiB,SAAW,IAAKrB,SAAA,CACnFI,cAAA,OAAKL,UAAU,uBAAsBC,SACjCI,cAAA,QAAML,UAAU,eAAcC,SAAEkC,EAAQJ,SAE5ChC,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAIL,UAAU,gBAAeC,SAAEkC,EAAQH,QACvC3B,cAAA,KAAGL,UAAU,sBAAqBC,SAAEkC,EAAQF,OAC5ClC,eAACG,IAAI,CAACC,GAAIgC,EAAQD,KAAMlC,UAAU,eAAcC,SAAA,CAC5CI,cAAA,QAAAJ,SAAM,gBACNI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAGrCI,cAAA,OAAKL,UAAU,iBAZToC,WAoB1B/B,cAAA,WAASL,UAAU,eAAcC,SAC7BF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAIL,UAAU,gBAAeC,SAAC,iBAC9BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,yDAGpCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,cAAaC,SAAC,MAC7BI,cAAA,OAAKL,UAAU,YAAWC,SAAC,iBAC3BI,cAAA,MAAIL,UAAU,aAAYC,SAAC,kBAC3BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,sFAEpCI,cAAA,OAAKL,UAAU,mBACfD,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,cAAaC,SAAC,MAC7BI,cAAA,OAAKL,UAAU,YAAWC,SAAC,iBAC3BI,cAAA,MAAIL,UAAU,aAAYC,SAAC,kBAC3BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,iFAEpCI,cAAA,OAAKL,UAAU,mBACfD,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,cAAaC,SAAC,MAC7BI,cAAA,OAAKL,UAAU,YAAWC,SAAC,WAC3BI,cAAA,MAAIL,UAAU,aAAYC,SAAC,oBAC3BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,mFAOhDI,cAAA,WAASL,UAAU,qBAAoBC,SACnCF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAIL,UAAU,gBAAeC,SAAC,oCAC9BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,wDAGpCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BF,eAAA,OAAKC,UAAU,wBAAuBC,SAAA,CAClCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,iBAC/BI,cAAA,MAAIL,UAAU,iBAAgBC,SAAC,yBAEnCF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,sBACJI,cAAA,MAAAJ,SAAI,uBACJI,cAAA,MAAAJ,SAAI,yBACJI,cAAA,MAAAJ,SAAI,4BAERI,cAAA,OAAKL,UAAU,kBAAiBC,SAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAIxCF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,iBAC/BI,cAAA,MAAIL,UAAU,iBAAgBC,SAAC,qBAEnCF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,MAAAJ,SAAI,2BACJI,cAAA,MAAAJ,SAAI,4BACJI,cAAA,MAAAJ,SAAI,0BAERI,cAAA,OAAKL,UAAU,kBAAiBC,SAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAIxCF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,iBAC/BI,cAAA,MAAIL,UAAU,iBAAgBC,SAAC,sBAEnCF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,MAAAJ,SAAI,4BACJI,cAAA,MAAAJ,SAAI,4BACJI,cAAA,MAAAJ,SAAI,mCAERI,cAAA,OAAKL,UAAU,kBAAiBC,SAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAIxCF,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACnCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,iBAC/BI,cAAA,MAAIL,UAAU,iBAAgBC,SAAC,0BAEnCF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,+BACJI,cAAA,MAAAJ,SAAI,sBACJI,cAAA,MAAAJ,SAAI,4BACJI,cAAA,MAAAJ,SAAI,wBAERI,cAAA,OAAKL,UAAU,kBAAiBC,SAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,yBAQpDI,cAAA,WAASL,UAAU,eAAcC,SAC7BF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAIL,UAAU,gBAAeC,SAAC,8BAC9BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,qCAGpCF,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,sBAAqBC,SAChCI,cAAA,KAAAJ,SAAG,wGAEPF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,mCAC/BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,kBACJI,cAAA,QAAAJ,SAAM,uBAEVI,cAAA,OAAKL,UAAU,SAAQC,SAAC,yCAIhCF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,sBAAqBC,SAChCI,cAAA,KAAAJ,SAAG,yFAEPF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,mCAC/BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,cACJI,cAAA,QAAAJ,SAAM,wBAEVI,cAAA,OAAKL,UAAU,SAAQC,SAAC,yCAIhCF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,sBAAqBC,SAChCI,cAAA,KAAAJ,SAAG,8FAEPF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,OAAKL,UAAU,gBAAeC,SAAC,mCAC/BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,eACJI,cAAA,QAAAJ,SAAM,qBAEVI,cAAA,OAAKL,UAAU,SAAQC,SAAC,iDAQ5CI,cAAA,WAASL,UAAU,cAAaC,SAC5BI,cAAA,OAAKL,UAAU,YAAWC,SACtBF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAIL,UAAU,YAAWC,SAAC,8CAC1BI,cAAA,KAAGL,UAAU,eAAcC,SAAC,0EAC5BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBF,eAACG,IAAI,CAACC,GAAG,gBAAgBH,UAAU,kBAAiBC,SAAA,CAChDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC3BI,cAAA,QAAML,UAAU,WAAUC,SAAC,uBAC3BI,cAAA,QAAML,UAAU,YAAWC,SAAC,cAEhCF,eAACG,IAAI,CAACC,GAAG,gBAAgBH,UAAU,oBAAmBC,SAAA,CAClDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC3BI,cAAA,QAAML,UAAU,WAAUC,SAAC,2BAGnCF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,OAAKL,UAAU,cAAaC,SAAC,yBAC7BI,cAAA,OAAKL,UAAU,cAAaC,SAAC,kCAC7BI,cAAA,OAAKL,UAAU,cAAaC,SAAC,gD,sBCqF1CoC,MArXWC,IAAqB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAnB,MAAEC,EAAQ,CAAC,GAAGN,EACvC,MAAOO,EAAWC,GAAgBhF,mBAAS,OACpCiF,EAASC,GAAclF,oBAAS,IAChCmF,EAAOC,GAAYpF,mBAAS,OAC7B,EAAEK,GAAME,cAEda,oBAAU,KACRiE,KACC,IAEH,MAAMA,EAAiBC,UACrB,IACEJ,GAAW,GACXE,EAAS,MAGT,MACM3G,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAEvF8G,EAAM,GAAA5F,OAAMlB,EAAO,eACzBa,QAAQC,IAAI,kDAAyCgG,GAErD,MAAMC,QAAYC,MAAMF,GAExB,IAAKC,EAAIE,GACP,MAAM,IAAIC,MAAM,QAADhG,OAAS6F,EAAII,OAAM,MAAAjG,OAAK6F,EAAIK,aAG7C,MAAMC,QAAaN,EAAIO,OAEvB,IAAID,EAAKE,QAGP,MAAM,IAAIL,MAAMG,EAAKX,OAAS,8BAF9BH,EAAac,EAAKG,MAItB,CAAE,MAAOd,GACP7F,QAAQ6F,MAAM,8CAA0CA,GACxDC,EAASD,EAAMe,SAEflB,EAAa,CACXtE,KAAM,sCACNyF,YAAa,oFACbC,UAAW,CAAC,mBAAoB,mBAAoB,cAAe,aAAc,qBACjFrB,UAAW,CACTsB,SAAU,SACVC,UAAW,yCACXC,WAAY,MACZC,iBAAkB,cAClBC,aAAc,CACZ,+BACA,kCACA,wBACA,mCACA,iCACA,0BAEFC,YAAa,CACXC,aAAc,OACdC,eAAgB,OAChBC,YAAa,YACbC,WAAY,cAIpB,CAAC,QACC5B,GAAW,EACb,GAGF,OAAID,EAEA1C,cAAA,OAAKuC,MAAKiC,YAAA,CACRC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACRC,UAAW,UACRtC,GACH3C,SACAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,IAAK,QACLrF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRP,OAAQ,oBACRQ,UAAW,wBACXV,aAAc,MACdW,UAAW,6BAEbrF,cAAA,QAAMuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,OAAQC,WAAY,OAAQ5F,SACpE9B,EAAE,oCAOR0E,EAKH9C,eAAA,OAAK6C,MAAKiC,YAAA,CACRC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,qBACLrC,GACH3C,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdQ,MAAO,OACPC,OAAQ,OACRL,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVD,MAAO,OACPI,UAAW,sCACX9F,SAAC,iBAGHF,eAAA,OAAAE,SAAA,CACEI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,YACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACC4C,EAAUrE,OAEbuB,eAAA,KAAG6C,MAAO,CACRoD,OAAQ,IACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SAAA,CACoB,QADpBsC,EACCM,EAAUA,iBAAS,IAAAN,OAAA,EAAnBA,EAAqB4B,SAAS,WAAuB,QAApB3B,EAACK,EAAUA,iBAAS,IAAAL,OAAA,EAAnBA,EAAqB6B,WAAW,WAAuB,QAApB5B,EAACI,EAAUA,iBAAS,IAAAJ,OAAA,EAAnBA,EAAqB6B,0BAMlGjE,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,aACRL,MAAO,UACPM,WAAY,MACZL,SAAU,QACV3F,SACC4C,EAAUoB,eAIO,QAAnBvB,EAAAG,EAAUA,iBAAS,IAAAH,OAAA,EAAnBA,EAAqB6B,eACpBxE,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,QAAS7F,SAAA,CACnCF,eAAA,MAAI6C,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SAAA,CAAC,gBACG9B,EAAE,wCAERkC,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,OACLrF,SACC4C,EAAUA,UAAU0B,aAAanD,IAAI,CAAC+E,EAAY/D,IACjDrC,eAAA,OAAiB6C,MAAO,CACtBkC,WAAY,0BACZG,OAAQ,oCACRF,aAAc,MACdC,QAAS,WACTY,SAAU,OACVD,MAAO,UACPE,WAAY,OACZ5F,SAAA,CAAC,UACEkG,IATK/D,UAiBE,QAAnBO,EAAAE,EAAUA,iBAAS,IAAAF,OAAA,EAAnBA,EAAqB6B,cACpBzE,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,QAAS7F,SAAA,CACnCF,eAAA,MAAI6C,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SAAA,CAAC,gBACG9B,EAAE,2CAER4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,QACLrF,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,yBACZG,OAAQ,mCACRF,aAAc,MACdC,QAAS,OACTE,UAAW,UACXjF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,WACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,MAAOF,MAAO,WAAY1F,SACnE4C,EAAUA,UAAU2B,YAAYC,eAEnCpE,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQD,MAAO,WAAY1F,SAAE9B,EAAE,uCAEzD4B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,0BACZG,OAAQ,oCACRF,aAAc,MACdC,QAAS,OACTE,UAAW,UACXjF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,iBACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,MAAOF,MAAO,WAAY1F,SACnE4C,EAAUA,UAAU2B,YAAYE,iBAEnCrE,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQD,MAAO,WAAY1F,SAAE9B,EAAE,yCAEzD4B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,0BACZG,OAAQ,oCACRF,aAAc,MACdC,QAAS,OACTE,UAAW,UACXjF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,iBACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,MAAOF,MAAO,WAAY1F,SACnE4C,EAAUA,UAAU2B,YAAYG,cAEnCtE,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQD,MAAO,WAAY1F,SAAE9B,EAAE,sCAEzD4B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,0BACZG,OAAQ,oCACRF,aAAc,MACdC,QAAS,OACTE,UAAW,UACXjF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,WACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,MAAOF,MAAO,WAAY1F,SACnE4C,EAAUA,UAAU2B,YAAYI,aAEnCvE,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQD,MAAO,WAAY1F,SAAE9B,EAAE,2CAO9D0E,EAAUwB,YACTtE,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,QAAS7F,SAAA,CACnCF,eAAA,MAAI6C,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SAAA,CAAC,gBACG9B,EAAE,uCAER4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,OACLrF,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,2BACZG,OAAQ,qCACRF,aAAc,MACdC,QAAS,WACTY,SAAU,QACV3F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWE,WAAY,OAAQ5F,SAAE9B,EAAE,mCACxDkC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,WAAY1F,SAAE4C,EAAUwB,WAAW+B,iBAE1DrG,eAAA,OAAK6C,MAAO,CACVkC,WAAY,2BACZG,OAAQ,qCACRF,aAAc,MACdC,QAAS,WACTY,SAAU,QACV3F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWE,WAAY,OAAQ5F,SAAE9B,EAAE,iCACxDkC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,WAAY1F,SAAE4C,EAAUwB,WAAWgC,UAAUC,sBAEpEvG,eAAA,OAAK6C,MAAO,CACVkC,WAAY,2BACZG,OAAQ,qCACRF,aAAc,MACdC,QAAS,WACTY,SAAU,QACV3F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWE,WAAY,OAAQ5F,SAAE9B,EAAE,4BACxDkC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,WAAY1F,SAAE4C,EAAUwB,WAAWkC,gBAOhExG,eAAA,OAAAE,SAAA,CACEF,eAAA,MAAI6C,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SAAA,CAAC,gBACG9B,EAAE,uCAERkC,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTqB,SAAU,OACVlB,IAAK,OACLrF,SACC4C,EAAUqB,UAAU9C,IAAI,CAACqF,EAAUrE,IAClC/B,cAAA,QAAkBuC,MAAO,CACvBkC,WAAY,UACZa,MAAO,OACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,OACZ5F,SACCwG,GARQrE,SAchBa,GACClD,eAAA,OAAK6C,MAAO,CACV8D,UAAW,OACX1B,QAAS,OACTF,WAAY,UACZG,OAAQ,oBACRF,aAAc,MACda,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,2BAA2B,OAAU,IAAE8E,KAItD5C,cAAA,SAAOsG,KAAG,EAAA1G,SAAA,gJArQL,MCwKI2G,MA5QFA,KACX,MAAOC,EAAWC,GAAgBhJ,mBAAS,KACpCiJ,EAAUC,GAAelJ,mBAAS,KAClCmJ,EAAWC,GAAgBpJ,oBAAS,IACpCmF,EAAOC,GAAYpF,mBAAS,KAC5BqJ,EAAqBC,GAA0BtJ,mBAAS,KACxD+E,EAAWC,GAAgBhF,mBAAS,OACpCuJ,EAAiBC,GAAsBxJ,mBAAS,KAChDyJ,EAAeC,GAAoB1J,mBAAS,SAC7C,EAAEK,GAAME,cAGda,oBAAU,KACRuI,KACC,IAEH,MAAMA,EAAsBrE,UAC1B,IACE,MAAM2D,QAAiBxD,MAAM,yBACvBK,QAAamD,EAASlD,OACxBD,EAAKE,UACPwD,EAAmB1D,EAAK8D,QACxB5E,EAAac,GAEjB,CAAE,MAAOX,GACP7F,QAAQI,KAAK,mCAAoCyF,EACnD,GAkCI0E,EAAevE,MAAOwE,EAAMC,KAEhC,MACMtL,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAE7F,IAAKA,GAAWA,EAAQS,SAAS,mBAC/B,MAAM,IAAIyG,MAAM,kGAGlB,MAAMsD,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,UAAU,CAC/CuL,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBN,KAAMA,EACNT,oBAAqBU,MAIzB,IAAKd,EAASvD,GAAI,CAChB,MAAM2E,QAAkBpB,EAASlD,OAAOuE,MAAM,MAAS,IACvD,MAAM,IAAI3E,MAAM0E,EAAUlF,OAAS,wCACrC,CAGA,aADmB8D,EAASlD,QAChBkD,UAGRsB,EAAiB,CACrBlK,EAAE,iBACFA,EAAE,iBACFA,EAAE,iBACFA,EAAE,kBAaJ,OACE4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,sBACVkC,cAAA,KAAAJ,SAAI9B,EAAE,iCAGR4B,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAE3BI,cAAA,OAAKL,UAAU,qBAAoBC,SACjCI,cAACgC,EAAiB,CAACO,MAAO,CAAEkD,aAAc,YAI5C/F,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACtCF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,0BACV4B,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCI,cAAA,OAAKL,UAAU,aAAYC,SAAC,iBAC5BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,qBACPkC,cAAA,KAAAJ,SAAI9B,EAAE,sCAGTkJ,EAAgBjG,IAAI2C,GACnBhE,eAAA,OAAqBC,UAAU,eAAcC,SAAA,CAC3CI,cAAA,OAAKL,UAAU,aAAYC,SAAC,iBAC5BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK8D,EAAMvF,OACX6B,cAAA,KAAAJ,SAAI8D,EAAME,cACVlE,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC7B8D,EAAMG,UAAUoE,MAAM,EAAG,GAAGlH,IAAI,CAACqF,EAAUrE,IAC1C/B,cAAA,QAAkBL,UAAU,eAAcC,SAAEwG,GAAjCrE,IAEZ2B,EAAMG,UAAUjF,OAAS,GACxBc,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAC,IAAE8D,EAAMG,UAAUjF,OAAS,EAAE,mBAV5D8E,EAAMwE,YAoBrBpB,EAAoBlI,OAAS,GAC5Bc,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,wBACV4B,eAAA,UAAQK,QAvDMoI,KACxBpB,EAAuB,IACvBJ,EAAY,IACZ9D,EAAS,KAoDqClD,UAAU,yBAAwBC,SAAA,CAAC,sBAChE9B,EAAE,wBAGXkC,cAAA,OAAKL,UAAU,qBAAoBC,SAChCkH,EAAoB/F,IAAI,CAAC4C,EAAS5B,IACjCrC,eAAA,OAAiBC,UAAS,WAAAvC,OAAauG,EAAQrD,MAAOV,SAAA,CACpDI,cAAA,OAAKL,UAAU,kBAAiBC,SAC7B+D,EAAQyE,UAEXpI,cAAA,OAAKL,UAAU,oBAAmBC,SAC/B+D,EAAQ0E,UAAUC,yBALbvG,SAalBrC,eAAA,QAAM6I,SAjJSxF,UAGnB,GAFApC,EAAE6H,iBAEGhC,EAAUiC,OAAf,CAKA5B,GAAa,GACbhE,EAAS,IACT8D,EAAY,IAEZ,IAEE,MAAM+B,EAAc,CAAEpI,KAAM,OAAQ8H,QAAS5B,EAAW6B,UAAW,IAAIM,MACvE5B,EAAuBxF,GAAQ,IAAIA,EAAMmH,IAGzC,MAAME,QAAetB,EAAad,EAAWM,GAC7CH,EAAYiC,GAGZ,MAAMC,EAAY,CAAEvI,KAAM,YAAa8H,QAASQ,EAAQP,UAAW,IAAIM,MACvE5B,EAAuBxF,GAAQ,IAAIA,EAAMsH,GAC3C,CAAE,MAAOC,GACPjG,EAAS,UAADzF,OAAW0L,EAAInF,SACzB,CAAC,QACCkD,GAAa,EACf,CAtBA,MAFEhE,EAAS/E,EAAE,oBA6IqB6B,UAAU,YAAWC,SAAA,CACjDF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,SAAOO,QAAQ,YAAWX,SAAE9B,EAAE,sBAC9BkC,cAAA,YACEQ,GAAG,YACHC,MAAO+F,EACP9F,SAAWC,GAAM8F,EAAa9F,EAAEG,OAAOL,OACvCsI,YAAajL,EAAE,+BACfkL,KAAK,IACLrJ,UAAU,kBAIdD,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,gCACVkC,cAAA,OAAKL,UAAU,iBAAgBC,SAC5BoI,EAAejH,IAAI,CAACkI,EAAQlH,IAC3B/B,cAAA,UAEEkJ,KAAK,SACLnJ,QAASA,KAjGvB0G,EAiGgDwC,IAClCtJ,UAAU,cAAaC,SAEtBqJ,GALIlH,SAWb/B,cAAA,UACEkJ,KAAK,SACLC,SAAUvC,IAAcJ,EAAUiC,OAClC9I,UAAU,aAAYC,SAErBgH,EAAY9I,EAAE,iBAAmB,gBAAQA,EAAE,yBAI/C8E,GACClD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5BgD,KAIJgE,GACClH,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAChCI,cAAA,OAAKL,UAAU,oBACfK,cAAA,KAAAJ,SAAI9B,EAAE,wBAIT4I,GAA2C,IAA/BI,EAAoBlI,QAC/Bc,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,sBACVkC,cAAA,OAAKL,UAAU,mBAAkBC,SAC/BI,cAAA,OAAAJ,SAAM8G,MAERhH,eAAA,UACEK,QAASA,IAAMqJ,UAAUC,UAAUC,UAAU5C,GAC7C/G,UAAU,WAAUC,SAAA,CACrB,gBACK9B,EAAE,8BAMd4B,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,yBACV4B,eAAA,MAAAE,SAAA,CACEF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAS9B,EAAE,gBAAuB,0CACtC4B,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAS9B,EAAE,gBAAuB,IAAEA,EAAE,wBAC1C4B,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAS9B,EAAE,uBAA8B,IAAEA,EAAE,4BACjD4B,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAS9B,EAAE,eAAsB,IAAEA,EAAE,2BAG3C4B,eAAA,OAAKC,UAAU,WAAUC,SAAA,CACvBF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,sBACVkC,cAAA,OAAKL,UAAU,aAAYC,SAAA,qK,MC+HtB2J,MA9XKA,KAClB,MAAOC,EAAOC,GAAYhM,mBAAS,KAC5BiJ,EAAUC,GAAelJ,mBAAS,KAClCiF,EAASC,GAAclF,oBAAS,IAChCmF,EAAOC,GAAYpF,mBAAS,KAC5BiM,EAAiBC,GAAsBlM,mBAAS,OAChD+E,EAAWC,GAAgBhF,mBAAS,OACpCuJ,EAAiBC,GAAsBxJ,mBAAS,KAChDyJ,EAAeC,GAAoB1J,mBAAS,SAC5CqJ,EAAqBC,GAA0BtJ,mBAAS,KACzD,EAAEK,GAAME,cAGda,oBAAU,KACRuI,KACC,IAEH,MAAMA,EAAsBrE,UAC1B,IACE,MAAM2D,QAAiBxD,MAAM,yBACvBK,QAAamD,EAASlD,OACxBD,EAAKE,UACPwD,EAAmB1D,EAAK8D,QACxB5E,EAAac,GAEjB,CAAE,MAAOX,GACP7F,QAAQI,KAAK,mCAAoCyF,EACnD,GAwIIgH,EAAmBC,GACnBA,GAAS,GAAY,UACrBA,GAAS,GAAY,UAClB,UAUT,OACEnK,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACrCF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,KAAAJ,SAAG,yFAGLF,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CAInCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,SAAAJ,SAAO,kCACPF,eAAA,UACEe,MAAOyG,EACPxG,SAAWC,GAAMwG,EAAiBxG,EAAEG,OAAOL,OAC3Cd,UAAU,eAAcC,SAAA,CAExBI,cAAA,UAAQS,MAAM,OAAMb,SAAC,2CACpBoH,EAAgBjG,IAAI2C,GACnBhE,eAAA,UAAwBe,MAAOiD,EAAMwE,IAAItI,SAAA,CACtC8D,EAAMvF,KAAK,MAAIuF,EAAMG,UAAUiG,KAAK,QAD1BpG,EAAMwE,YAQzBxI,eAAA,QAAM6I,SA9KSxF,UAEnB,GADApC,EAAE6H,iBACGgB,EAAMf,OAAX,CAKA9F,GAAW,GACXE,EAAS,IACT8D,EAAY,IACZgD,EAAmB,MAEnB,IACE,MAAMI,EAAc,CAClBxC,KAAMiC,EACN1C,oBAAqBA,EACrBkD,QAAS,CACPC,WAAY,UACZC,OAAQ,UACRC,QAAS,WAKS,SAAlBjD,IACF6C,EAAYC,QAAQI,WAAalD,GAGnC,MAAMjE,QAAYC,MAAM,oBAAqB,CAC3CuE,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUkC,KAGjBxG,QAAaN,EAAIO,OAEvB,GAAID,EAAKE,QAAS,CAChBkD,EAAYpD,EAAKmD,UACjBiD,EAAmBpG,EAAKmG,iBAGxB,MAAMW,EAAa,IACdvD,EACH,CAAExG,KAAM,OAAQ8H,QAASoB,GACzB,CAAElJ,KAAM,YAAa8H,QAAS7E,EAAKmD,WAErCK,EAAuBsD,EAAWpC,OAAO,IAC3C,MACEpF,EAASU,EAAKX,OAAS,8BAE3B,CAAE,MAAOkG,GACPjG,EAAS,kBAAoBiG,EAAInF,QACnC,CAAC,QACChB,GAAW,EACb,CAjDA,MAFEE,EAAS,8BA2KuBlD,UAAU,aAAYC,SAAA,CAClDF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,SAAAJ,SAAO,+BACPI,cAAA,YACES,MAAO+I,EACP9I,SAAWC,GAAM8I,EAAS9I,EAAEG,OAAOL,OACnCsI,YAAY,2GACZC,KAAM,EACNrJ,UAAU,iBACV2K,UAAQ,OAIZ5K,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,UAAQkJ,KAAK,SAASC,SAAUzG,EAAS/C,UAAU,aAAYC,SAC5D8C,EAAU,6BAAqB,4CAGlC1C,cAAA,UACEkJ,KAAK,SACLnJ,QAzImBgD,UAC7B,GAAK2D,EAAS+B,OAKd,IACE,MAAMxF,QAAYC,MAAM,gCAAiC,CACvDuE,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBnB,SAAUA,EACV6D,YAAa,UACbP,QAAS,CAAER,MAAOA,OAIhBjG,QAAaN,EAAIO,OACnBD,EAAKE,QACPkG,EAAmBpG,EAAKmG,iBAExB7G,EAASU,EAAKX,OAAS,qCAE3B,CAAE,MAAOkG,GACPjG,EAAS,kBAAoBiG,EAAInF,QACnC,MAvBEd,EAAS,2BAwIDsG,UAAWzC,GAAYhE,EACvB/C,UAAU,cAAaC,SACxB,iCAIDI,cAAA,UACEkJ,KAAK,SACLnJ,QAtHUgD,UACpB,GAAKyG,EAAMf,OAAX,CAKA9F,GAAW,GACXE,EAAS,IAET,IACE,MAAMI,QAAYC,MAAM,sBAAuB,CAC7CuE,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBN,KAAMiC,EACNQ,QAAS,CAAEC,WAAY,eAIrB1G,QAAaN,EAAIO,OACnBD,EAAKE,SAEP1G,QAAQC,IAAI,oBAAqBuG,EAAKiH,YACtCC,MAAM,6CAADrN,OAA8CmG,EAAKiH,WAAWE,iBAAgB,kBAAAtN,QAA+C,IAA7BmG,EAAKiH,WAAWG,YAAkBC,QAAQ,GAAE,OAEjJ/H,EAASU,EAAKX,OAAS,2BAE3B,CAAE,MAAOkG,GACPjG,EAAS,kBAAoBiG,EAAInF,QACnC,CAAC,QACChB,GAAW,EACb,CA3BA,MAFEE,EAAS,8BAqHDsG,UAAWK,GAAS9G,EACpB/C,UAAU,cAAaC,SACxB,gCAIDI,cAAA,UACEkJ,KAAK,SACLnJ,QA7FcoI,KACxBpB,EAAuB,IACvBJ,EAAY,IACZgD,EAAmB,MACnB9G,EAAS,KA0FClD,UAAU,YAAWC,SACtB,mCAOJgD,GACC5C,cAAA,OAAKL,UAAU,gBAAeC,SAC5BF,eAAA,QAAAE,SAAA,CAAM,gBAAIgD,OAKb8D,GACChH,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,UAAQD,QA1GI8K,KAClBnE,IACF0C,UAAUC,UAAUC,UAAU5C,GAC9B+D,MAAM,mCAuGoC9K,UAAU,WAAUC,SAAC,yBAIzDI,cAAA,OAAKL,UAAU,mBAAkBC,SAC/BI,cAAA,OAAAJ,SAAM8G,SAMXgD,GACChK,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,MAAAJ,SAAI,2CAEJI,cAAA,OAAKL,UAAU,mBAAkBC,SAC/BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,QAAML,UAAU,cAAaC,SAAC,qBAC9BF,eAAA,QACEC,UAAU,cACV4C,MAAO,CAAE+C,MAAOsE,EAAgBF,EAAgBoB,eAAgBlL,SAAA,EAjHvDiK,EAmHQH,EAAgBoB,aAlH3CjB,GAAS,GAAY,YACrBA,GAAS,GAAY,OACrBA,GAAS,GAAY,OAClB,QA+GsD,KAAGH,EAAgBoB,aAAaF,QAAQ,GAAG,YAKhGlL,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,MAAAJ,SAAI,kCACJI,cAAA,OAAKL,UAAU,eAAcC,SAC1BmL,OAAOC,QAAQtB,EAAgBuB,SAASlK,IAAIkB,IAAA,IAAEiJ,EAAQrB,GAAM5H,EAAA,OAC3DvC,eAAA,OAAkBC,UAAU,cAAaC,SAAA,CACvCF,eAAA,QAAMC,UAAU,eAAcC,SAAA,CAAEsL,EAAOC,OAAO,GAAGC,cAAgBF,EAAOjD,MAAM,GAAG,OACjFvI,eAAA,QACEC,UAAU,eACV4C,MAAO,CAAE+C,MAAOsE,EAAgBC,IAASjK,SAAA,EAE/B,IAARiK,GAAae,QAAQ,GAAG,SANpBM,UAafxB,EAAgB7F,UAAUjF,OAAS,GAClCc,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAChCI,cAAA,MAAAJ,SAAI,qBACJI,cAAA,MAAAJ,SACG8J,EAAgB7F,UAAU9C,IAAI,CAACqF,EAAUrE,IACxC/B,cAAA,MAAAJ,SAAiBwG,GAARrE,SAMhB2H,EAAgB2B,WAAWzM,OAAS,GACnCc,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCI,cAAA,MAAAJ,SAAI,uCACJI,cAAA,MAAAJ,SACG8J,EAAgB2B,WAAWtK,IAAI,CAACuK,EAAUvJ,IACzC/B,cAAA,MAAAJ,SAAiB0L,GAARvJ,SAMhB2H,EAAgB6B,YAAY3M,OAAS,GACpCc,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,MAAAJ,SACG8J,EAAgB6B,YAAYxK,IAAI,CAACyK,EAAYzJ,IAC5C/B,cAAA,MAAAJ,SAAiB4L,GAARzJ,SAMjBrC,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,MAAAJ,SAAI,kCACJF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAAJ,SAAM,eACNI,cAAA,QAAML,UAAU,eAAcC,SAAE8J,EAAgB+B,eAElD/L,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAAJ,SAAM,gBACNI,cAAA,QAAML,UAAU,eAAcC,SAAE8J,EAAgBgC,gBAElDhM,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAAJ,SAAM,gBACNI,cAAA,QAAML,UAAU,eAAcC,SAAE8J,EAAgBiC,UAAU/M,YAE5Dc,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAAJ,SAAM,WACNI,cAAA,QAAML,UAAU,eAAcC,SAAE8J,EAAgBkC,kBAAkBC,oBAQ3E/E,EAAoBlI,OAAS,GAC5Bc,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,OAAKL,UAAU,eAAcC,SAC1BkH,EAAoB/F,IAAI,CAAC+K,EAAK/J,IAC7BrC,eAAA,OAAiBC,UAAS,gBAAAvC,OAAkB0O,EAAIxL,MAAOV,SAAA,CACrDI,cAAA,QAAML,UAAU,aAAYC,SAAe,SAAbkM,EAAIxL,KAAkB,oBAAY,qBAChEZ,eAAA,QAAMC,UAAU,kBAAiBC,SAAA,CAAEkM,EAAI1D,QAAQ2D,UAAU,EAAG,KAAK,WAFzDhK,eAxMC8H,O,MCogBZmC,MA7qBU/J,IAAgH,IAA/G,aAAEgK,EAAY,YAAElD,EAAc,2BAA0B,SAAEI,GAAW,EAAK,qBAAE+C,GAAuB,GAAMjK,EAC/H,MAAOkK,EAAaC,GAAkB3O,oBAAS,IACxC4O,EAAYC,GAAiB7O,mBAAS,KACtC8O,EAAmBC,GAAwB/O,mBAAS,KACpDmF,EAAOC,GAAYpF,mBAAS,KAC5BgP,EAAaC,GAAkBjP,oBAAS,IACxCkP,EAAeC,GAAoBnP,oBAAS,IAC5CC,EAAUC,GAAeF,oBAAS,IAClCoP,EAAYC,GAAiBrP,mBAAS,IACtCsP,EAAaC,GAAkBvP,mBAAS,KACxCwP,EAAiBC,GAAsBzP,oBAAS,IAChD0P,EAAYC,GAAiB3P,mBAAS,KACtC4P,EAAaC,GAAkB7P,oBAAS,IACxC8P,EAAoBC,GAAyB/P,mBAAS,IAEvDgQ,EAAiBC,iBAAO,MACxBC,EAAaD,iBAAO,OACpB,EAAE5P,GAAME,cAEda,oBAAU,KAEwB+O,MAC1B,MAAMC,EAAYzE,UAAUyE,WAAazE,UAAU0E,QAAUtR,OAAOuR,MAC9DC,EAAiB,iEAAiEC,KAAKJ,EAAUK,eACvGvQ,EAAYqQ,GAGZ,IAAIG,EAAU,UACVN,EAAUlR,SAAS,UAAWwR,EAAU,SACnCN,EAAUlR,SAAS,UAAWwR,EAAU,SACxCN,EAAUlR,SAAS,WAAYwR,EAAU,UACzCN,EAAUlR,SAAS,UAASwR,EAAU,QAE/CnB,EAAe,GAAD5P,OAAI+Q,EAAO,QAAA/Q,OAAO4Q,EAAiB,SAAW,aAGhEJ,GACAQ,IAEO,KACH,GAAIX,EAAeY,QACf,IACIZ,EAAeY,QAAQC,OAC3B,CAAE,MAAO3N,GACL5D,QAAQC,IAAI,iBAAkB2D,EAClC,CAEAgN,EAAWU,SACXE,aAAaZ,EAAWU,WAGjC,IAGHxP,oBAAU,OAEP,IAEH,MAAMuP,EAA8BA,KAChC,IAEI,MAAMI,EAAoBhS,OAAOgS,mBACThS,OAAOiS,yBACPjS,OAAOkS,sBACPlS,OAAOmS,oBAE/B,IAAKH,EAGD,OAFA3L,EAAS,0CAADzF,OAA2C2P,EAAW,+CAC9DL,GAAe,GAKnBe,EAAeY,QAAU,IAAIG,EAC7BI,IACAlC,GAAe,GACfE,GAAiB,GACjBE,EAAc,EAElB,CAAE,MAAOlK,GACL7F,QAAQ6F,MAAM,2CAA4CA,GAC1DC,EAAS,mFACT6J,GAAe,EACnB,GAGEkC,EAAmBA,KACrB,MAAMC,EAAcpB,EAAeY,QAE9BQ,IAGLA,EAAYC,YAAcpR,EAC1BmR,EAAYE,gBAAiB,EAC7BF,EAAYrQ,KAAO,QACnBqQ,EAAYG,gBAAkBtR,EAAW,EAAI,EAGzCA,IACAmR,EAAYC,YAAa,EACzBD,EAAYG,gBAAkB,EAE9BH,EAAY1S,QAAU,KAI1B0S,EAAYI,QAAU,KAClBlS,QAAQC,IAAI,8BACZoP,GAAe,GACfvJ,EAAS,IAGLnF,IACAiQ,EAAWU,QAAUa,WAAW,KACxB/C,IAAgBI,IAChBxP,QAAQC,IAAI,gCACZmS,IACAtM,EAAS,oDAEd,QAIXgM,EAAYO,SAAYC,IACpB,IAAIC,EAAkB,GAClB/C,EAAoB,GAExB,IACI,IAAK,IAAIgD,EAAIF,EAAMG,YAAaD,EAAIF,EAAMI,QAAQ7Q,OAAQ2Q,IAAK,CAC3D,MAAMG,EAAmBL,EAAMI,QAAQF,GAAG,GAAGlD,WACzCgD,EAAMI,QAAQF,GAAGI,QACjBL,GAAmBI,EAEnBnD,GAAqBmD,CAE7B,CAIA,GAFA3S,QAAQC,IAAI,4BAA6B,CAAEsS,kBAAiB/C,sBAExD+C,EAAiB,CACjB,MAAMM,EAAgBvD,EAAaiD,EACnC9C,EAAqB,IAGjBmB,EAAWU,UACXE,aAAaZ,EAAWU,SACxBV,EAAWU,QAAU,MAIzBwB,EAAkBD,GAAe,EACrC,MACIpD,EAAqBD,EAE7B,CAAE,MAAO3J,GACL7F,QAAQ6F,MAAM,8CAA+CA,GAC7DC,EAAS,6CACb,GAGJgM,EAAYiB,QAAWT,IACnBtS,QAAQ6F,MAAM,4BAA6ByM,EAAMzM,OACjDwJ,GAAe,GAGXuB,EAAWU,UACXE,aAAaZ,EAAWU,SACxBV,EAAWU,QAAU,MAGzB,IAAI0B,EAAe,GACnB,OAAQV,EAAMzM,OACV,IAAK,YACDmN,EAAerS,EACT,+HACA,iDACN,MACJ,IAAK,gBACDqS,EAAerS,EACT,mGACA,gFACN,MACJ,IAAK,cACDqS,EAAerS,EACT,2IACA,0GACN,MACJ,IAAK,UACDqS,EAAe,sEACf,MACJ,IAAK,sBACDA,EAAe,0EACf,MACJ,IAAK,cACDA,EAAe,sEACf,MACJ,IAAK,yBACDA,EAAe,0DACf,MACJ,IAAK,UACDA,EAAe,wDACf,MACJ,QACIA,EAAY,6BAAA3S,OAAgCiS,EAAMzM,MAAK,uBAG/DC,EAASkN,GAGTjD,EAAcvL,GAAQA,EAAO,IAGjCsN,EAAYmB,MAAQ,KAChBjT,QAAQC,IAAI,4BACZoP,GAAe,GAGXuB,EAAWU,UACXE,aAAaZ,EAAWU,SACxBV,EAAWU,QAAU,MAIrB3Q,GAAYmP,EAAa,GACzBqC,WAAW,MACF/C,GAAeU,EAAa,IAC7B9P,QAAQC,IAAI,yCACZiT,MAEL,MAIXpB,EAAYqB,aAAe,KACvBnT,QAAQC,IAAI,4BAGhB6R,EAAYsB,WAAa,KACrBpT,QAAQC,IAAI,0BAGhB6R,EAAYuB,aAAe,KACvBrT,QAAQC,IAAI,mBAGhB6R,EAAYwB,WAAa,KACrBtT,QAAQC,IAAI,gBAGhB6R,EAAYyB,cAAgB,KACxBvT,QAAQC,IAAI,mBAGhB6R,EAAY0B,YAAc,KACtBxT,QAAQC,IAAI,mBAIdiT,EAAiBA,KACnB,GAAKxD,IAAetD,GAAawD,EAKjC,IACI9J,EAAS,IACT9F,QAAQC,IAAI,kCAGZ8P,EAAc,GAEdW,EAAeY,QAAQmC,OAC3B,CAAE,MAAO5N,GACL7F,QAAQ6F,MAAM,qCAAsCA,GACpDC,EAAS,yDAGTqM,WAAW,KACPnS,QAAQC,IAAI,oDACZoR,KACD,IACP,MArBIrR,QAAQC,IAAI,0BAA2B,CAAEyP,cAAatD,WAAUwD,mBAwBlEwC,EAAgBA,KAClB,GAAI1B,EAAeY,SAAWlC,EAC1B,IACIpP,QAAQC,IAAI,kCACZyQ,EAAeY,QAAQoC,OAGnB9C,EAAWU,UACXE,aAAaZ,EAAWU,SACxBV,EAAWU,QAAU,KAE7B,CAAE,MAAOzL,GACL7F,QAAQ6F,MAAM,qCAAsCA,EACxD,GAqCF8N,EAAsBA,KACxB7N,EAAS,IACT+J,GAAiB,GACjBsC,WAAW,KACPd,KACD,MAcDuC,EAAoBA,KACtBzD,GAAoBD,GAChBA,GACAG,EAAc,KAKhBwD,EAA2B7N,UAQ7B,GAPAhG,QAAQC,IAAI,yBAA0B,CAClCkP,uBACA2E,WAAW,EACXC,gBAAiBC,EAActI,OAC/BuI,iBAAkBD,EAAcnS,UAG/BsN,IAAyB6E,EAActI,OAMxC,OALA1L,QAAQC,IAAI,2BAA4B,CACpCkP,uBACA2E,WAAW,EACXC,gBAAiBC,EAActI,SAE5BsI,EAGXzD,GAAe,GACfzK,EAAS,IAET,IACI,MAAMoG,EAAM,uPAAA7L,OAEA2T,EAAa,8BAIzBhU,QAAQC,IAAI,mCAAoC,CAAEiM,WAElD,MAAMvC,QAAiBxD,MAAM,aAAc,CACvCuE,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBoB,OAAQA,MAMhB,GAFAlM,QAAQC,IAAI,uBAAwB0J,EAASrD,SAExCqD,EAASvD,GACV,MAAM,IAAIC,MAAM,iCAADhG,OAAkCsJ,EAASrD,SAG9D,MAAME,QAAamD,EAASlD,OAG5B,GAFAzG,QAAQC,IAAI,qBAAsBuG,GAE9BA,EAAKE,SAAWF,EAAKmD,SAAU,CAC/B,MAAMuK,EAAW1N,EAAKmD,SAAS+B,OAE/B,OADA1L,QAAQC,IAAI,2BAA4B,CAAEkU,SAAUH,EAAeE,aAC5DA,CACX,CAEI,OADAlU,QAAQI,KAAK,qDAAsDoG,GAC5DwN,CAEf,CAAE,MAAOnO,GAGL,OAFA7F,QAAQ6F,MAAM,yBAA0BA,GACxCC,EAAS,iEACFkO,CACX,CAAC,QACGzD,GAAe,EACnB,GAIEuC,EAAoB9M,eAAO6M,GAC7B,GADmDuB,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,IAAAA,UAAA,IACpCjF,EAAsB,CAEjCI,EAAcsD,GAGd,MAAMqB,QAAiBL,EAAyBhB,GAG5CqB,IAAarB,GACbpC,EAAsByD,GACtBlU,QAAQC,IAAI,iCAAkC,CAAEkU,SAAUtB,EAAeqB,cAEzEzD,EAAsB,IAItBvB,GACAA,EAAa2D,EAErB,MAEItD,EAAcsD,GACdpC,EAAsB,IAElBvB,GACAA,EAAa2D,EAGzB,EAGMyB,EAAsBtO,UAOxB,GANAhG,QAAQC,IAAI,iCACZD,QAAQC,IAAI,wBAAyBkP,GACrCnP,QAAQC,IAAI,sBAAuBqP,IAI9BA,EAAW5D,OAEZ,YADA1L,QAAQ6F,MAAM,mCAIlB7F,QAAQC,IAAI,2CACZ,MAAMiU,QAAiBL,EAAyBvE,GAChDtP,QAAQC,IAAI,mBAAoBiU,IAWpC,GAPApS,oBAAU,KACgB,qBAAXrC,SACPA,OAAO8U,sBAAwBD,EAC/BtU,QAAQC,IAAI,8DAEjB,CAACqP,EAAYH,KAEXO,EACD,OACI/M,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACpCI,cAAA,OAAKL,UAAU,aAAYC,SAAC,iBAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,oDACPkC,cAAA,KAAAJ,SAAIgD,IACJ5C,cAAA,OAAKL,UAAU,gBAAeC,SAC1BF,eAAA,UAAQK,QAAS2Q,EAAqB/Q,UAAU,YAAWC,SAAA,CAAC,gBACpD9B,EAAE,kCAGd4B,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBF,eAAA,MAAAE,SAAA,CAAK9B,EAAE,+BAA+B,OACtC4B,eAAA,MAAAE,SAAA,CACII,cAAA,MAAAJ,SAAK9B,EAAE,wCACPkC,cAAA,MAAAJ,SAAK9B,EAAE,iDACPkC,cAAA,MAAAJ,SAAK9B,EAAE,mCACPkC,cAAA,MAAAJ,SAAK9B,EAAE,+CAO3B,MAAMyT,EAAclF,GAAcE,GAAqBxD,EACjDyI,EAAWrF,GAAeI,EAEhC,OACI7M,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAE7BsM,GACGxM,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACrCF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,QAAML,UAAU,mBAAkBC,SAAC,iBACnCI,cAAA,QAAML,UAAU,mBAAkBC,SAC7ByN,EAAc,kBAAoB,yBAEvCrN,cAAA,QAAML,UAAU,iBAAgBC,SAAC,4CAIpCyM,IAAegB,GACZ3N,eAAA,UACIK,QAASA,IAAM6Q,EAAyBvE,GACxC1M,UAAU,uBACVgC,MAAO7D,EAAE,oCAAoC8B,SAAA,CAChD,gBACO9B,EAAE,0CAMtB4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BF,eAAA,UACIC,UAAS,gBAAAvC,OAAkB+O,EAAc,YAAc,GAAE,KAAA/O,OAAI+L,EAAW,WAAa,IACrFpJ,QAtOc0R,KACtBtF,EACAgD,IAEAc,KAmOQ9G,SAAUA,EACV,aAAYgD,EAAc,iBAAmB,kBAAkBvM,SAAA,CAE/DI,cAAA,QAAML,UAAU,WAAUC,SACrBuM,EAAc,eAAO,iBAE1BnM,cAAA,QAAML,UAAU,cAAaC,SACxBuM,EAAezO,EAAW,cAAgB,gBAAoBA,EAAW,eAAiB,sBAInGgC,eAAA,UACIK,QAAS4Q,EACThR,UAAU,wBACVgC,MAAO7D,EAAE,iCACT,aAAYA,EAAE,qCAAqC8B,SAAA,CACtD,gBACO9B,EAAE,6BAGRuO,GAAcE,IACZ7M,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,UACIK,QAtPA8K,KACpB,MAAM6G,EAAarF,GAAcE,EAC7BmF,GACAtI,UAAUC,UAAUC,UAAUoI,GAAYC,KAAK,KAE3C,MAAMC,EAAeC,SAASlQ,MAC9BkQ,SAASlQ,MAAQ,uBACjBuN,WAAW,KACP2C,SAASlQ,MAAQiQ,GAClB,OACJ7J,MAAMe,IACL/L,QAAQ6F,MAAM,wBAAyBkG,MA4O3BnJ,UAAU,sBACVgC,MAAO7D,EAAE,oCACT,aAAYA,EAAE,8CAA8C8B,SAAA,CAC/D,gBACO9B,EAAE,4BAEV4B,eAAA,UACIK,QA/QA+R,KACpBxF,EAAc,IACdE,EAAqB,IACrBgB,EAAsB,IAClBvB,GACAA,EAAa,KA2QGtM,UAAU,uBACVgC,MAAO7D,EAAE,oCACT,aAAYA,EAAE,oCAAoC8B,SAAA,CACrD,sBACQ9B,EAAE,mCAOtBmP,GACGvN,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCI,cAAA,YACIS,MAAO0M,EACPzM,SAAWC,GAAMyM,EAAczM,EAAEG,OAAOL,OACxCsI,YAAajL,EAAE,uCACf6B,UAAU,kBACVqJ,KAAK,IACL+I,WAAS,IAEbrS,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCI,cAAA,UACID,QA9PEgD,UACtB,GAAIoK,EAAW1E,OAAQ,CACnB,MAAMmH,EAAgBvD,EAAac,EACnCC,EAAc,IACdF,GAAmB,SAGb2C,EAAkBD,GAAe,EAC3C,GAuPoBjQ,UAAU,qBACVwJ,UAAWgE,EAAW1E,QAAU4E,EAAYzN,SAE3CyN,EAAc,4BAAoB,oBAEvC3N,eAAA,UACIK,QAAS4Q,EACThR,UAAU,wBAAuBC,SAAA,CACpC,UACM9B,EAAE,oCAMrB4B,eAAA,OAAKC,UAAS,mBAAAvC,OAAqBoU,EAAW,SAAW,IAAK5R,SAAA,CAC1DI,cAAA,OAAKL,UAAU,qBAAoBC,SAC9B2R,IAEJpF,GACGzM,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,OAAKL,UAAU,cACfK,cAAA,QAAAJ,SAAO9B,EAAE,mCAGhBuP,GACG3N,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,OAAKL,UAAU,sBACfD,eAAA,QAAAE,SAAA,CAAM,gBAAI9B,EAAE,yDAMvByP,GAAsBA,IAAuBlB,GAC1C3M,eAAA,OAAKC,UAAU,8BAA6BC,SAAA,CACxCI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,OAAKL,UAAU,mBAAkBC,SAC5B2N,IAEL7N,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BF,eAAA,UACIK,QAASA,KACLuM,EAAciB,GACVtB,GAAcA,EAAasB,IAEnC5N,UAAU,8BAA6BC,SAAA,CAC1C,UACM9B,EAAE,0CAET4B,eAAA,UACIK,QAASA,IAAMyN,EAAsB,IACrC7N,UAAU,+BAA8BC,SAAA,CAC3C,gBACO9B,EAAE,0CAMrB8E,GACGlD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC7BI,cAAA,QAAAJ,SAAOgD,IACPlD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BI,cAAA,UAAQD,QAAS2Q,EAAqB/Q,UAAU,aAAYC,SACvD9B,EAAE,+BAEPkC,cAAA,UAAQD,QAAS4Q,EAAmBhR,UAAU,cAAaC,SACtD9B,EAAE,wCAMlBJ,GACGgC,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,KAAAE,SAAA,CAAG,gBAAGF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,+BAA+B,OAAU,IAAEA,EAAE,iCAAiC,KAAGA,EAAE,oCAAoC,IAAEA,EAAE,mDAAmD,OAC/L4B,eAAA,KAAAE,SAAA,CAAG,gBAAGF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,gCAAgC,OAAU,IAAEA,EAAE,yCAC9DoO,GACGxM,eAAA,KAAAE,SAAA,CAAG,gBAAGF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,kCAAkC,OAAU,IAAEA,EAAE,+F,MCpZ1EkU,MAjRO/P,IAAmF,IAAlF,SAAEgQ,EAAQ,iBAAEC,EAAgB,eAAEC,EAAc,iBAAEC,EAAmB,WAAWnQ,EAC/F,MAAOoQ,EAAYC,GAAiB7U,oBAAS,IACtC8U,EAAoBC,GAAyB/U,oBAAS,IACtDgV,EAAiBC,GAAsBjV,mBAAS,KAChDkV,EAAYC,GAAiBnV,mBAAS2U,IACvC,EAAEtU,GAAME,cAOd,GAJAa,oBAAU,KACN+T,EAAcR,IACf,CAACA,KAECH,IAAaA,EAASxO,QACvB,OACIzD,cAAA,OAAKL,UAAU,2BAA0BC,SACrCF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,OAAKL,UAAU,aAAYC,SAAC,iBAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,kCACPkC,cAAA,KAAAJ,UAAY,OAARqS,QAAQ,IAARA,OAAQ,EAARA,EAAUrP,QAAS,uCAMvC,MAAQqP,SAAU1O,EAAI,SAAEO,EAAUuI,WAAYwG,GAAuBZ,GAC/D,UACFxG,EAAS,WACTd,EAAU,UACVgB,EAAS,OACTmH,EAAM,YACNvH,EAAW,KACXwH,EAAI,YACJC,EAAW,QACXC,EAAO,UACPC,EAAS,aACTC,GACA5P,EAmDJ,OACI7D,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACrCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAC/BkE,KAELpE,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,UACIL,UAAU,wBACVI,QAASA,IAAMuS,GAAeD,GAC9B1Q,MAAO0Q,EAAa,WAAa,SAASzS,SAEzCyS,EAAa,eAAO,iBAEzBrS,cAAA,UACIL,UAAU,sBACVI,QAvBOqT,KACnBjB,GACAA,EAAeF,IAsBHtQ,MAAM,gBAAe/B,SACxB,uBAMTF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BF,eAAA,OAAKC,UAAU,sBAAsB4C,MAAO,CAAE8Q,gBA5EnC5H,KACvB,OAAQA,GACJ,IAAK,WAAY,MAAO,UACxB,IAAK,WAAY,MAAO,UACxB,QAAS,MAAO,YAwEuD6H,CAAkB7H,IAAa7L,SAAA,CAC1FI,cAAA,QAAML,UAAU,kBAAiBC,SACd,aAAd6L,EAA2B,eAAqB,aAAdA,EAA2B,eAAO,iBAEzEzL,cAAA,QAAML,UAAU,iBAAgBC,SAAE6L,EAAUL,mBAEhD1L,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,mBAAkBC,SAAE9B,EAAE,8BACrCkC,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BI,cAAA,OACIL,UAAU,kBACV4C,MAAO,CACH2C,MAAM,GAAD9H,OAAkB,IAAbuN,EAAgB,KAC1B0I,gBAjFJ1I,IACpBA,GAAc,GAAY,UAC1BA,GAAc,GAAY,UACvB,UA8EsC4I,CAAmB5I,QAIhDjL,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAAE4T,KAAKC,MAAmB,IAAb9I,GAAkB,aAIxEjL,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACvBF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,aAAYC,SAAE9B,EAAE,yBAC/BkC,cAAA,OAAKL,UAAU,aAAYC,SAAEsT,OAEjCxT,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,aAAYC,SAAE9B,EAAE,wBAC/BkC,cAAA,OAAKL,UAAU,aAAYC,SAAEuT,OAEjCzT,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,aAAYC,SAAE9B,EAAE,wBAC/BkC,cAAA,OAAKL,UAAU,aAAYC,SAAEmT,OAEjCrT,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,aAAYC,SAAE9B,EAAE,0BAC/BkC,cAAA,OAAKL,UAAU,aAAYC,UAAQ,OAANkT,QAAM,IAANA,OAAM,EAANA,EAAQlU,SAAU,aAK3Dc,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,2BACPkC,cAAA,KAAGL,UAAU,eAAcC,SAAEqT,OAGhCtH,GAAaA,EAAU/M,OAAS,GAC7Bc,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,6BACPkC,cAAA,MAAIL,UAAU,kBAAiBC,SAC1B+L,EAAU5K,IAAI,CAAC2S,EAAO3R,IACnBrC,eAAA,MAAgBC,UAAU,iBAAgBC,SAAA,CACtCI,cAAA,QAAML,UAAU,eAAcC,SAAC,WAC9B8T,IAFI3R,SASxB+Q,GAAUA,EAAOlU,OAAS,GACvBc,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,0BACPkC,cAAA,OAAKL,UAAU,cAAaC,SACvBkT,EAAO/R,IAAI,CAAC4S,EAAO5R,IAChB/B,cAAA,QAAkBL,UAAU,YAAWC,SAClC+T,GADM5R,SAQ1BsQ,GACG3S,eAAAkU,WAAA,CAAAhU,SAAA,CACK2L,GAAeA,EAAY3M,OAAS,GACjCc,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,+BACPkC,cAAA,MAAIL,UAAU,mBAAkBC,SAC3B2L,EAAYxK,IAAI,CAACyK,EAAYzJ,IAC1BrC,eAAA,MAAgBC,UAAU,kBAAiBC,SAAA,CACvCI,cAAA,QAAML,UAAU,kBAAiBC,SAAC,iBACjC4L,IAFIzJ,SASxBiR,GAAeA,EAAYpU,OAAS,GACjCc,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,+BACPkC,cAAA,MAAIL,UAAU,oBAAmBC,SAC5BoT,EAAYjS,IAAI,CAAC8S,EAAM9R,IACpBrC,eAAA,MAAgBC,UAAU,cAAaC,SAAA,CACnCI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC7BiU,IAFI9R,SASzBrC,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,sCACPkC,cAAA,OAAKL,UAAU,qBAAoBC,SAC/BI,cAAA,KAAAJ,SAAIiT,eAQxBnT,eAAA,OAAKC,UAAU,4BAA2BC,SAAA,CACtCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BF,eAAA,UACIe,MAAOkS,EACPjS,SAAWC,GAAMiS,EAAcjS,EAAEG,OAAOL,OACxCd,UAAU,qBAAoBC,SAAA,CAE9BI,cAAA,UAAQS,MAAM,aAAYb,SAAC,eAC3BI,cAAA,UAAQS,MAAM,QAAOb,SAAC,UACtBI,cAAA,UAAQS,MAAM,UAASb,SAAC,YACxBI,cAAA,UAAQS,MAAM,UAASb,SAAC,YACxBI,cAAA,UAAQS,MAAM,aAAYb,SAAC,eAC3BI,cAAA,UAAQS,MAAM,MAAKb,SAAC,iBACpBI,cAAA,UAAQS,MAAM,QAAOb,SAAC,mBACtBI,cAAA,UAAQS,MAAM,UAASb,SAAC,eAE5BI,cAAA,UACID,QAlMSgD,UACzB,GAAImP,EAAkB,CAClBM,GAAsB,GACtB,IAOI,GANAzV,QAAQC,IAAI,8CAA+C2V,GAC3D5V,QAAQC,IAAI,sCAAuC6V,GACnD9V,QAAQC,IAAI,gCAAiCuG,GAC7CxG,QAAQC,IAAI,uCAAwCiV,IAG/CY,GAA2D,IAArCA,EAAmBpK,OAAO7J,OACjD,MAAM,IAAIwE,MAAM,iDAGpB,MAAM0Q,QAAe5B,EAAiBW,EAAoBtP,EAAMoP,GAChED,EAAmBoB,EACvB,CAAE,MAAOlR,GACL7F,QAAQ6F,MAAM,2CAA4CA,GAC1D7F,QAAQ6F,MAAM,gCAAiC,CAC3Ce,QAASf,EAAMe,QACfoQ,MAAOnR,EAAMmR,OAGrB,CAAC,QACGvB,GAAsB,EAC1B,CACJ,GAyKgBrJ,SAAUoJ,EACV5S,UAAU,sBAAqBC,SAE9B2S,EAAqB,6BAAqB,oCAIlDE,GACG/S,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAK9B,EAAE,mCACPkC,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BI,cAAA,KAAAJ,SAAI6S,MAERzS,cAAA,UACID,QAASA,IAAMqJ,UAAUC,UAAUC,UAAUmJ,GAC7C9S,UAAU,kBAAiBC,SAC9B,uCCzCVoU,MAlOf,MAMI,+BAAaC,GAAkC,IAAfC,EAAO/C,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACvC,MAMMgD,EAAY3P,wBAAA,GANK,CACnB4P,oBAAoB,EACpBjY,QAAS,IACTkY,WAAY,MAG6BH,GAE7C,OAAO,IAAII,QAAQ,CAACC,EAASC,KACpBpL,UAAUqL,YAKfrL,UAAUqL,YAAYC,mBACjBC,IACG,MAAMC,EAAe,CACjBC,SAAUF,EAASG,OAAOD,SAC1BE,UAAWJ,EAASG,OAAOC,UAC3BC,SAAUL,EAASG,OAAOE,SAC1B3M,UAAW,IAAIM,KAAKgM,EAAStM,WAAW4M,cACxCC,QAAS,MAEbX,EAAQK,IAEXhS,IACG,IAAImN,EACJ,OAAQnN,EAAM1E,MACV,KAAK0E,EAAMuS,kBACPpF,EAAe,sFACf,MACJ,KAAKnN,EAAMwS,qBACPrF,EAAe,uCACf,MACJ,KAAKnN,EAAMyS,QACPtF,EAAe,8BACf,MACJ,QACIA,EAAe,oDAEvByE,EAAO,IAAIpR,MAAM2M,KAErBoE,GAhCAK,EAAO,IAAIpR,MAAM,mDAmC7B,CAQA,sCAAakS,CAA0BT,EAAUE,GAC7C,IACI,MAAMrO,QAAiBxD,MAAM,+DAAD9F,OACuCyX,EAAQ,SAAAzX,OAAQ2X,EAAS,8BAG5F,IAAKrO,EAASvD,GACV,MAAM,IAAIC,MAAM,2BAIpB,aADmBsD,EAASlD,QAChB+R,cAAgB,IAChC,CAAE,MAAO3S,GAEL,OADA7F,QAAQI,KAAK,2BAA4ByF,GAClC,IACX,CACJ,CAMA,kBAAO6J,GACH,QAASrD,UAAUqL,WACvB,CAMA,gCAAae,GACT,IAAKpM,UAAUqM,cAAgBrM,UAAUqM,YAAYC,MACjD,MAAO,SAGX,IAEI,aADqBtM,UAAUqM,YAAYC,MAAM,CAAEvX,KAAM,iBAC3CwX,KAClB,CAAE,MAAO/S,GAEL,OADA7F,QAAQI,KAAK,qCAAsCyF,GAC5C,QACX,CACJ,CAOA,qBAAOgT,CAAenZ,GAClB,IAAKA,EAAU,MAAO,GAEtB,MAAMqY,EAAM,GAAA1X,OAAMX,EAASoY,SAASjK,QAAQ,GAAE,MAAAxN,OAAKX,EAASsY,UAAUnK,QAAQ,IACxEoK,EAAWvY,EAASuY,SAAQ,SAAA5X,OAASoW,KAAKC,MAAMhX,EAASuY,UAAS,MAAO,GACzEE,EAAUzY,EAASyY,QAAO,KAAA9X,OAAQX,EAASyY,SAAY,GAE7D,MAAM,GAAN9X,OAAU0X,GAAM1X,OAAG4X,GAAQ5X,OAAG8X,EAClC,CAUA,wBAAOW,CAAkBC,EAAMC,EAAMC,EAAMC,GACvC,MACMC,EAAKJ,EAAOtC,KAAK2C,GAAK,IACtBC,EAAKJ,EAAOxC,KAAK2C,GAAK,IACtBE,GAAML,EAAOF,GAAQtC,KAAK2C,GAAK,IAC/BG,GAAML,EAAOF,GAAQvC,KAAK2C,GAAK,IAE/BI,EAAI/C,KAAKgD,IAAIH,EAAK,GAAK7C,KAAKgD,IAAIH,EAAK,GACjC7C,KAAKiD,IAAIP,GAAM1C,KAAKiD,IAAIL,GACxB5C,KAAKgD,IAAIF,EAAK,GAAK9C,KAAKgD,IAAIF,EAAK,GAG3C,OAXU,QASA,EAAI9C,KAAKkD,MAAMlD,KAAKmD,KAAKJ,GAAI/C,KAAKmD,KAAK,EAAIJ,IAGzD,CAQA,0BAAOK,CAAoB/B,EAAUE,GACjC,MACwB,kBAAbF,GACc,kBAAdE,GACPF,IAAa,IAAMA,GAAY,IAC/BE,IAAc,KAAOA,GAAa,GAE1C,CASA,mCAAa8B,CAAuBxK,GAAqC,IAAzByK,EAAe3F,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC9D,IAEI,MACMjV,EAD8B,qBAAXM,SAA2BA,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,2BAC9G,qDAAuD,6BAE7E+J,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,2BAA2B,CAC9DuL,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBwE,aACAyK,sBAIR,IAAKpQ,EAASvD,GAAI,CACd,MAAM2E,QAAkBpB,EAASlD,OACjC,MAAM,IAAIJ,MAAM0E,EAAUlF,OAAS,qCACvC,CAGA,aADmB8D,EAASlD,MAEhC,CAAE,MAAOZ,GAEL,MADA7F,QAAQ6F,MAAM,6BAA8BA,GACtCA,CACV,CACJ,CAQA,4BAAamU,CAAgBrB,GAAmB,IAAZsB,EAAK7F,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,EACxC,IACI,MAAMzK,QAAiBxD,MAAM,4DAAD9F,OACoC6Z,mBAAmBvB,GAAM,WAAAtY,OAAU4Z,EAAK,sBAGxG,IAAKtQ,EAASvD,GACV,MAAM,IAAIC,MAAM,8BAIpB,aADmBsD,EAASlD,QAChBzC,IAAI8S,IAAI,CAChB1V,KAAM0V,EAAK0B,aACXrM,KAAM2K,EAAK3K,KACX2L,SAAUqC,WAAWrD,EAAKsD,KAC1BpC,UAAWmC,WAAWrD,EAAKuD,KAC3BlC,QAASrB,EAAK0B,aACd8B,WAAYxD,EAAKwD,aAEzB,CAAE,MAAOzU,GAEL,OADA7F,QAAQI,KAAK,8BAA+ByF,GACrC,EACX,CACJ,G,MCqEW0U,MA/RarV,IAKrB,IALsB,WACzBoK,EAAU,gBACVyK,EAAe,iBACfS,EAAgB,QAChBC,GACHvV,EACG,MAAOsJ,EAAakM,GAAkBha,mBAAS,KACxCwU,EAAUyF,GAAeja,mBAAS,OAClCmJ,EAAWC,GAAgBpJ,oBAAS,IACpCmF,EAAOC,GAAYpF,mBAAS,KAC5Bka,EAAaC,GAAkBna,mBAAS,KACxCoa,EAAeC,GAAoBra,mBAAS,KAC5Csa,EAAaC,GAAkBva,oBAAS,IACzC,EAAEK,GAAME,cAEda,oBAAU,KACFwN,GACAwK,KAEL,CAACxK,IAEJ,MAAMwK,EAAyB9T,UAC3B,GAAKsJ,EAAL,CAEAxF,GAAa,GACbhE,EAAS,IAET,IACI,MAAM+F,QAAeoL,EAAgB6C,uBACjCxK,EAEAyK,GAGiB,IAADmB,EAApB,GAAIrP,EAAOnF,QACPgU,EAAe7O,EAAO2C,aAAe,IACrCmM,EAAY9O,EAAOqJ,UAAY,CAAC,GAGb,QAAnBgG,EAAIrP,EAAOqJ,gBAAQ,IAAAgG,GAAfA,EAAiBC,gBACjBN,EAAehP,EAAOqJ,SAASiG,eAC/BnB,EAAgBnO,EAAOqJ,SAASiG,qBAGpCrV,EAAS+F,EAAOhG,OAAS,qCAEjC,CAAE,MAAOA,GACL7F,QAAQ6F,MAAM,6BAA8BA,GAC5CC,EAASD,EAAMe,SAAW,qCAC9B,CAAC,QACGkD,GAAa,EACjB,CA7BuB,GAgCrBkQ,EAAkBhU,UACpB,GAAK2S,EAAMjN,OAAX,CAKAuP,GAAe,GACf,IACI,MAAMvI,QAAgBuE,EAAgB+C,gBAAgBrB,EAAO,GAC7DoC,EAAiBrI,EACrB,CAAE,MAAO7M,GACL7F,QAAQ6F,MAAM,yBAA0BA,GACxCkV,EAAiB,GACrB,CAAC,QACGE,GAAe,EACnB,CAXA,MAFIF,EAAiB,KAqBnBK,EAAwB1b,IAC1B8a,EAAiB9a,GACjB+a,KAGEY,EAAmBlP,IACrB,OAAQA,GACJ,IAAK,aAAc,MAAO,qBAC1B,IAAK,QAAS,MAAO,eACrB,IAAK,QAAS,MAAO,qBACrB,IAAK,aAAc,MAAO,eAC1B,IAAK,UAAW,MAAO,qBACvB,QAAS,MAAO,iBAIlBqK,EAAsB5I,GACpBA,GAAc,GAAY,UAC1BA,GAAc,GAAY,UACvB,UASX,OACIjL,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,sCACVkC,cAAA,UAAQL,UAAU,YAAYI,QAASyX,EAAQ5X,SAAC,cAKnDgD,GACGlD,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,gCAIV8I,GACGlH,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,OAAKL,UAAU,oBACfK,cAAA,KAAAJ,SAAG,2EAIVqS,IAAarL,GACVlH,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,6BACJF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAE9B,EAAE,yCAAyC,OAC7EkC,cAAA,QAAML,UAAS,kBAAAvC,OAAoB6U,EAASoG,kBAAoB,WAAa,YAAazY,SACrFqS,EAASoG,kBAAoB,MAAQ,UAG7CpG,EAASqG,cAA0C,YAA1BrG,EAASqG,cAC/B5Y,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAE9B,EAAE,4BAA4B,OAChE4B,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAC3BwY,EAAgBnG,EAASqG,cAAc,IAAErG,EAASqG,mBAI9DrG,EAASiG,eACNxY,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAE9B,EAAE,qCAAqC,OACzEkC,cAAA,QAAML,UAAU,iBAAgBC,SAAEqS,EAASiG,mBAGlDjG,EAASsG,YACN7Y,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAE9B,EAAE,4BAA4B,OAChEkC,cAAA,QAAML,UAAU,iBAAgBC,SAAEqS,EAASsG,gBAGnD7Y,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,QAAMC,UAAU,iBAAgBC,SAAA,CAAE9B,EAAE,kCAAkC,OACtE4B,eAAA,QACIC,UAAU,iBACV4C,MAAO,CAAE+C,MAAOiO,EAAmBtB,EAAStH,aAAc/K,SAAA,EA/D3D+K,EAiEoBsH,EAAStH,WAhEhDA,GAAc,GAAY,OAC1BA,GAAc,GAAY,SACvB,OA8DyD,KAAG6I,KAAKC,MAA4B,IAAtBxB,EAAStH,YAAkB,iBAOpGY,EAAY3M,OAAS,IAAMgI,GACxBlH,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,gCACJI,cAAA,OAAKL,UAAU,mBAAkBC,SAC5B2L,EAAYxK,IAAI,CAACyK,EAAYzJ,IAC1BrC,eAAA,OAAiBC,UAAU,kBAAiBC,SAAA,CACxCF,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BI,cAAA,QAAML,UAAU,kBAAiBC,SAC5BwY,EAAgB5M,EAAWtC,QAEhCxJ,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,MAAIL,UAAU,kBAAiBC,SAAE4L,EAAWrN,OAC5C6B,cAAA,KAAGL,UAAU,yBAAwBC,SAAE4L,EAAW5H,iBAEtD5D,cAAA,OAAKL,UAAU,wBAAuBC,SAClCF,eAAA,QACIC,UAAU,mBACV4C,MAAO,CAAE8Q,gBAAiBE,EAAmB/H,EAAWb,aAAc/K,SAAA,CAErE4T,KAAKC,MAA8B,IAAxBjI,EAAWb,YAAkB,YAIpDa,EAAW0J,SACRxV,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAAC,gBAC5B4L,EAAW0J,WAGtB1J,EAAWgN,UAAYhN,EAAWgN,SAAS5Z,OAAS,GACjDoB,cAAA,OAAKL,UAAU,sBAAqBC,SAC/B4L,EAAWgN,SAASzX,IAAI,CAAC0X,EAASC,IAC/B1Y,cAAA,QAAgBL,UAAU,cAAaC,SAClC6Y,GADMC,MAMvB1Y,cAAA,UACIL,UAAU,sBACVI,QAASA,KAAA,IAAA4Y,EAAAC,EAAA,OAAMT,EAAqB,CAChCtD,UAAgC,QAAtB8D,EAAAnN,EAAWqN,mBAAW,IAAAF,OAAA,EAAtBA,EAAwB9D,WAAY,EAC9CE,WAAiC,QAAtB6D,EAAApN,EAAWqN,mBAAW,IAAAD,OAAA,EAAtBA,EAAwB7D,YAAa,EAChDG,QAAS1J,EAAW0J,QACpB/W,KAAMqN,EAAWrN,KACjB+K,KAAMsC,EAAWtC,KACjB4P,OAAQ,mBACTlZ,SAEF9B,EAAE,8CA3CDiE,SAmD1BrC,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BI,cAAA,MAAAJ,SAAI,+BACJI,cAAA,QAAMuI,SA7JI5H,IAClBA,EAAE6H,iBACFuO,EAAgBY,IA2JsBhY,UAAU,cAAaC,SACjDF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,SACIkJ,KAAK,OACLzI,MAAOkX,EACPjX,SAAWC,GAAMiX,EAAejX,EAAEG,OAAOL,OACzCsI,YAAajL,EAAE,0CACf6B,UAAU,iBAEdK,cAAA,UACIkJ,KAAK,SACLvJ,UAAU,aACVwJ,SAAU4O,IAAgBJ,EAAYlP,OAAO7I,SAE5CmY,EAAc,eAAOja,EAAE,qCAKnC+Z,EAAcjZ,OAAS,GACpBc,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,mBACJI,cAAA,OAAKL,UAAU,eAAcC,SACxBiY,EAAc9W,IAAI,CAAC6H,EAAQ7G,IACxBrC,eAAA,OAAiBC,UAAU,cAAaC,SAAA,CACpCF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAIL,UAAU,cAAaC,SAAEgJ,EAAOzK,OACpCuB,eAAA,KAAGC,UAAU,cAAaC,SAAA,CAAC,SAAOgJ,EAAOM,WAE7ClJ,cAAA,UACIL,UAAU,oBACVI,QAASA,IAAMoY,EAAqB,CAChCtD,SAAUjM,EAAOiM,SACjBE,UAAWnM,EAAOmM,UAClBG,QAAStM,EAAOsM,QAChB/W,KAAMyK,EAAOzK,KACb+K,KAAMN,EAAOM,KACb4P,OAAQ,kBACTlZ,SAEF9B,EAAE,kCAhBDiE,YAyB9B/B,cAAA,OAAKL,UAAU,qBAAoBC,SAC/BI,cAAA,KAAGL,UAAU,mBAAkBC,SAAC,kHApLjB+K,O,MCiJhBoO,MAnPY9W,IAIpB,IAJqB,iBACxB+W,EAAgB,gBAChBC,EAAkB,KAAI,WACtB5M,EAAa,MAChBpK,EACC,MAAOxF,EAAUyc,GAAezb,mBAASwb,IAClCrS,EAAWC,GAAgBpJ,oBAAS,IACpCmF,EAAOC,GAAYpF,mBAAS,OAC5B0b,EAAkBC,GAAuB3b,mBAAS,WAClD4b,EAAiBC,GAAsB7b,oBAAS,IACjD,EAAEK,GAAME,cAEda,oBAAU,KAEHmV,EAAgBvH,cAMrBuH,EAAgBwB,sBAAsB7D,KAAKyH,GALzCvW,EAAS,kDAMV,IAEH,MAAMoR,EAAqBlR,UACzB8D,GAAa,GACbhE,EAAS,MAET,IACE,MAAM+R,QAAqBZ,EAAgBC,qBAC3CiF,EAAYtE,GACZoE,EAAiBpE,GAGjB,MAAMM,QAAgBlB,EAAgBsB,0BACpCV,EAAaC,SACbD,EAAaG,WAGf,GAAIG,EAAS,CACX,MAAMqE,EAAe/U,wBAAA,GAChBoQ,GAAY,IACfM,YAEFgE,EAAYK,GACZP,EAAiBO,EACnB,CACF,CAAE,MAAO3W,GACPC,EAASD,EAAMe,QACjB,CAAC,QACCkD,GAAa,EACf,GAuCF,OACEnH,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,MAAAJ,SAAI,qCACJI,cAAA,OACEL,UAAU,oBACV4C,MAAO,CAAE+C,MAnBgBkU,MAC/B,OAAQL,GACN,IAAK,UACH,MAAO,UACT,IAAK,SACH,MAAO,UACT,IAAK,SACH,MAAO,UACT,QACE,MAAO,YAUWK,IAA6B5Z,SAhCrB6Z,MAC9B,OAAQN,GACN,IAAK,UACH,MAAO,0BACT,IAAK,SACH,MAAO,yBACT,IAAK,SACH,MAAO,8BACT,QACE,MAAO,oCAyBJM,QAIL/Z,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC9BnD,EACCiD,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BF,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCI,cAAA,UAAAJ,SAAQ,iBAAqB,IAAEnD,EAASoY,SAASjK,QAAQ,GAAG,KAAGnO,EAASsY,UAAUnK,QAAQ,MAE3FnO,EAASuY,UACRtV,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAChCI,cAAA,UAAAJ,SAAQ,cAAkB,QAAG4T,KAAKC,MAAMhX,EAASuY,UAAU,aAG9DvY,EAAS4L,WACR3I,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCI,cAAA,UAAAJ,SAAQ,UAAc,IAAE,IAAI+I,KAAKlM,EAAS4L,WAAWpC,oBAGxDxJ,EAASyY,SACRxV,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,UAAAJ,SAAQ,aAAiB,IAAEnD,EAASyY,WAGvCzY,EAAS0B,MACRuB,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,UAAAJ,SAAQ,UAAc,IAAEnD,EAAS0B,QAGpC1B,EAASyM,MACRxJ,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,UAAAJ,SAAQ,UAAc,IAAEnD,EAASyM,QAGpCzM,EAASqc,QACRpZ,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,UAAAJ,SAAQ,YAAgB,IAAsB,kBAApBnD,EAASqc,OAA6B,6BACpB,kBAApBrc,EAASqc,OAA6B,6BACtC,yBAI9BpZ,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,UACEL,UAAU,oBACVI,QA3FQ2Z,KACpBR,EAAY,MACZF,EAAiB,OAyFkBpZ,SAEtB9B,EAAE,uCAELkC,cAAA,UACEL,UAAU,kBACVI,QAASkU,EACT9K,SAAUvC,EAAUhH,SAEnB9B,EAAE,uCAEJuO,GACC3M,eAAA,UACEC,UAAU,kBACVI,QAASA,IAAMuZ,GAAmB,GAAM1Z,SAAA,CACzC,gBACK9B,EAAE,gDAMd4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAChCI,cAAA,KAAAJ,SAAI9B,EAAE,2CACNkC,cAAA,KAAGL,UAAU,gBAAeC,SAAE9B,EAAE,kDAElC4B,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,UACEL,UAAU,+BACVI,QAASkU,EACT9K,SAAUvC,GAAkC,WAArBuS,EAA8BvZ,SAExC9B,EAAZ8I,EAAc,qCAA0C,8CAE1DyF,GACC3M,eAAA,UACEC,UAAU,+BACVI,QAASA,IAAMuZ,GAAmB,GAAM1Z,SAAA,CACzC,gBACK9B,EAAE,qDAOf8E,GACClD,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC7BI,cAAA,KAAAJ,SAAIgD,IACkB,WAArBuW,GACCzZ,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,KAAAJ,SAAI9B,EAAE,6CACN4B,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAK9B,EAAE,0CACPkC,cAAA,MAAAJ,SAAK9B,EAAE,oCACP4B,eAAA,MAAAE,SAAA,CAAK9B,EAAE,kCAAkC,IAAEA,EAAE,2CAOtD8I,GACClH,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,OAAKL,UAAU,oBACfK,cAAA,KAAAJ,SAAI9B,EAAE,8CAKXrB,GACCiD,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,MAAAJ,SAAI,qBACJI,cAAA,OAAKL,UAAU,gBAAeC,SAC3BoU,EAAgB4B,eAAenZ,QAMrC4c,GACCrZ,cAAA,OAAKL,UAAU,gBAAeC,SAC5BI,cAAA,OAAKL,UAAU,gBAAeC,SAC5BI,cAACsX,EAAmB,CAClBjL,WAAYA,EACZyK,gBAAiBra,EACjB8a,iBA/KkBoC,IAC5BT,EAAYS,GACZX,EAAiBW,IA8KPnC,QAASA,IAAM8B,GAAmB,aC/OhD,SAASM,EAAgBlT,GACrB,IAAKA,GAAgC,kBAAbA,EACpB,OAAOA,EAIX,IAAImT,EAAUnT,EAEToT,QAAQ,kBAAmB,IAE3BA,QAAQ,iBAAkB,MAC1BA,QAAQ,aAAc,MAEtBA,QAAQ,WAAY,MAEpBA,QAAQ,UAAW,QAEnBrR,OAEAqR,QAAQ,0IAA2I,IAEnJA,QAAQ,gIAAiI,IAEzIA,QAAQ,WAAY,KACpBA,QAAQ,WAAY,KACpBA,QAAQ,WAAY,KAEpBA,QAAQ,iBAAkB,MAE1BA,QAAQ,UAAW,KAEnBA,QAAQ,eAAgB,IAExBA,QAAQ,wBAAoB,IAC5BA,QAAQ,qBAAsB,IAE9BA,QAAQ,qBAAsB,IAE9BA,QAAQ,SAAU,IAClBA,QAAQ,SAAU,IAKvB,OAFAD,EAMJ,SAA4CtS,GACxC,IAAKA,GAAwB,kBAATA,EAChB,OAAOA,EAIX,MAAMwS,EAAYxS,EAAKyS,MAAM,UACxBjZ,IAAIkZ,GAAKA,EAAExR,QACXlK,OAAO0b,GAAKA,EAAErb,OAAS,GAGtBsb,EAiBV,SAAyCH,GACrC,MAAMxS,EAAOwS,EAAUjQ,KAAK,KAAKoE,cAGjC,IAAIhF,EAAO,UACP3B,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,WACrLuM,EAAO,SACA3B,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,YACxKuM,EAAO,WACA3B,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,OAAS4K,EAAK5K,SAAS,gBAAkB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,gBAC/HuM,EAAO,gBACA3B,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,cAClKuM,EAAO,oBAIX,MAAMyC,EAAYoO,EAAUxb,OAAO0b,GAC/BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aAGvBwd,EAAkBJ,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,cAGvByd,EAAkBL,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,kBACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,iBAGvB4O,EAAcwO,EAAUxb,OAAO0b,GACjCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,aAGvB0d,EAAYN,EAAUxb,OAAO0b,GAAKA,EAAEtd,SAAS,MAC7C2d,EAAaP,EAAUxb,OAAO0b,IAAMA,EAAEtd,SAAS,MAG/CmW,EAgBV,SAA8BvL,GAC1B,MAAMuL,EAAS,IAGXvL,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,UACjGmW,EAAOyH,KAAK,aAAc,OAAQ,WAIlChT,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,kBAAoB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,UACnGmW,EAAOyH,KAAK,QAAS,gBAAiB,WAItChT,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,SAChGmW,EAAOyH,KAAK,UAAW,WAAY,aAInChT,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,gBAC/FmW,EAAOyH,KAAK,UAAW,UAAW,kBAIlChT,EAAK5K,SAAS,QAAU4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,aAClGmW,EAAOyH,KAAK,aAAc,WAAY,WAG1C,MAAO,IAAI,IAAIC,IAAI1H,GACvB,CA7CmB2H,CAAqBlT,GAEpC,MAAO,CACH2B,OACAyC,YACAwO,kBACAC,kBACA7O,cACA8O,YACAC,aACAxH,SACA4H,eAAgBX,EAAUnb,OAElC,CAzFsB+b,CAAgCZ,GAGlD,MAAuB,WAAnBG,EAAUhR,KAyHlB,SAAsC6Q,EAAWG,GAC7C,IAAIU,EAAY,GAGhB,MAAMC,EAAUd,EAAUva,KAAKya,GAC3BA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBke,IACAD,GAAS,gBAAAxd,OAAU0d,EAAgBD,GAAQ,UAI3CX,EAAUC,gBAAgBvb,OAAS,IACnCgc,GAAa,kCACbV,EAAUC,gBAAgBlS,MAAM,EAAG,GAAG8S,QAAQ,CAACC,EAAQjZ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBE,GAAO,SAEhDJ,GAAa,MAIbV,EAAUE,gBAAgBxb,OAAS,IACnCgc,GAAa,wCACbV,EAAUE,gBAAgBnS,MAAM,EAAG,GAAG8S,QAAQ,CAACC,EAAQjZ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBE,GAAO,SAEhDJ,GAAa,MAIjB,MAAMK,EAAalB,EAAUxb,OAAO0b,GAChCA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBse,EAAWrc,OAAS,IACpBgc,GAAa,uCACbK,EAAWhT,MAAM,EAAG,GAAG8S,QAAQ,CAACG,EAAWnZ,KACvC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBI,GAAU,SAE/DN,GAAa,MAIjB,MAAMO,EAAoBpB,EAAUxb,OAAO0b,GACvCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBwe,EAAkBvc,OAAS,IAC3Bgc,GAAa,2CACbO,EAAkBlT,MAAM,EAAG,GAAG8S,QAAQK,IAClCR,GAAS,MAAAxd,OAAU0d,EAAgBM,GAAO,SAE9CR,GAAa,MAIjB,MAAMS,EAAetB,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,eAGzB0e,EAAazc,OAAS,IACtBgc,GAAa,kCACbS,EAAapT,MAAM,EAAG,GAAG8S,QAAQC,IAC7BJ,GAAS,MAAAxd,OAAU0d,EAAgBE,GAAO,SAE9CJ,GAAa,MAIbV,EAAU3O,YAAY3M,OAAS,IAC/Bgc,GAAa,kCACbV,EAAU3O,YAAYtD,MAAM,EAAG,GAAG8S,QAAQ,CAACvP,EAAYzJ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBtP,GAAW,SAEpDoP,GAAa,MAIjB,MAAMU,EAAavB,EAAUva,KAAKya,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UAG7B,GAAI2e,EACAV,GAAS,gBAAAxd,OAAU0d,EAAgBQ,GAAW,SAC3C,CAEH,MAAMC,EAAgBrB,EAAUC,gBAAgBvb,OAC1C4c,EAAgBtB,EAAUE,gBAAgBxb,OAG5Cgc,GADAW,EAAgBC,EACP,yFACFA,EAAgBD,EACd,uGAEA,+FAEjB,CAEA,OAAOX,EAAUnS,MACrB,CApPegT,CAA6B1B,EAAWG,GACrB,aAAnBA,EAAUhR,KAsPzB,SAAwC6Q,EAAWG,GAC/C,IAAIU,EAAY,GAGhB,MAAM3H,EAAU8G,EAAUva,KAAKya,GAC3BA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,kBACzBsd,EAAE/L,cAAcvR,SAAS,kBAGzBsW,IACA2H,GAAS,oCAAAxd,OAA8B0d,EAAgB7H,GAAQ,UAInE,MAAMyI,EAAW3B,EAAUxb,OAAO0b,GAC9BA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB+e,EAAS9c,OAAS,IAClBgc,GAAa,oCACbc,EAASzT,MAAM,EAAG,GAAG8S,QAAQ,CAACY,EAAS5Z,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBa,GAAQ,SAE7Df,GAAa,MAIjB,MAAMgB,EAAqB7B,EAAUxb,OAAO0b,GACxCA,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBif,EAAmBhd,OAAS,IAC5Bgc,GAAa,qCACbgB,EAAmB3T,MAAM,EAAG,GAAG8S,QAAQ,CAACtP,EAAW1J,KAC/C6Y,GAAS,aAAAxd,OAAY0d,EAAgBrP,GAAU,SAEnDmP,GAAa,MAIjB,GAAIV,EAAUpH,OAAOlU,OAAS,EAAG,CAC7Bgc,GAAS,gBAAAxd,OAAU8c,EAAUpH,OAAO,GAAG3H,OAAO,GAAGC,cAAgB8O,EAAUpH,OAAO,GAAG7K,MAAM,GAAE,yBACtE8R,EAAUxb,OAAO0b,GACpCC,EAAUpH,OAAO+I,KAAKlI,GAASsG,EAAE/L,cAAcvR,SAASgX,KAE7C1L,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KACzC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBgB,GAAQ,SAE7DlB,GAAa,IACjB,CAGIV,EAAU3O,YAAY3M,OAAS,IAC/Bgc,GAAa,4CACbV,EAAU3O,YAAYtD,MAAM,EAAG,GAAG8S,QAAQ,CAACgB,EAAKha,KAC5C6Y,GAAS,aAAAxd,OAAY0d,EAAgBiB,GAAI,SAE7CnB,GAAa,MAIjB,MAAM5H,EAAc+G,EAAUxb,OAAO0b,GACjCA,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBqW,EAAYpU,OAAS,IACrBgc,GAAa,4CACb5H,EAAY/K,MAAM,EAAG,GAAG8S,QAAQ,CAAClH,EAAM9R,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBjH,GAAK,SAE1D+G,GAAa,MAIjB,MAAMoB,EAAkBjC,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,gBAGzBqf,EAAgBpd,OAAS,IACzBgc,GAAa,oCACboB,EAAgB/T,MAAM,EAAG,GAAG8S,QAAQ,CAACkB,EAAQla,KACzC6Y,GAAS,aAAAxd,OAAY0d,EAAgBmB,GAAO,UAIpD,OAAOrB,EAAUnS,MACrB,CAhWeyT,CAA+BnC,EAAWG,GACvB,iBAAnBA,EAAUhR,KAkWzB,SAA4C6Q,GACxC,IAAIa,EAAY,GAGhB,MAAMuB,EAAWpC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,OACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,eAGzBwf,IACAvB,GAAS,GAAAxd,OAAO0d,EAAgBqB,GAAS,UAI7C,MAAMC,EAAerC,EAAUxb,OAAO0b,KACzB,OAARkC,QAAQ,IAARA,KAAUxf,SAASsd,KACpBA,EAAErb,OAAS,IAGXwd,EAAaxd,OAAS,IACtBgc,GAAa,8BACbwB,EAAanU,MAAM,EAAG,GAAG8S,QAAQ,CAACrU,EAAU3E,KACxC6Y,GAAS,MAAAxd,OAAU0d,EAAgBpU,GAAS,SAEhDkU,GAAa,MAIjB,MAAMyB,EAAmBtC,EAAUxb,OAAO0b,GACtCA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SAGzB0f,EAAiBzd,OAAS,IAC1Bgc,GAAa,uCACbyB,EAAiBpU,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgBgB,GAAQ,SAEjDlB,GAAa,MAIjB,MAAM0B,EAAWvC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,mBACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,sBACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,oBACzBsd,EAAE/L,cAAcvR,SAAS,iBAIzBie,GADA0B,EACS,gBAAAlf,OAAU0d,EAAgBwB,IAG1B,wFAGb,OAAO1B,EAAUnS,MACrB,CApae8T,CAAmCxC,GAChB,qBAAnBG,EAAUhR,KAsazB,SAA+C6Q,GAC3C,IAAIa,EAAY,GAGhB,MAAM4B,EAAiBzC,EAAUva,KAAKya,GAClCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB6f,IACA5B,GAAS,gBAAAxd,OAAU0d,EAAgB0B,GAAe,UAItD,MAAMC,EAAkB1C,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB8f,EAAgB7d,OAAS,IACzBgc,GAAa,+CACb6B,EAAgBxU,MAAM,EAAG,GAAG8S,QAAQ,CAAC9I,EAAUlQ,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgB7I,GAAS,SAElD2I,GAAa,MAIjB,MAAM8B,EAAY3C,EAAUxb,OAAO0b,GAC/BA,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB+f,EAAU9d,OAAS,IACnBgc,GAAa,sCACb8B,EAAUzU,MAAM,EAAG,GAAG8S,QAAQ,CAAC4B,EAAU5a,KACrC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgB6B,GAAS,SAE9D/B,GAAa,MAIjB,MAAMgC,EAAe7C,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBigB,EAAahe,OAAS,IACtBgc,GAAa,yCACbgC,EAAa3U,MAAM,EAAG,GAAG8S,QAAQ,CAAC8B,EAAa9a,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgB+B,GAAY,SAErDjC,GAAa,MAIjB,MAAMkC,EAAe/C,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBmgB,EAAale,OAAS,IACtBgc,GAAa,oCACbkC,EAAa7U,MAAM,EAAG,GAAG8S,QAAQ,CAACgC,EAAShb,KACvC6Y,GAAS,aAAAxd,OAAY0d,EAAgBiC,GAAQ,SAEjDnC,GAAa,MAIjB,MAAM0B,EAAWvC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,cAIzBie,GADA0B,EACS,gBAAAlf,OAAU0d,EAAgBwB,IAE1B,sFAGb,OAAO1B,EAAUnS,MACrB,CA9gBeuU,CAAsCjD,GAihBrD,SAAuCA,GACnC,IAAIa,EAAY,GAGhB,MAAMqC,EAAYlD,EAAU,GACxBkD,IACArC,GAAS,6BAAAxd,OAAuB0d,EAAgBmC,GAAU,UAI9D,MAAMC,EAAenD,EAAU9R,MAAM,EAAG,GACpCiV,EAAate,OAAS,IACtBgc,GAAa,uCACbsC,EAAanC,QAAQ,CAACoC,EAAapb,KAC/B6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBqC,GAAY,SAEjEvC,GAAa,MAIjB,MAAMwC,EAAWrD,EAAUxb,OAAO0b,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBygB,EAASxe,OAAS,IAClBgc,GAAa,+BACbwC,EAASnV,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KACnC6Y,GAAS,aAAAxd,OAAY0d,EAAgBgB,GAAQ,SAEjDlB,GAAa,MAIjB,MAAMyC,EAAetD,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,gBAGzB0gB,EAAaze,OAAS,IACtBgc,GAAa,qCACbyC,EAAapV,MAAM,EAAG,GAAG8S,QAAQ,CAACuC,EAAKvb,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBwC,GAAI,SAEzD1C,GAAa,MAIjB,MAAMU,EAAavB,EAAUva,KAAKya,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UAIzBie,GADAU,EACS,gBAAAle,OAAU0d,EAAgBQ,IAG1B,2IAGb,OAAOV,EAAUnS,MACrB,CAxlBe8U,CAA8BxD,EAE7C,CA/BcyD,CAAmC3D,GAEtCA,CACX,CAqnBA,SAASiB,EAAgB2C,GACrB,OAAKA,GAAsB,kBAARA,EACZA,EAAItS,OAAO,GAAGC,cAAgBqS,EAAIxV,MAAM,GADHwV,CAEhD,CA4Ge,UAvGf,MACEC,cAEE,MAAMzgB,EAA8B,qBAAXT,SAA2BA,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,2BAC1IghB,KAAKzhB,QAAUe,EAAY,qDAAuDL,UAAUV,OAC9F,CAGA,kBAAM0hB,CAAavR,GACjB,IACE,MAAM3F,QAAiBxD,MAAM,GAAD9F,OAAIugB,KAAKzhB,QAAO,kBAAkB,CAC5DuL,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBwE,iBAIJ,IAAK3F,EAASvD,GAAI,CAChB,MAAM2E,QAAkBpB,EAASlD,OAAOuE,MAAM,MAAS,IACvD,MAAM,IAAI3E,MAAM0E,EAAUlF,OAAS,gCACrC,CAGA,aADmB8D,EAASlD,MAE9B,CAAE,MAAOZ,GAEP,MADA7F,QAAQ6F,MAAM,wBAAyBA,GACjCA,CACR,CACF,CAGA,oBAAMib,CAAexR,EAAY4F,GAAmC,IAAzBU,EAAUxB,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,UACtD,IACE,MAAMpH,EAAc,CAClBsC,aACA4F,WACAU,cAGF5V,QAAQC,IAAI,4CAA6C,CACvD8gB,IAAI,GAAD1gB,OAAKugB,KAAKzhB,QAAO,0BACpB6N,gBAGF,MAAMrD,QAAiBxD,MAAM,GAAD9F,OAAIugB,KAAKzhB,QAAO,0BAA0B,CACpEuL,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUkC,KAMvB,GAHAhN,QAAQC,IAAI,iCAAkC0J,EAASrD,QACvDtG,QAAQC,IAAI,6BAA8B0J,EAASvD,KAE9CuD,EAASvD,GAAI,CAChB,MAAM2E,QAAkBpB,EAASlD,OAAOuE,MAAM,MAAS,IAEvD,MADAhL,QAAQ6F,MAAM,gCAAiCkF,GACzC,IAAI1E,MAAM0E,EAAUlF,OAAS,4BACrC,CAEA,MAAMW,QAAamD,EAASlD,OAG5B,OAFAzG,QAAQC,IAAI,kCAAmCuG,GAExCqW,EAAgBrW,EAAKuQ,OAC9B,CAAE,MAAOlR,GAEP,MADA7F,QAAQ6F,MAAM,2BAA4BA,GACpCA,CACR,CACF,CAGA,sBAAMmb,CAAiB1R,GACrB,IACE,aAAasR,KAAKC,aAAavR,EACjC,CAAE,MAAOzJ,GAIP,OAHA7F,QAAQ6F,MAAM,yBAA0BA,GAGjC,CACLa,SAAS,EACTb,MAAOA,EAAMe,QACbsO,SAAU,CACRxG,UAAW,UACXd,WAAY,GACZgB,UAAW,CAAC,iCACZmH,OAAQ,CAAC,WACTvH,YAAa,CAAC,0CACdwH,KAAM,UACNC,YAAa,CAAC,kCACdC,QAAS,qCACTC,UAAW7G,EAAW2N,MAAM,KAAKpb,OACjCuU,aAAc,UAEhBrP,SAAU,oBAEd,CACF,G,MCtXaka,MAlZKA,KAChB,MAAO3R,EAAYC,GAAiB7O,mBAAS,KACtCwU,EAAUyF,GAAeja,mBAAS,OAClCwgB,EAAaC,GAAkBzgB,oBAAS,IACxCkV,EAAYC,GAAiBnV,mBAAS,eACtC0gB,EAAQC,GAAa3gB,mBAAS,IAC9BgV,EAAiBC,GAAsBjV,mBAAS,KAChD4gB,EAAcC,GAAmB7gB,mBAAS,KAC1CmX,EAAc2J,GAAmB9gB,mBAAS,OAC1CmF,EAAOC,GAAYpF,mBAAS,KAC5B+gB,EAAoBC,GAAyBhhB,oBAAS,GAsEvDihB,EAAoB3b,UACtB,GAAK4b,GAAqD,IAAlCA,EAAgBlW,OAAO7J,OAA/C,CAOAsf,GAAe,GACfrb,EAAS,IAET,IACI9F,QAAQC,IAAI,yBAA0B2hB,EAAgB5S,UAAU,EAAG,KAAO,OAC1E,MAAM6S,QAAuBC,EAAad,iBAAiBY,GAGrDG,EAAsBta,wBAAA,GACrBoa,GAAc,IACjBvS,WAAYsS,IAMhB,GAHAjH,EAAYoH,GAGRF,EAAenb,QAAS,CACxB,MAAMsb,EArFOC,EAAC3S,EAAY4S,KAClC,IAAK5S,IAAe4S,EAAc,OAElC,MAAM,UAAExT,EAAS,WAAEd,EAAU,UAAEgB,EAAS,QAAEsH,GAAYgM,EACtD,IAAIF,EAAkB,EAGtB,OAAQtT,GACJ,IAAK,WACDsT,EAAkB,EAClB,MACJ,IAAK,WACDA,EAAkB,EAClB,MACJ,IAAK,UACDA,EAAkB,EAiB1B,GAZIpU,GAAc,KAEPA,GAAc,GAEjBoU,EAAkB,EAAGA,IAChBA,EAAkB,GAAGA,IAG9BA,EAAkB,GAIlBpT,GAAaA,EAAU/M,OAAS,EAAG,CACnC,MAAMsgB,EAAmB,CAAC,UAAW,YAAa,QAAS,OAAQ,OAAQ,UAAW,OAAQ,YAAa,YAAa,eAClHC,EAAmB,CAAC,WAAY,QAAS,MAAO,WAAY,QAAS,gBAAiB,OAAQ,WAAY,aAAc,QAExH5X,EAAO8E,EAAW6B,cAAgB,IAAMvC,EAAU7B,KAAK,KAAKoE,cAE5DqN,EAAgB2D,EAAiB3gB,OAAO6gB,GAAQ7X,EAAK5K,SAASyiB,IAAOxgB,OACrE4c,EAAgB2D,EAAiB5gB,OAAO6gB,GAAQ7X,EAAK5K,SAASyiB,IAAOxgB,OAEvE2c,EAAgBC,GAAiBD,GAAiB,EAClDwD,EAAkBvL,KAAK6L,IAAI,EAAGN,EAAkB,GACzCvD,EAAgBD,GAAiBC,GAAiB,IACzDuD,EAAkBvL,KAAK8L,IAAI,EAAGP,EAAkB,GAExD,CAGA,MAAMxX,EAAO8E,EAAW6B,cAQxB,OAPI3G,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,cACtEoiB,EAAkBvL,KAAK8L,IAAI,EAAGP,EAAkB,KAEhDxX,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,cACzEoiB,EAAkBvL,KAAK6L,IAAI,EAAGN,EAAkB,IAG7CA,GA4ByBC,CAAiBL,EAAiBC,GACtDG,GAAmBA,IAAoBZ,IACvCC,EAAUW,GACVhiB,QAAQC,IAAI,6BAADI,OAA8B+gB,EAAM,QAAA/gB,OAAO2hB,EAAe,4BACrEN,GAAsB,GAE9B,CAEKG,EAAenb,SAChBZ,EAAS+b,EAAehc,OAAS,kBAEzC,CAAE,MAAOA,GACL7F,QAAQ6F,MAAM,wBAAyBA,GACvCC,EAASD,EAAMe,SAAW,gCAC9B,CAAC,QACGua,GAAe,EACnB,CArCA,MAFIrb,EAAS,yCAsJjB,OACI7C,cAAA,OAAKL,UAAU,eAAcC,SACzBF,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACnCF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,MAAAJ,SAAI,2CACJI,cAAA,KAAAJ,SAAG,gGAGPF,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CAGjCF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,OAAKL,UAAU,qBAAoBC,SAC/BF,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCI,cAAA,SAAOO,QAAQ,aAAYX,SAAC,iBAC5BF,eAAA,UACIc,GAAG,aACHC,MAAOkS,EACPjS,SAAWC,GAAMiS,EAAcjS,EAAEG,OAAOL,OACxCd,UAAU,oBAAmBC,SAAA,CAE7BI,cAAA,UAAQS,MAAM,aAAYb,SAAC,kCAC3BI,cAAA,UAAQS,MAAM,QAAOb,SAAC,uBACtBI,cAAA,UAAQS,MAAM,UAASb,SAAC,yBACxBI,cAAA,UAAQS,MAAM,UAASb,SAAC,+BACxBI,cAAA,UAAQS,MAAM,aAAYb,SAAC,4BAC3BI,cAAA,UAAQS,MAAM,MAAKb,SAAC,8BACpBI,cAAA,UAAQS,MAAM,QAAOb,SAAC,gCACtBI,cAAA,UAAQS,MAAM,UAASb,SAAC,iCAIpCI,cAACgM,EAAgB,CACbC,aA9PE2D,IACtBtD,EAAcsD,GACd8H,EAAY,MACZ7U,EAAS,IACT4b,GAAsB,IA2PF1V,YAAY,0DACZmD,sBAAsB,IAGzBG,GACG3M,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,MAAAJ,SAAI,sBACJI,cAAA,KAAAJ,SAAIyM,IACJ3M,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,UACID,QAASA,IAAM2e,EAAkBrS,GACjClD,SAAU8U,EACVte,UAAU,cAAaC,SAEtBqe,EAAc,4BAAoB,+BAEvCje,cAAA,UAAQD,QAhEvBwf,KACbjT,EAAc,IACdoL,EAAY,MACZhF,EAAmB,IACnB6L,EAAgB,MAChB1b,EAAS,IACT4b,GAAsB,IA0DiC9e,UAAU,YAAWC,SAAC,0CASjEF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,kBACJI,cAAA,OAAKL,UAAU,mBAAkBC,SAC7BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,SAAOa,QAAQ,SAAQX,SAAA,CAAC,WAASue,EAAO,QACxCze,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACxB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGmB,IAAIye,GACjBxf,cAAA,UAEIL,UAAS,YAAAvC,OAAcoiB,GAAQrB,EAAS,SAAW,IACnDpe,QAASA,KACLqe,EAAUoB,GACVf,GAAsB,IACxB7e,SACL,UANQ4f,IAUZhB,GACGxe,cAAA,QAAML,UAAU,sBAAqBC,SAAC,iCAK7C4e,GACGxe,cAAA,SAAOL,UAAU,qBAAoBC,SAAC,uGAQtDI,cAAA,OAAKL,UAAU,mBAAkBC,SAC7BI,cAAC+Y,EAAkB,CACfC,iBAnGMvc,IAC1B8hB,EAAgB9hB,IAmGIwc,gBAAiBrE,EACjBvI,WAAYA,MAKnBzJ,GACGlD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5BgD,KAKRqP,GACGvS,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,6BACJI,cAACgS,EAAa,CACVC,SAAUA,EACVC,iBA/NCnP,MAAO4b,EAAiBM,EAAcQ,KAG/D,IAEI,MAAMC,EAAkBD,GAAmB9M,EAU3C,GARA5V,QAAQC,IAAI,0BAA2B,CACnCqP,WAAYsS,EAAkBA,EAAgB5S,UAAU,EAAG,KAAO,MAAQ,YAC1E4G,WAAY+M,EACZvB,SACAwB,cAAe/K,KAId+J,GAAqD,IAAlCA,EAAgBlW,OAAO7J,OAC3C,MAAM,IAAIwE,MAAM,gDAGpB,IAAK6b,EACD,MAAM,IAAI7b,MAAM,mDAKpB,IAAIwc,QAFiBf,EAAahB,eAAec,EAAiBM,EAAcS,GAK5E9K,IACAgL,GAAU,8BACNhL,EAAaM,QACb0K,GAAchL,EAAaM,QAE3B0K,GAAU,GAAAxiB,OAAOwX,EAAaC,SAASjK,QAAQ,GAAE,MAAAxN,OAAKwX,EAAaG,UAAUnK,QAAQ,IAErFgK,EAAaI,WACb4K,GAAU,mBAAAxiB,OAAoBoW,KAAKC,MAAMmB,EAAaI,UAAS,QAKnEmJ,GAAUA,EAAS,IACnByB,GAAU,sBAAAxiB,OAAqB+gB,EAAM,OAGzCzL,EAAmBkN,GAGnB,MAAMC,EAAa,CACfrf,GAAImI,KAAKmX,MACT5W,KAAMwW,EACNvB,SACArK,OAAQ8L,EACRvT,WAAYsS,EACZ1M,SAAUgN,EACVxiB,SAAUmY,EACVvM,WAAW,IAAIM,MAAOsM,eAG1BlY,QAAQC,IAAI,sBAAuB6iB,GAEnCvB,EAAgB/c,GAAQ,CAACse,KAAete,IAGxC,MAAMwe,EAAkBnY,KAAKoY,MAAMC,aAAaC,QAAQ,iBAAmB,MACrEC,EAAiB,CAACN,KAAeE,GASvC,OARAE,aAAaG,QAAQ,eAAgBxY,KAAKC,UAAUsY,IAEpDpjB,QAAQC,IAAI,8CAA+CmjB,EAAevhB,QAC1E7B,QAAQC,IAAI,qCAAsCijB,aAAaC,QAAQ,iBAGvEzV,MAAM,uGAECmV,CACX,CAAE,MAAOhd,GAEL,MADA7F,QAAQ6F,MAAM,2BAA4BA,GACpCA,CACV,GAkJwBuP,eA/IA8M,IACxB,MAAMoB,EAAiB,CACnB7f,GAAImI,KAAKmX,MACT7N,SAAUgN,EACV5W,WAAW,IAAIM,MAAOsM,eAIpBqL,EAAmB1Y,KAAKoY,MAAMC,aAAaC,QAAQ,kBAAoB,MAC7ED,aAAaG,QAAQ,gBAAiBxY,KAAKC,UAAU,CAACwY,KAAmBC,KAEzE7V,MAAM,iCAqIkB2H,iBAAkBO,OAM7BF,GACG/S,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACrCI,cAAA,MAAAJ,SAAI,kCACJI,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BI,cAAA,KAAAJ,SAAI6S,MAERzS,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BI,cAAA,UACID,QAASA,IAAMqJ,UAAUC,UAAUC,UAAUmJ,GAC7C9S,UAAU,WAAUC,SACvB,kCAQbF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,MAAAJ,SAAI,6BACJF,eAAA,MAAAE,SAAA,CACII,cAAA,MAAAJ,SAAI,4CACJI,cAAA,MAAAJ,SAAI,wCACJI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,MAAAJ,SAAI,oCACJI,cAAA,MAAAJ,SAAI,6CACJI,cAAA,MAAAJ,SAAI,2DAGRF,eAAA,OAAKC,UAAU,OAAMC,SAAA,CACjBI,cAAA,MAAAJ,SAAI,0CACJF,eAAA,MAAAE,SAAA,CACII,cAAA,MAAAJ,SAAI,uCACJI,cAAA,MAAAJ,SAAI,mDACJI,cAAA,MAAAJ,SAAI,4CACJI,cAAA,MAAAJ,SAAI,8CACJI,cAAA,MAAAJ,SAAI,6CACJI,cAAA,MAAAJ,SAAI,mEC3YpC,SAASga,EAAgBlT,GACrB,IAAKA,GAAgC,kBAAbA,EACpB,OAAOA,EAIX,IAAImT,EAAUnT,EAEToT,QAAQ,kBAAmB,IAE3BA,QAAQ,iBAAkB,MAC1BA,QAAQ,aAAc,MAEtBA,QAAQ,WAAY,MAEpBA,QAAQ,UAAW,QAEnBrR,OAEAqR,QAAQ,0IAA2I,IAEnJA,QAAQ,gIAAiI,IAEzIA,QAAQ,WAAY,KACpBA,QAAQ,WAAY,KACpBA,QAAQ,WAAY,KAEpBA,QAAQ,iBAAkB,MAE1BA,QAAQ,UAAW,KAEnBA,QAAQ,eAAgB,IAExBA,QAAQ,wBAAoB,IAC5BA,QAAQ,qBAAsB,IAE9BA,QAAQ,qBAAsB,IAE9BA,QAAQ,SAAU,IAClBA,QAAQ,SAAU,IAKvB,OAFAD,EAMJ,SAA4CtS,GACxC,IAAKA,GAAwB,kBAATA,EAChB,OAAOA,EAIX,MAAMwS,EAAYxS,EAAKyS,MAAM,UACxBjZ,IAAIkZ,GAAKA,EAAExR,QACXlK,OAAO0b,GAAKA,EAAErb,OAAS,GAGtBsb,EAmDV,SAAyCH,GACrC,MAAMxS,EAAOwS,EAAUjQ,KAAK,KAAKoE,cAGjC,IAAIhF,EAAO,UACP3B,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,WACrLuM,EAAO,SACA3B,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,YACxKuM,EAAO,WACA3B,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,OAAS4K,EAAK5K,SAAS,gBAAkB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,gBAC/HuM,EAAO,gBACA3B,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,cAClKuM,EAAO,oBAIX,MAAMyC,EAAYoO,EAAUxb,OAAO0b,GAC/BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aAGvBwd,EAAkBJ,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,cAGvByd,EAAkBL,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,kBACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,iBAGvB4O,EAAcwO,EAAUxb,OAAO0b,GACjCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,aAGvB0d,EAAYN,EAAUxb,OAAO0b,GAAKA,EAAEtd,SAAS,MAC7C2d,EAAaP,EAAUxb,OAAO0b,IAAMA,EAAEtd,SAAS,MAG/CmW,EAgBV,SAA8BvL,GAC1B,MAAMuL,EAAS,IAGXvL,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,UACjGmW,EAAOyH,KAAK,aAAc,OAAQ,WAIlChT,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,kBAAoB4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,UACnGmW,EAAOyH,KAAK,QAAS,gBAAiB,WAItChT,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,SAChGmW,EAAOyH,KAAK,UAAW,WAAY,aAInChT,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,gBAC/FmW,EAAOyH,KAAK,UAAW,UAAW,kBAIlChT,EAAK5K,SAAS,QAAU4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,eAAiB4K,EAAK5K,SAAS,aAClGmW,EAAOyH,KAAK,aAAc,WAAY,WAG1C,MAAO,IAAI,IAAIC,IAAI1H,GACvB,CA7CmB2H,CAAqBlT,GAEpC,MAAO,CACH2B,OACAyC,YACAwO,kBACAC,kBACA7O,cACA8O,YACAC,aACAxH,SACA4H,eAAgBX,EAAUnb,OAElC,CA3HsB+b,CAAgCZ,GAGlD,MAAuB,WAAnBG,EAAUhR,KAkXlB,SAAsC6Q,EAAWG,GAC7C,IAAIU,EAAY,GAGhB,MAAMC,EAAUd,EAAUva,KAAKya,GAC3BA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBke,IACAD,GAAS,gBAAAxd,OAAU0d,EAAgBD,GAAQ,UAI3CX,EAAUC,gBAAgBvb,OAAS,IACnCgc,GAAa,kCACbV,EAAUC,gBAAgBlS,MAAM,EAAG,GAAG8S,QAAQ,CAACC,EAAQjZ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBE,GAAO,SAEhDJ,GAAa,MAIbV,EAAUE,gBAAgBxb,OAAS,IACnCgc,GAAa,wCACbV,EAAUE,gBAAgBnS,MAAM,EAAG,GAAG8S,QAAQ,CAACC,EAAQjZ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBE,GAAO,SAEhDJ,GAAa,MAIjB,MAAMK,EAAalB,EAAUxb,OAAO0b,GAChCA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBse,EAAWrc,OAAS,IACpBgc,GAAa,uCACbK,EAAWhT,MAAM,EAAG,GAAG8S,QAAQ,CAACG,EAAWnZ,KACvC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBI,GAAU,SAE/DN,GAAa,MAIjB,MAAMO,EAAoBpB,EAAUxb,OAAO0b,GACvCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBwe,EAAkBvc,OAAS,IAC3Bgc,GAAa,2CACbO,EAAkBlT,MAAM,EAAG,GAAG8S,QAAQK,IAClCR,GAAS,MAAAxd,OAAU0d,EAAgBM,GAAO,SAE9CR,GAAa,MAIjB,MAAMS,EAAetB,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,eAGzB0e,EAAazc,OAAS,IACtBgc,GAAa,kCACbS,EAAapT,MAAM,EAAG,GAAG8S,QAAQC,IAC7BJ,GAAS,MAAAxd,OAAU0d,EAAgBE,GAAO,SAE9CJ,GAAa,MAIbV,EAAU3O,YAAY3M,OAAS,IAC/Bgc,GAAa,kCACbV,EAAU3O,YAAYtD,MAAM,EAAG,GAAG8S,QAAQ,CAACvP,EAAYzJ,KACnD6Y,GAAS,aAAAxd,OAAY0d,EAAgBtP,GAAW,SAEpDoP,GAAa,MAIjB,MAAMU,EAAavB,EAAUva,KAAKya,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UAG7B,GAAI2e,EACAV,GAAS,gBAAAxd,OAAU0d,EAAgBQ,GAAW,SAC3C,CAEH,MAAMC,EAAgBrB,EAAUC,gBAAgBvb,OAC1C4c,EAAgBtB,EAAUE,gBAAgBxb,OAG5Cgc,GADAW,EAAgBC,EACP,yFACFA,EAAgBD,EACd,uGAEA,+FAEjB,CAEA,OAAOX,EAAUnS,MACrB,CA7eegT,CAA6B1B,EAAWG,GACrB,aAAnBA,EAAUhR,KA+ezB,SAAwC6Q,EAAWG,GAC/C,IAAIU,EAAY,GAGhB,MAAM3H,EAAU8G,EAAUva,KAAKya,GAC3BA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,kBACzBsd,EAAE/L,cAAcvR,SAAS,kBAGzBsW,IACA2H,GAAS,oCAAAxd,OAA8B0d,EAAgB7H,GAAQ,UAInE,MAAMyI,EAAW3B,EAAUxb,OAAO0b,GAC9BA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB+e,EAAS9c,OAAS,IAClBgc,GAAa,oCACbc,EAASzT,MAAM,EAAG,GAAG8S,QAAQ,CAACY,EAAS5Z,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBa,GAAQ,SAE7Df,GAAa,MAIjB,MAAMgB,EAAqB7B,EAAUxb,OAAO0b,GACxCA,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SAGzBif,EAAmBhd,OAAS,IAC5Bgc,GAAa,qCACbgB,EAAmB3T,MAAM,EAAG,GAAG8S,QAAQ,CAACtP,EAAW1J,KAC/C6Y,GAAS,aAAAxd,OAAY0d,EAAgBrP,GAAU,SAEnDmP,GAAa,MAIjB,GAAIV,EAAUpH,OAAOlU,OAAS,EAAG,CAC7Bgc,GAAS,gBAAAxd,OAAU8c,EAAUpH,OAAO,GAAG3H,OAAO,GAAGC,cAAgB8O,EAAUpH,OAAO,GAAG7K,MAAM,GAAE,yBACtE8R,EAAUxb,OAAO0b,GACpCC,EAAUpH,OAAO+I,KAAKlI,GAASsG,EAAE/L,cAAcvR,SAASgX,KAE7C1L,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KACzC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBgB,GAAQ,SAE7DlB,GAAa,IACjB,CAGIV,EAAU3O,YAAY3M,OAAS,IAC/Bgc,GAAa,4CACbV,EAAU3O,YAAYtD,MAAM,EAAG,GAAG8S,QAAQ,CAACgB,EAAKha,KAC5C6Y,GAAS,aAAAxd,OAAY0d,EAAgBiB,GAAI,SAE7CnB,GAAa,MAIjB,MAAM5H,EAAc+G,EAAUxb,OAAO0b,GACjCA,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBqW,EAAYpU,OAAS,IACrBgc,GAAa,4CACb5H,EAAY/K,MAAM,EAAG,GAAG8S,QAAQ,CAAClH,EAAM9R,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBjH,GAAK,SAE1D+G,GAAa,MAIjB,MAAMoB,EAAkBjC,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,gBAGzBqf,EAAgBpd,OAAS,IACzBgc,GAAa,oCACboB,EAAgB/T,MAAM,EAAG,GAAG8S,QAAQ,CAACkB,EAAQla,KACzC6Y,GAAS,aAAAxd,OAAY0d,EAAgBmB,GAAO,UAIpD,OAAOrB,EAAUnS,MACrB,CAzlBeyT,CAA+BnC,EAAWG,GACvB,iBAAnBA,EAAUhR,KA2lBzB,SAA4C6Q,GACxC,IAAIa,EAAY,GAGhB,MAAMuB,EAAWpC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,OACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,eAGzBwf,IACAvB,GAAS,GAAAxd,OAAO0d,EAAgBqB,GAAS,UAI7C,MAAMC,EAAerC,EAAUxb,OAAO0b,KACzB,OAARkC,QAAQ,IAARA,KAAUxf,SAASsd,KACpBA,EAAErb,OAAS,IAGXwd,EAAaxd,OAAS,IACtBgc,GAAa,8BACbwB,EAAanU,MAAM,EAAG,GAAG8S,QAAQ,CAACrU,EAAU3E,KACxC6Y,GAAS,MAAAxd,OAAU0d,EAAgBpU,GAAS,SAEhDkU,GAAa,MAIjB,MAAMyB,EAAmBtC,EAAUxb,OAAO0b,GACtCA,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,SAGzB0f,EAAiBzd,OAAS,IAC1Bgc,GAAa,uCACbyB,EAAiBpU,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgBgB,GAAQ,SAEjDlB,GAAa,MAIjB,MAAM0B,EAAWvC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,mBACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,sBACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,oBACzBsd,EAAE/L,cAAcvR,SAAS,iBAIzBie,GADA0B,EACS,gBAAAlf,OAAU0d,EAAgBwB,IAG1B,wFAGb,OAAO1B,EAAUnS,MACrB,CA7pBe8T,CAAmCxC,GAChB,qBAAnBG,EAAUhR,KA+pBzB,SAA+C6Q,GAC3C,IAAIa,EAAY,GAGhB,MAAM4B,EAAiBzC,EAAUva,KAAKya,GAClCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB6f,IACA5B,GAAS,gBAAAxd,OAAU0d,EAAgB0B,GAAe,UAItD,MAAMC,EAAkB1C,EAAUxb,OAAO0b,GACrCA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB8f,EAAgB7d,OAAS,IACzBgc,GAAa,+CACb6B,EAAgBxU,MAAM,EAAG,GAAG8S,QAAQ,CAAC9I,EAAUlQ,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgB7I,GAAS,SAElD2I,GAAa,MAIjB,MAAM8B,EAAY3C,EAAUxb,OAAO0b,GAC/BA,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzB+f,EAAU9d,OAAS,IACnBgc,GAAa,sCACb8B,EAAUzU,MAAM,EAAG,GAAG8S,QAAQ,CAAC4B,EAAU5a,KACrC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgB6B,GAAS,SAE9D/B,GAAa,MAIjB,MAAMgC,EAAe7C,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBigB,EAAahe,OAAS,IACtBgc,GAAa,yCACbgC,EAAa3U,MAAM,EAAG,GAAG8S,QAAQ,CAAC8B,EAAa9a,KAC3C6Y,GAAS,aAAAxd,OAAY0d,EAAgB+B,GAAY,SAErDjC,GAAa,MAIjB,MAAMkC,EAAe/C,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,WACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBmgB,EAAale,OAAS,IACtBgc,GAAa,oCACbkC,EAAa7U,MAAM,EAAG,GAAG8S,QAAQ,CAACgC,EAAShb,KACvC6Y,GAAS,aAAAxd,OAAY0d,EAAgBiC,GAAQ,SAEjDnC,GAAa,MAIjB,MAAM0B,EAAWvC,EAAUva,KAAKya,GAC5BA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,UACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,iBACzBsd,EAAE/L,cAAcvR,SAAS,cAIzBie,GADA0B,EACS,gBAAAlf,OAAU0d,EAAgBwB,IAE1B,sFAGb,OAAO1B,EAAUnS,MACrB,CAvwBeuU,CAAsCjD,GA0wBrD,SAAuCA,GACnC,IAAIa,EAAY,GAGhB,MAAMqC,EAAYlD,EAAU,GACxBkD,IACArC,GAAS,6BAAAxd,OAAuB0d,EAAgBmC,GAAU,UAI9D,MAAMC,EAAenD,EAAU9R,MAAM,EAAG,GACpCiV,EAAate,OAAS,IACtBgc,GAAa,uCACbsC,EAAanC,QAAQ,CAACoC,EAAapb,KAC/B6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBqC,GAAY,SAEjEvC,GAAa,MAIjB,MAAMwC,EAAWrD,EAAUxb,OAAO0b,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,QACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,gBACzBsd,EAAE/L,cAAcvR,SAAS,YAGzBygB,EAASxe,OAAS,IAClBgc,GAAa,+BACbwC,EAASnV,MAAM,EAAG,GAAG8S,QAAQ,CAACe,EAAS/Z,KACnC6Y,GAAS,aAAAxd,OAAY0d,EAAgBgB,GAAQ,SAEjDlB,GAAa,MAIjB,MAAMyC,EAAetD,EAAUxb,OAAO0b,GAClCA,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,aACzBsd,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,gBAGzB0gB,EAAaze,OAAS,IACtBgc,GAAa,qCACbyC,EAAapV,MAAM,EAAG,GAAG8S,QAAQ,CAACuC,EAAKvb,KACnC6Y,GAAS,MAAAxd,OAAU2E,EAAQ,EAAC,MAAA3E,OAAK0d,EAAgBwC,GAAI,SAEzD1C,GAAa,MAIjB,MAAMU,EAAavB,EAAUva,KAAKya,GAC9BA,EAAE/L,cAAcvR,SAAS,cACzBsd,EAAE/L,cAAcvR,SAAS,SACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,YACzBsd,EAAE/L,cAAcvR,SAAS,eACzBsd,EAAE/L,cAAcvR,SAAS,UAIzBie,GADAU,EACS,gBAAAle,OAAU0d,EAAgBQ,IAG1B,2IAGb,OAAOV,EAAUnS,MACrB,CAj1Be8U,CAA8BxD,EAE7C,CA/BcyD,CAAmC3D,GAEtCA,CACX,CA6XA,SAASiB,EAAgB2C,GACrB,OAAKA,GAAsB,kBAARA,EACZA,EAAItS,OAAO,GAAGC,cAAgBqS,EAAIxV,MAAM,GADHwV,CAEhD,CAg6Be,UAnbf,MACIC,cACIC,KAAK4C,OAASlkB,qOAAYmkB,0BAA4B,GACtD7C,KAAK8C,aAAepkB,qOAAYqkB,6BAA+B,GAC/D/C,KAAKgD,kBAAmB,CAC5B,CAGA,uBAAMjC,CAAkBrS,GAA2B,IAAfrC,EAAOmH,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC3C,IAAK9E,GAA2C,IAA7BA,EAAW5D,OAAO7J,OACjC,MAAO,CACH6E,SAAS,EACTb,MAAO,0BAIf,IAEI,GAAI+a,KAAK4C,OAAQ,CACb,MAAM3X,QAAe+U,KAAKiD,kBAAkBvU,EAAYrC,GACxD,GAAIpB,EAAOnF,QAAS,OAAOmF,CAC/B,CAGA,GAAI+U,KAAK8C,aAAc,CACnB,MAAM7X,QAAe+U,KAAKkD,qBAAqBxU,EAAYrC,GAC3D,GAAIpB,EAAOnF,QAAS,OAAOmF,CAC/B,CAGA,OAAI+U,KAAKgD,iBACEhD,KAAKmD,eAAezU,EAAYrC,GAGpC,CACHvG,SAAS,EACTb,MAAO,0BAGf,CAAE,MAAOA,GAEL,OADA7F,QAAQ6F,MAAM,sBAAuBA,GAC9B,CACHa,SAAS,EACTb,MAAOA,EAAMe,SAAW,kBAEhC,CACJ,CAGA,uBAAMid,CAAkBvU,EAAYrC,GAChC,IACI,MAAMtD,QAAiBxD,MAAM,6CAA8C,CACvEuE,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,cAAgB,UAADtK,OAAYugB,KAAK4C,SAEpC5Y,KAAMC,KAAKC,UAAU,CACjBnE,MAAO,QACPqd,SAAU,CACN,CACIzgB,KAAM,SACN8H,QAAQ,usDAsCZ,CACI9H,KAAM,OACN8H,QAAQ,yEAADhL,OAA2EiP,EAAU,8CAAAjP,OAE7GwK,KAAKC,UAAUmC,MAGNjE,YAAa,GACbib,WAAY,QAIpB,IAAKta,EAASvD,GACV,MAAM,IAAIC,MAAM,qBAADhG,OAAsBsJ,EAASrD,SAGlD,MAAME,QAAamD,EAASlD,OACtByO,EAAWrK,KAAKoY,MAAMzc,EAAK0d,QAAQ,GAAGtd,QAAQyE,SAEpD,MAAO,CACH3E,SAAS,EACTK,SAAU,8BACVmO,SAAQzN,wBAAA,GACDyN,GAAQ,IACX5F,WAAYA,EACZhE,WAAW,IAAIM,MAAOsM,gBAIlC,CAAE,MAAOrS,GAEL,MADA7F,QAAQ6F,MAAM,gCAAiCA,GACzCA,CACV,CACJ,CAGA,0BAAMie,CAAqBxU,EAAYrC,GACnC,IACI,MAAMtD,QAAiBxD,MAAM,wCAAyC,CAClEuE,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,YAAaiW,KAAK8C,aAClB,oBAAqB,cAEzB9Y,KAAMC,KAAKC,UAAU,CACjBnE,MAAO,2BACPsd,WAAY,IACZD,SAAU,CACN,CACIzgB,KAAM,OACN8H,QAAQ,ibAADhL,OAYnBiP,EAAU,gBAAAjP,OACfwK,KAAKC,UAAUmC,UAMd,IAAKtD,EAASvD,GACV,MAAM,IAAIC,MAAM,wBAADhG,OAAyBsJ,EAASrD,SAGrD,MAAME,QAAamD,EAASlD,OACtByO,EAAWrK,KAAKoY,MAAMzc,EAAK6E,QAAQ,GAAGb,MAE5C,MAAO,CACH9D,SAAS,EACTK,SAAU,mBACVmO,SAAQzN,wBAAA,GACDyN,GAAQ,IACX5F,WAAYA,EACZhE,WAAW,IAAIM,MAAOsM,gBAIlC,CAAE,MAAOrS,GAEL,MADA7F,QAAQ6F,MAAM,6BAA8BA,GACtCA,CACV,CACJ,CAGAke,eAAezU,EAAYrC,GACvB,MAAM6B,EAAQQ,EAAW6B,cAAc8L,MAAM,OACvC9G,EAAYrH,EAAMjN,OAGlBsiB,EAAgB,CAAC,OAAQ,QAAS,YAAa,UAAW,YAAa,OAAQ,OAAQ,QAAS,YAAa,WAC7GC,EAAgB,CAAC,MAAO,WAAY,QAAS,OAAQ,UAAW,UAAW,eAAgB,OAAQ,QAAS,YAElH,IAAI5F,EAAgB,EAChBC,EAAgB,EAEpB3P,EAAMkP,QAAQqE,IACN8B,EAAcvkB,SAASyiB,IAAO7D,IAC9B4F,EAAcxkB,SAASyiB,IAAO5D,MAGtC,IAAI/P,EAAY,UACZd,EAAa,GAEb4Q,EAAgBC,GAChB/P,EAAY,WACZd,EAAa6I,KAAK6L,IAAI,GAAK,GAAwC,IAAjC9D,EAAgBC,KAC3CA,EAAgBD,IACvB9P,EAAY,WACZd,EAAa6I,KAAK6L,IAAI,GAAK,GAAwC,IAAjC7D,EAAgBD,KAItD,MAAMxB,EAAY1N,EAAW2N,MAAM,UAAUzb,OAAO0b,GAAKA,EAAExR,OAAO7J,OAAS,GACrE+M,EAAYoO,EAAU9R,MAAM,EAAG,GAAGlH,IAAIkZ,GAAKA,EAAExR,QAG7C0K,EAAeD,EAAY,IAAM,OAASA,EAAY,IAAM,SAAW,OAGvEH,EAAO4K,KAAKyD,WAAW/U,GAE7B,MAAO,CACH5I,SAAS,EACTK,SAAU,iBACVmO,SAAU,CACNxG,YACAd,aACAgB,YACAmH,OAAQ6K,KAAK0D,cAAchV,GAC3Bd,YAAaoS,KAAK2D,oBAAoB7V,EAAWyH,EAAWH,GAC5DA,OACAC,YAAa2K,KAAK4D,oBAAoBlV,GACtC4G,QAAS8G,EAAU,IAAM,6BACzB7G,YACAC,eACA9G,aACAhE,WAAW,IAAIM,MAAOsM,eAGlC,CAGAmM,WAAW/U,GACP,MAAM9E,EAAO8E,EAAW6B,cAExB,OAAI3G,EAAK5K,SAAS,MAAQ4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,OACzD,eACA4K,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,cAAgB4K,EAAK5K,SAAS,cACvE,SACA4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,WACpE,YACA4K,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,YACpE,aAEA,SAEf,CAEA0kB,cAAchV,GACV,MAAM9E,EAAO8E,EAAW6B,cAClB4E,EAAS,GAkBf,OAhBIvL,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,QAAU4K,EAAK5K,SAAS,YAC/DmW,EAAOyH,KAAK,gBAEZhT,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,cAClEmW,EAAOyH,KAAK,oBAEZhT,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,aACtEmW,EAAOyH,KAAK,mBAEZhT,EAAK5K,SAAS,UAAY4K,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,YACpEmW,EAAOyH,KAAK,YAEZhT,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,aAAe4K,EAAK5K,SAAS,UACtEmW,EAAOyH,KAAK,UAGTzH,EAAOlU,OAAS,EAAIkU,EAAS,CAAC,UACzC,CAEAwO,oBAAoB7V,EAAWyH,EAAWH,GACtC,MAAMxH,EAAc,GAepB,OAbI2H,EAAY,IACZ3H,EAAYgP,KAAK,mDAEjBrH,EAAY,KACZ3H,EAAYgP,KAAK,yDAEH,aAAd9O,GACAF,EAAYgP,KAAK,sDAER,cAATxH,GACAxH,EAAYgP,KAAK,oDAGdhP,EAAY3M,OAAS,EAAI2M,EAAc,CAAC,iDACnD,CAEAgW,oBAAoBlV,GAChB,MAAM9E,EAAO8E,EAAW6B,cAClBsT,EAAU,GAYhB,OAVIja,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,WAAa4K,EAAK5K,SAAS,UACrE6kB,EAAQjH,KAAK,0CAEbhT,EAAK5K,SAAS,YAAc4K,EAAK5K,SAAS,WAC1C6kB,EAAQjH,KAAK,mCAEbhT,EAAK5K,SAAS,SAAW4K,EAAK5K,SAAS,cACvC6kB,EAAQjH,KAAK,qCAGViH,EAAQ5iB,OAAS,EAAI4iB,EAAU,CAAC,8CAC3C,CAGA,6BAAMC,CAAwBpV,GAAiD,IAArCsG,EAAUxB,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,UAAWgN,EAAMhN,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,EACvE,MAAMc,QAAiB0L,KAAKe,kBAAkBrS,EAAY,CAAEsG,aAAYwL,WAExE,IAAKlM,EAASxO,QACV,OAAOwO,EAIX,MAAM2N,EAAajC,KAAK+D,iBAAiBzP,EAASA,SAAUU,EAAYwL,GAExE,OAAA3Z,wBAAA,GACOyN,GAAQ,IACX2N,cAER,CAEA8B,iBAAiBzP,EAAUU,EAAYwL,GACnC,MAAM,UAAE1S,EAAS,UAAEE,EAAS,KAAEoH,EAAI,QAAEE,GAAYhB,EAEhD,IAAI2N,EAAa,GAsBjB,GAjBQA,GAFU,aAAdnU,EACa,iBAATsH,EACU,+BAAA3V,OAAmCuV,EAAU,MACvC,WAATI,EACG,uBAAA3V,OAA2BuV,EAAU,MAErC,8BAAAvV,OAAkCuV,EAAU,MAErC,aAAdlH,EACM,aAATsH,EACU,uBAAA3V,OAA2BuV,EAAU,wBAErC,8BAAAvV,OAAkCuV,EAAU,MAGhD,8BAAAvV,OAAkCuV,EAAU,MAItDhH,GAAaA,EAAU/M,OAAS,EAAG,CACnC,MAAM+iB,EAAShW,EAAU1D,MAAM,EAAG,GACZ,IAAlB0Z,EAAO/iB,OACPghB,GAAc+B,EAAO,GAErB/B,GAAc+B,EAAO7X,KAAK,IAElC,MAAWmJ,IACP2M,GAAc3M,GA4BlB,OAtBQ2M,GAFU,aAAdnU,EACa,iBAATsH,EACc,kCACE,WAATA,EACO,2BAEA,gBAEG,aAAdtH,EACM,aAATsH,EACc,uBAEA,0BAGJ,wCAIdoL,GAAUA,EAAS,IACnByB,GAAU,eAAAxiB,OAAmB+gB,EAAM,OAIhCvE,EAAgBgG,EAC3B,G,MChcWgC,MA12BSA,KACHC,cAAjB,MACOC,EAAaC,GAAkBtkB,mBAAS,IACxCoiB,EAAYmC,GAAiBvkB,mBAAS,CACzCkV,WAAY,aACZwL,OAAQ,EACRpL,KAAM,eACNkP,KAAM,GACNC,KAAM,GACNC,WAAY,MAET1P,EAAiBC,GAAsBjV,mBAAS,KAChD2kB,EAAcC,GAAmB5kB,oBAAS,IAC1CwU,EAAUyF,GAAeja,mBAAS,OAClCwgB,EAAaC,GAAkBzgB,oBAAS,IACxC6kB,EAAcC,GAAmB9kB,oBAAS,IAC1CmX,EAAc2J,GAAmB9gB,mBAAS,OAC1C+gB,EAAoBC,GAAyBhhB,oBAAS,IACtD+kB,EAAgBC,GAAqBhlB,oBAAS,IAC9CC,EAAUC,GAAeF,oBAAS,IAClCilB,EAAgBC,GAAqBllB,oBAAS,IAC9CmlB,EAAiBC,GAAsBplB,mBAAS,KAEjD,EAAEK,GAAME,cACR8kB,EAAepV,iBAAO,MAG5B7O,oBAAU,KACN,MAAMC,EAAcA,KAChBnB,EAAYnB,OAAOuC,YAAc,MAIrC,OAFAD,IACAtC,OAAOwC,iBAAiB,SAAUF,GAC3B,IAAMtC,OAAOyC,oBAAoB,SAAUH,IACnD,IAEH,MAAMikB,EAAc,CAChB,CAAEtiB,MAAO,aAAcuiB,MAAO,aAActhB,KAAM,qBAAO4D,MAAO,UAAW1B,YAAa,6BACxF,CAAEnD,MAAO,QAASuiB,MAAO,QAASthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,+BAC7E,CAAEnD,MAAO,UAAWuiB,MAAO,UAAWthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,0BACjF,CAAEnD,MAAO,UAAWuiB,MAAO,UAAWthB,KAAM,qBAAO4D,MAAO,UAAW1B,YAAa,yBAClF,CAAEnD,MAAO,aAAcuiB,MAAO,aAActhB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,uBACvF,CAAEnD,MAAO,MAAOuiB,MAAO,eAAgBthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,oBAClF,CAAEnD,MAAO,QAASuiB,MAAO,iBAAkBthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,yBACtF,CAAEnD,MAAO,UAAWuiB,MAAO,UAAWthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,kBAG/Eqf,EAAQ,CACV,CAAExiB,MAAO,eAAgBuiB,MAAO,eAAgBthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,0BAC3F,CAAEnD,MAAO,SAAUuiB,MAAO,SAAUthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,sBAC/E,CAAEnD,MAAO,eAAgBuiB,MAAO,eAAgBthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,sBAC3F,CAAEnD,MAAO,WAAYuiB,MAAO,WAAYthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,yBACnF,CAAEnD,MAAO,WAAYuiB,MAAO,WAAYthB,KAAM,eAAM4D,MAAO,UAAW1B,YAAa,qBAGjFsf,EAAQ,CACV,CAAE1iB,GAAI,EAAGmB,MAAO,cAAeD,KAAM,eAAMkC,YAAa,gCACxD,CAAEpD,GAAI,EAAGmB,MAAO,WAAYD,KAAM,eAAMkC,YAAa,6BACrD,CAAEpD,GAAI,EAAGmB,MAAO,cAAeD,KAAM,eAAMkC,YAAa,yBACxD,CAAEpD,GAAI,EAAGmB,MAAO,WAAYD,KAAM,SAAKkC,YAAa,uBAGlDuf,EAAoBA,CAACC,EAAO3iB,KAC9BuhB,EAAczgB,IACV,MAAM8hB,EAAW7e,wBAAA,GACVjD,GAAI,IACP,CAAC6hB,GAAQ3iB,IAIb,GAAc,SAAV2iB,GAA8B,SAAVA,GAA8B,eAAVA,EAAwB,CAChE,MAAME,EAAa,CACfD,EAAYpB,KACZoB,EAAYnB,KACZmB,EAAYlB,YACd5jB,OAAOglB,SAASzZ,KAAK,KAEjBiV,EAAkBC,EAAiBsE,GACrCvE,GAAmBA,IAAoBsE,EAAYlF,SACnDkF,EAAYlF,OAASY,EACrBN,GAAsB,GAE9B,CAOA,MAJc,WAAV2E,GACA3E,GAAsB,GAGnB4E,KA8BTxF,EAAiB9a,UAGnB,GADmB8c,EAAWoC,KAAKxZ,QAAUoX,EAAWqC,KAAKzZ,QAAUoX,EAAWsC,WAAW1Z,OAC7F,CAKA4Z,GAAgB,GAEhB,IACI,MAAMvO,EAAS0P,EAAa3D,EAAYjL,GACxClC,EAAmBoB,GAGnB,MAAM2P,EAAgB7b,KAAKoY,MAAMC,aAAaC,QAAQ,kBAAoB,MACpEwD,EAAY,CACdljB,GAAImI,KAAKmX,MACTnN,WAAYkN,EAAWlN,WACvBgR,SAAS,GAADvmB,OAAKyiB,EAAWlN,WAAWxH,OAAO,GAAGC,cAAgByU,EAAWlN,WAAW1K,MAAM,GAAE,WAC3F2b,SAAU/D,EAAWlN,WACrBwL,OAAQ0B,EAAW1B,OACnBpL,KAAM8M,EAAW9M,KACjBkP,KAAMpC,EAAWoC,KACjBC,KAAMrC,EAAWqC,KACjBC,WAAYtC,EAAWsC,WACvB1lB,SAAUmY,EACVd,OAAQA,EACRzL,WAAW,IAAIM,MAAOsM,eAE1BwO,EAAcI,QAAQH,GACtBzD,aAAaG,QAAQ,gBAAiBxY,KAAKC,UAAU4b,EAAcxb,MAAM,EAAG,MAG5EiH,WAAW,KACP4U,EAAchQ,IACf,IACP,CAAE,MAAOlR,GACL7F,QAAQ6F,MAAM,2BAA4BA,GAC1C6H,MAAM,+CACV,CAAC,QACG4X,GAAgB,EACpB,CApCA,MAFI5X,MAAM,8GAyCRqZ,EAAgB/gB,UAClB,GAAK6c,GAA2C,IAA7BA,EAAWnX,OAAO7J,OAArC,CAIAsf,GAAe,GACf,IACI,MAAMtV,QAAemb,EAAWrF,kBAAkBkB,EAAY,CAC1DjN,WAAYkN,EAAWlN,WACvBwL,OAAQ0B,EAAW1B,OACnBpL,KAAM8M,EAAW9M,KACjBiR,mBAAmB,EACnB3b,WAAW,IAAIM,MAAOsM,gBAGtBrM,EAAOnF,SACPiU,EAAY9O,GACZ2Z,GAAgB,KAEhBxlB,QAAQI,KAAK,iCAAkCyL,EAAOhG,OACtD8U,EAAY,CACRjU,SAAS,EACTb,MAAOgG,EAAOhG,OAAS,oBAGnC,CAAE,MAAOA,GACL7F,QAAQ6F,MAAM,0BAA2BA,GACzC8U,EAAY,CACRjU,SAAS,EACTb,MAAOA,EAAMe,SAAW,mBAEhC,CAAC,QACGua,GAAe,EACnB,CA9BA,GAiCEsF,EAAe,SAACjgB,GAA2B,IAArB9G,EAAQ0U,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,KACnC,MAAM,WAAEwB,EAAU,OAAEwL,EAAM,KAAEpL,EAAI,KAAEkP,EAAI,KAAEC,EAAI,WAAEC,GAAe5e,EAGvD0gB,EAAgB,CAClBC,WAAY,CACRC,SAAU,CACNC,SAAU,CACN,iEACA,gEACA,6EACA,sDACA,iEAEJC,SAAU,CACN,iEACA,oDACA,iDACA,wDACA,6DAEJC,QAAS,CACL,6CACA,mDACA,8CACA,wDACA,6CAGRC,WAAY,4BACZC,WAAY,2CACZC,iBAAkB,qCAEtBC,MAAO,CACHP,SAAU,CACNC,SAAU,CACN,yDACA,0DACA,wDACA,sDACA,qDAEJC,SAAU,CACN,0DACA,kDACA,+CACA,oDACA,kDAEJC,QAAS,CACL,yCACA,gDACA,6CACA,8CACA,2CAGRC,WAAY,sCACZC,WAAY,qCACZC,iBAAkB,8BAEtBE,QAAS,CACLR,SAAU,CACNC,SAAU,CACN,gDACA,iDACA,mDACA,iDACA,kDAEJC,SAAU,CACN,0DACA,yCACA,wCACA,2CACA,+CAEJC,QAAS,CACL,yCACA,kCACA,wCACA,wCACA,sCAGRC,WAAY,oCACZC,WAAY,kCACZC,iBAAkB,oDAEtBG,QAAS,CACLT,SAAU,CACNC,SAAU,CACN,0CACA,6DACA,mDACA,qDACA,oDAEJC,SAAU,CACN,wDACA,2CACA,wCACA,8CACA,+CAEJC,QAAS,CACL,2CACA,yCACA,sCACA,oDACA,gDAGRC,WAAY,wCACZC,WAAY,gCACZC,iBAAkB,+CAEtBtC,WAAY,CACRgC,SAAU,CACNC,SAAU,CACN,6CACA,gDACA,qDACA,uCACA,4CAEJC,SAAU,CACN,iEACA,4CACA,0CACA,wCACA,oCAEJC,QAAS,CACL,6CACA,uCACA,4CACA,0CACA,gCAGRC,WAAY,yCACZC,WAAY,4CACZC,iBAAkB,6BAEtBnH,IAAK,CACD6G,SAAU,CACNC,SAAU,CACN,+CACA,oDACA,8CACA,+CACA,4CAEJC,SAAU,CACN,oDACA,4CACA,mCACA,sCACA,gDAEJC,QAAS,CACL,qCACA,qCACA,mCACA,sCACA,4CAGRC,WAAY,gCACZC,WAAY,uCACZC,iBAAkB,gDAEtBI,MAAO,CACHV,SAAU,CACNC,SAAU,CACN,4CACA,sDACA,0CACA,iDACA,kDAEJC,SAAU,CACN,sDACA,8CACA,yCACA,8CACA,6CAEJC,QAAS,CACL,wCACA,yCACA,2CACA,gDACA,gDAGRC,WAAY,mCACZC,WAAY,4CACZC,iBAAkB,2CAEtBK,QAAS,CACLX,SAAU,CACNC,SAAU,CACN,mCACA,iDACA,0CACA,4CACA,oCAEJC,SAAU,CACN,gDACA,yCACA,+BACA,sCACA,qCAEJC,QAAS,CACL,kCACA,oCACA,iCACA,qCACA,oCAGRC,WAAY,+BACZC,WAAY,yBACZC,iBAAkB,8BAIpBM,EAASd,EAActR,IAAesR,EAAca,QAG1D,IAAIrZ,EAAY,UACZ0S,GAAU,EAAG1S,EAAY,WACpB0S,GAAU,IAAG1S,EAAY,YAGlC,MAAM0Y,EAAWY,EAAOZ,SAAS1Y,GAIjC,IAAIuZ,EAHYb,EAAS3Q,KAAKyR,MAAMzR,KAAK0R,SAAWf,EAASvlB,SAG/B,IAG1BqjB,EAAKxZ,SACLuc,GAAiBD,EAAOR,WAAa,IAAMtC,EAAKxZ,OAAS,MAIzDyZ,EAAKzZ,SACLuc,GAAiBD,EAAOP,WAAa,IAAMtC,EAAKzZ,OAAS,MAIzD0Z,EAAW1Z,SACXuc,GAAiBD,EAAON,iBAAmB,IAAMtC,EAAW1Z,OAAS,MAmBzE,OAPAuc,GARoB,CAChB,EAAG,8BACH,EAAG,8BACH,EAAG,6CACH,EAAG,0BACH,EAAG,4BAGsB7G,IAAW,GAGpC1hB,GAAYA,EAAS0B,OACrB6mB,GAAa,eAAA5nB,OAAmBX,EAAS0B,KAAI,MAG1C6mB,EAAcvc,MACzB,EAEMoC,EAAkBA,KAChB4H,IACArJ,UAAUC,UAAUC,UAAUmJ,GAC9BhI,MAAM,iCAIR0a,EAAcA,KAChBnD,EAAc,CACVrP,WAAY,aACZwL,OAAQ,EACRpL,KAAM,eACNkP,KAAM,GACNC,KAAM,GACNC,WAAY,KAEhBzP,EAAmB,IACnBgF,EAAY,MACZ6K,GAAgB,GAChBhE,EAAgB,MAChBE,GAAsB,GACtBsD,EAAe,GACfU,GAAkB,IAGhB2C,EAAwB3oB,IAC1B8hB,EAAgB9hB,IAGd4oB,EAAmCtiB,MAAOsJ,EAAY4S,OAItD7L,EAAsB6L,MAItBD,EAAoB5W,IACtB,IAAKA,GAAqC,IAA1BA,EAAQK,OAAO7J,OAAc,OAAO,KAEpD,MAAMsiB,EAAgB,CAAC,QAAS,YAAa,UAAW,YAAa,YAAa,UAAW,OAAQ,UAAW,cAAe,SAAU,YAAa,aAAc,aAAc,cAAe,YAAa,WAAY,cAAe,WAAY,WAAY,WAC3PC,EAAgB,CAAC,WAAY,QAAS,WAAY,MAAO,OAAQ,gBAAiB,QAAS,OAAQ,aAAc,YAAa,WAAY,UAAW,YAAa,aAAc,YAAa,WAAY,WAAY,eAAgB,aAAc,UAEnPtV,EAAQzD,EAAQ8F,cAAc8L,MAAM,OAC1C,IAAIuB,EAAgB,EAChBC,EAAgB,EAOpB,OALA3P,EAAMkP,QAAQqE,IACN8B,EAAcvkB,SAASyiB,IAAO7D,IAC9B4F,EAAcxkB,SAASyiB,IAAO5D,MAGlCD,EAAgBC,GAAiBD,GAAiB,EAAU,EAC5DA,EAAgBC,EAAsB,EACtCA,EAAgBD,GAAiBC,GAAiB,EAAU,EAC5DA,EAAgBD,EAAsB,EACnC,GAOL+J,EAAyBjZ,IAC3BwW,EAAmBxW,GAEnB8W,EAAkB,aAAc9W,IA4RpC,OACI3M,eAAA,OAAKC,UAAU,mBAAmB4lB,IAAKzC,EAAaljB,SAAA,CAC/C4iB,GA1RLxiB,cAAA,OAAKL,UAAU,sBAAqBC,SAChCF,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,KAAAJ,SAAG,mDAEPF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCF,eAAA,UACIC,UAAU,qBACVI,QAASA,KACL0iB,GAAkB,GAClBV,EAAe,IACjBniB,SAAA,CAEFI,cAAA,QAAML,UAAU,cAAaC,SAAC,iBAC9BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,iBACJI,cAAA,KAAAJ,SAAG,+CAGXF,eAAA,UACIC,UAAU,qBACVI,QAASA,KACL0iB,GAAkB,GAClBE,GAAkB,IACpB/iB,SAAA,CAEFI,cAAA,QAAML,UAAU,cAAaC,SAAC,iBAC9BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,gBACJI,cAAA,KAAAJ,SAAG,kDAGXF,eAAA,UACIC,UAAU,qBACVI,QAASA,KACL0iB,GAAkB,GAClBV,EAAe,IACjBniB,SAAA,CAEFI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC9BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,mBACJI,cAAA,KAAAJ,SAAG,0DAiPnBF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,gBAAeC,SAC1BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC9BI,cAAA,MAAAJ,SAAI,qBACJI,cAAA,KAAAJ,SAAG,4DACHF,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iCAChCI,cAAA,QAAML,UAAU,gBAAeC,SAAC,6BAChCI,cAAA,QAAML,UAAU,gBAAeC,SAAC,2CAK1C4iB,GACE9iB,eAAAkU,WAAA,CAAAhU,SAAA,CAvPZI,cAAA,OAAKL,UAAU,iBAAgBC,SAC1BsjB,EAAMniB,IAAI,CAACykB,EAAMzjB,IACdrC,eAAA,OAEIC,UAAS,aAAAvC,OAAe2E,GAAS+f,EAAc,SAAW,GAAE,KAAA1kB,OAAI2E,IAAU+f,EAAc,UAAY,IACpG/hB,QAASA,IA9ePylB,KACdzD,EAAeyD,GACX9nB,GAAYolB,EAAazU,SACzByU,EAAazU,QAAQoX,eAAe,CAAEC,SAAU,YA2ezBC,CAAS5jB,GAAOnC,SAAA,CAE/BI,cAAA,OAAKL,UAAU,cAAaC,SAAEmC,EAAQ,IACtCrC,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,OAAKL,UAAU,YAAWC,SAAE4lB,EAAK9jB,OACjC1B,cAAA,OAAKL,UAAU,aAAYC,SAAE4lB,EAAK7jB,aAPjC6jB,EAAKhlB,OAuPNd,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAzOtBgmB,MACtB,OAAQ9D,GACJ,KAAK,EACD,OACIpiB,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,yCACJI,cAAA,KAAAJ,SAAG,gEAEPI,cAAA,OAAKL,UAAU,YAAWC,SACrBmjB,EAAYhiB,IAAImI,GACbxJ,eAAA,UAEIC,UAAS,aAAAvC,OAAeyiB,EAAWlN,aAAezJ,EAAKzI,MAAQ,SAAW,IAC1EV,QAASA,IAAMojB,EAAkB,aAAcja,EAAKzI,OAAOb,SAAA,CAE3DI,cAAA,OAAKL,UAAU,YAAY4C,MAAO,CAAE8Q,gBAAiBnK,EAAK5D,OAAQ1F,SAC7DsJ,EAAKxH,OAEVhC,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,MAAAJ,SAAKsJ,EAAK8Z,QACVhjB,cAAA,KAAAJ,SAAIsJ,EAAKtF,mBATRsF,EAAKzI,aAgBlC,KAAK,EACD,OACIf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,kCACJI,cAAA,KAAAJ,SAAG,gDAEPI,cAAA,OAAKL,UAAU,YAAWC,SACrBqjB,EAAMliB,IAAIgS,GACPrT,eAAA,UAEIC,UAAS,aAAAvC,OAAeyiB,EAAW9M,OAASA,EAAKtS,MAAQ,SAAW,IACpEV,QAASA,IAAMojB,EAAkB,OAAQpQ,EAAKtS,OAAOb,SAAA,CAErDI,cAAA,OAAKL,UAAU,YAAY4C,MAAO,CAAE8Q,gBAAiBN,EAAKzN,OAAQ1F,SAC7DmT,EAAKrR,OAEVhC,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACtBI,cAAA,MAAAJ,SAAKmT,EAAKiQ,QACVhjB,cAAA,KAAAJ,SAAImT,EAAKnP,mBATRmP,EAAKtS,UActBf,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,kBACJF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,eAAcC,SACxB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGmB,IAAIye,GACjBxf,cAAA,UAEIL,UAAS,YAAAvC,OAAcyiB,EAAW1B,QAAUqB,EAAO,SAAW,IAC9Dzf,QAASA,IAAMojB,EAAkB,SAAU3D,GAAM5f,SACpD,UAHQ4f,MAQjB9f,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACvBigB,EAAW1B,OAAO,kBAClBK,GACGxe,cAAA,QAAML,UAAU,sBAAqBC,SAAC,4BAOlE,KAAK,EACD,OACIF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,uCACJI,cAAA,KAAAJ,SAAG,yFAGN8iB,GACGhjB,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAChCI,cAAA,MAAAJ,SAAI,6BACJI,cAACgM,EAAgB,CAACC,aAAcqZ,IAC/B1C,GACG5iB,cAAA,OAAKL,UAAU,gBAAeC,SAC1BF,eAAA,KAAAE,SAAA,CAAGI,cAAA,UAAAJ,SAAQ,sBAA0B,IAAEgjB,UAMvDljB,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,SAAAE,SAAA,CACII,cAAA,QAAML,UAAU,aAAYC,SAAC,WAAQ,2BAGzCI,cAAA,YACIS,MAAOof,EAAWoC,KAClBvhB,SAAWC,GAAMwiB,EAAkB,OAAQxiB,EAAEG,OAAOL,OACpDsI,YAAY,iDACZpJ,UAAU,iCAIlBD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,SAAAE,SAAA,CACII,cAAA,QAAML,UAAU,aAAYC,SAAC,WAAQ,iCAGzCI,cAAA,YACIS,MAAOof,EAAWqC,KAClBxhB,SAAWC,GAAMwiB,EAAkB,OAAQxiB,EAAEG,OAAOL,OACpDsI,YAAY,qDACZpJ,UAAU,iCAIlBD,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACrCF,eAAA,SAAAE,SAAA,CACII,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAAS,wBAG1CI,cAAA,YACIS,MAAOof,EAAWsC,WAClBzhB,SAAWC,GAAMwiB,EAAkB,aAAcxiB,EAAEG,OAAOL,OAC1DsI,YAAY,qEACZpJ,UAAU,8BACVqJ,KAAM,UAKlBtJ,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,MAAAJ,SAAI,qCACJI,cAAC+Y,EAAkB,CACfC,iBAAkBoM,EAClBnM,gBAAiBrE,UAKrC,KAAK,EACD,OACIlV,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CACxBI,cAAA,MAAAJ,SAAI,gCACJI,cAAA,KAAAJ,SAAG,4EAGPI,cAAA,OAAKL,UAAU,mBAAkBC,SAC7BI,cAAA,UACIL,UAAU,eACVI,QAAS8d,EACT1U,SAAUiZ,EAAaxiB,SAEtBwiB,EACG1iB,eAAAkU,WAAA,CAAAhU,SAAA,CACII,cAAA,QAAML,UAAU,oBAAyB,mBAI7CD,eAAAkU,WAAA,CAAAhU,SAAA,CACII,cAAA,QAAML,UAAU,WAAUC,SAAC,WAAQ,yBAOlD6S,GACG/S,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BI,cAAA,MAAAJ,SAAI,uCACJF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,UAAQD,QAAS8K,EAAiBlL,UAAU,aAAYC,SAAC,sBAGzDI,cAAA,UAAQD,QAASA,IAAMwiB,GAAiBD,GAAe3iB,UAAU,aAAYC,SAAC,yBAG9EI,cAAA,UAAQD,QAASolB,EAAaxlB,UAAU,aAAYC,SAAC,kCAK7DI,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BI,cAAA,OAAAJ,SAAM6S,MAGT6P,GAAgBrQ,GACbjS,cAACgS,EAAa,CACVC,SAAUA,EACVC,iBAAkBmT,EAClBlT,eAAgBiB,UAO5C,QACI,OAAO,OA2BMwS,GAEDlmB,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC3BkiB,EAAc,GACX9hB,cAAA,UAAQD,QAjvBvB8lB,KACT/D,EAAc,IACdC,EAAeD,EAAc,GACzBpkB,GAAYolB,EAAazU,SACzByU,EAAazU,QAAQoX,eAAe,CAAEC,SAAU,aA6uBD/lB,UAAU,mBAAkBC,SAAC,gBAI3DkiB,EAAcoB,EAAMtkB,OAAS,GAAqB,IAAhBkjB,GAC/B9hB,cAAA,UAAQD,QAhwBvB+lB,KACThE,EAAcoB,EAAMtkB,OAAS,IAC7BmjB,EAAeD,EAAc,GAEzBpkB,GAAYolB,EAAazU,SACzByU,EAAazU,QAAQoX,eAAe,CAAEC,SAAU,aA2vBD/lB,UAAU,mBAAkBC,SAAC,gC,MCjiB7EmmB,MAjUOA,KAClB,MAAOC,EAASC,GAAcxoB,mBAAS,KAChCyoB,EAAiBC,GAAsB1oB,mBAAS,KAChD2oB,EAAYC,GAAiB5oB,mBAAS,KACtC6oB,EAAYC,GAAiB9oB,mBAAS,QACtC+oB,EAAiBC,GAAsBhpB,mBAAS,IAAI+c,MACrD,EAAE1c,GAAME,cAEda,oBAAU,KACN6nB,KACD,IAEH7nB,oBAAU,KACN8nB,KACD,CAACX,EAASI,EAAYE,IAEzB,MAAMI,EAAcA,KAEhB,MAAMrI,EAAezW,KAAKoY,MAAMC,aAAaC,QAAQ,kBAAoB,MAGnE0G,EAAehf,KAAKoY,MAAMC,aAAaC,QAAQ,iBAAmB,MAExEnjB,QAAQC,IAAI,sCACZD,QAAQC,IAAI,mBAAoBqhB,EAAazf,OAAQ,WACrD7B,QAAQC,IAAI,kBAAmB4pB,EAAahoB,OAAQ,WACpD7B,QAAQC,IAAI,uBAAwB4pB,GAGpC,MAAMC,EAAwBD,EAAa7lB,IAAI+lB,IAAW,CACtDtmB,GAAIsmB,EAAYtmB,GAChBmS,WAAYmU,EAAY5d,KACxBya,SAAS,GAADvmB,OAAK0pB,EAAY5d,KAAKiC,OAAO,GAAGC,cAAgB0b,EAAY5d,KAAKjB,MAAM,GAAE,WACjF2b,SAAUkD,EAAY5d,KACtBiV,OAAQ2I,EAAY3I,OACpBpL,KAAM,kBACNkP,KAAM,GACNC,KAAM,GACNC,WAAY2E,EAAYza,YAAc,GACtCyH,OAAQgT,EAAYhT,OACpBrX,SAAUqqB,EAAYrqB,SACtB4L,UAAWye,EAAYze,UACvB0e,eAAe,KAGnBhqB,QAAQC,IAAI,2BAA4B6pB,GAGxC,MAAMG,EAAa,IAAI3I,KAAiBwI,GACnCI,KAAK,CAAC1Q,EAAG2Q,IAAM,IAAIve,KAAKue,EAAE7e,WAAa,IAAIM,KAAK4N,EAAElO,YAEvDtL,QAAQC,IAAI,0BAA2BgqB,EAAWpoB,QAElDqnB,EAAWe,IAGTL,EAAgBA,KAClB,IAAIQ,EAAWnB,EAGI,QAAfM,IACAa,EAAWA,EAAS5oB,OAAOuV,GAAUA,EAAOnB,aAAe2T,IAI3DF,IACAe,EAAWA,EAAS5oB,OAAOuV,GACvBA,EAAO6P,SAASzV,cAAcvR,SAASypB,EAAWlY,gBAClD4F,EAAO8P,SAAS1V,cAAcvR,SAASypB,EAAWlY,gBAClD4F,EAAOA,OAAO5F,cAAcvR,SAASypB,EAAWlY,iBAIxDiY,EAAmBgB,IAkCjBC,EAAyBC,IAC3BZ,EAAmBllB,IACf,MAAM+lB,EAAS,IAAI9M,IAAIjZ,GAMvB,OALI+lB,EAAOC,IAAIF,GACXC,EAAOE,OAAOH,GAEdC,EAAOG,IAAIJ,GAERC,KAITI,EAAcrf,GACT,IAAIM,KAAKN,GAAWsf,mBAAmB,QAAS,CACnDC,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YAmChB,OACIhoB,cAAA,OAAKL,UAAU,iBAAgBC,SAC3BF,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC9BF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAK9B,EAAE,yBACPkC,cAAA,KAAAJ,SAAI9B,EAAE,+BACN4B,eAAA,UACIK,QAAS2mB,EACT/mB,UAAU,cACVgC,MAAO7D,EAAE,iCAAiC8B,SAAA,CAC7C,gBACO9B,EAAE,kCAId4B,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACvBI,cAAA,SACIkJ,KAAK,OACLH,YAAajL,EAAE,mCACf2C,MAAO2lB,EACP1lB,SAAWC,GAAM0lB,EAAc1lB,EAAEG,OAAOL,SAE5CT,cAAA,QAAML,UAAU,cAAaC,SAAC,oBAGlCF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,UACIL,UAAS,cAAAvC,OAA+B,QAAfkpB,EAAuB,SAAW,IAC3DvmB,QAASA,IAAMwmB,EAAc,OAAO3mB,SAEnC9B,EAAE,6BAEP4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,eAAfkpB,EAA8B,SAAW,IAClEvmB,QAASA,IAAMwmB,EAAc,cAAc3mB,SAAA,CAC9C,sBACQ9B,EAAE,qCAEX4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,UAAfkpB,EAAyB,SAAW,IAC7DvmB,QAASA,IAAMwmB,EAAc,SAAS3mB,SAAA,CACzC,gBACO9B,EAAE,gCAEV4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,YAAfkpB,EAA2B,SAAW,IAC/DvmB,QAASA,IAAMwmB,EAAc,WAAW3mB,SAAA,CAC3C,gBACO9B,EAAE,kCAEV4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,YAAfkpB,EAA2B,SAAW,IAC/DvmB,QAASA,IAAMwmB,EAAc,WAAW3mB,SAAA,CAC3C,sBACQ9B,EAAE,kCAEX4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,eAAfkpB,EAA8B,SAAW,IAClEvmB,QAASA,IAAMwmB,EAAc,cAAc3mB,SAAA,CAC9C,gBACO9B,EAAE,qCAEV4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,QAAfkpB,EAAuB,SAAW,IAC3DvmB,QAASA,IAAMwmB,EAAc,OAAO3mB,SAAA,CACvC,gBACO9B,EAAE,8BAEV4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,UAAfkpB,EAAyB,SAAW,IAC7DvmB,QAASA,IAAMwmB,EAAc,SAAS3mB,SAAA,CACzC,gBACO9B,EAAE,gCAEV4B,eAAA,UACIC,UAAS,cAAAvC,OAA+B,YAAfkpB,EAA2B,SAAW,IAC/DvmB,QAASA,IAAMwmB,EAAc,WAAW3mB,SAAA,CAC3C,gBACO9B,EAAE,wCAKU,IAA3BooB,EAAgBtnB,OACbc,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCI,cAAA,OAAKL,UAAU,aAAYC,SAAC,iBAC5BI,cAAA,MAAAJ,SAAK9B,EAAE,kCACPkC,cAAA,KAAAJ,SACwB,IAAnBomB,EAAQpnB,OACHd,EAAE,gCACFA,EAAE,mCAGQ,IAAnBkoB,EAAQpnB,QACLc,eAACG,IAAI,CAACC,GAAG,YAAYH,UAAU,aAAYC,SAAA,CAAC,UAAG9B,EAAE,iCAIzDkC,cAAA,OAAKL,UAAU,eAAcC,SACxBsmB,EAAgBnlB,IAAK+S,IAClBpU,sBAAA,OAAqBC,UAAS,2BAAAvC,OAA6B0W,EAAOnB,YAAa/S,SAAA,CAC3EF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,QAAML,UAAU,YAAYgC,MAAOmS,EAAOnB,WAAW/S,UAtI1DsJ,EAsI8E4K,EAAOnB,WArI9F,CACVgS,QAAS,eACTT,WAAY,qBACZQ,MAAO,eACPuD,MAAO,eACPC,KAAM,eACNtD,QAAS,qBACTzC,WAAY,eACZ7E,IAAK,eACLuH,MAAO,eACPC,QAAS,gBAEA5b,IAAS,kBA0HMlJ,cAAA,QAAML,UAAU,eAAcC,SAAEkU,EAAO6P,WACvCjkB,eAAA,QAAMC,UAAU,gBAAgBgC,MAAK,WAAAvE,OAAa0W,EAAOqK,OAAM,MAAKve,SAAA,EAxH5Eue,EAyH4BrK,EAAOqK,OAxHhD,SAAIgK,OAAOhK,GAAU,SAAIgK,OAAO,EAAIhK,IAwHoB,IAACze,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAAEkU,EAAOqK,OAAO,WAE/ErK,EAAOiT,eAAiB/mB,cAAA,QAAML,UAAU,cAAcgC,MAAM,eAAc/B,SAAC,oBAEhFF,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC7BI,cAAA,OAAKL,UAAU,sBAAqBC,SAC/BkU,EAAOA,OAAOlV,OAAS,MAAQ4nB,EAAgBe,IAAIzT,EAAOtT,IAEnDd,eAAAkU,WAAA,CAAAhU,SAAA,CACKkU,EAAOA,OAAO/H,UAAU,EAAG,KAAK,MACjC/L,cAAA,UAAQD,QAASA,IAAMqnB,EAAsBtT,EAAOtT,IAAKb,UAAU,aAAagC,MAAO7D,EAAE,0BAA0B8B,SAAE9B,EAAE,+BAI3H4B,eAAAkU,WAAA,CAAAhU,SAAA,CACKkU,EAAOA,OACPA,EAAOA,OAAOlV,OAAS,KAAO4nB,EAAgBe,IAAIzT,EAAOtT,KACtDR,cAAA,UAAQD,QAASA,IAAMqnB,EAAsBtT,EAAOtT,IAAKb,UAAU,eAAegC,MAAO7D,EAAE,0BAA0B8B,SAAE9B,EAAE,iCAM5IgW,EAAOrX,UACJiD,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC5BI,cAAA,QAAML,UAAU,gBAAeC,SAAC,iBAChCI,cAAA,QAAML,UAAU,gBAAeC,UA/I/CnD,EA+IgEqX,EAAOrX,SA9ItFA,EAEDA,EAASyY,QACFzY,EAASyY,QACTzY,EAASoY,UAAYpY,EAASsY,UAC/B,GAAN3X,OAAUX,EAASoY,SAASjK,QAAQ,GAAE,MAAAxN,OAAKX,EAASsY,UAAUnK,QAAQ,IAEnE,KAPe,cAkJElL,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CAC/BI,cAAA,QAAML,UAAU,cAAaC,SAAE8nB,EAAW5T,EAAOzL,aACjDrI,cAAA,QAAML,UAAU,cAAaC,SAAEkU,EAAOf,OACtCrT,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,UAAQD,QAASA,IAtMjC+T,KAChB1K,UAAUC,UAAUC,UAAUwK,EAAOA,QACrCrJ,MAAM,gCAoMiD2d,CAAWtU,GAASnU,UAAU,kBAAkBgC,MAAO7D,EAAE,yBAAyB8B,SAAC,iBAC1GI,cAAA,UAAQD,QAASA,IAjO/BS,KAClB,GAAIhE,OAAO6rB,QAAQ,gDAAiD,CAChE,MAAMlI,EAAiB6F,EAAQznB,OAAOuV,GAAUA,EAAOtT,KAAOA,GAC9DylB,EAAW9F,GAGX,MAAMmI,EAAiBnI,EAAe5hB,OAAOuV,IAAWA,EAAOiT,eACzDH,EAAezG,EAAe5hB,OAAOuV,GAAUA,EAAOiT,eAG5D9G,aAAaG,QAAQ,gBAAiBxY,KAAKC,UAAUygB,IAGrD,MAAMC,EAAuB3B,EAAa7lB,IAAI+S,IAAM,CAChDtT,GAAIsT,EAAOtT,GACX0I,KAAM4K,EAAOnB,WACbwL,OAAQrK,EAAOqK,OACfrK,OAAQA,EAAOA,OACfzH,WAAYyH,EAAOqO,WACnBlQ,SAAU6B,EAAO7B,SACjB5J,UAAWyL,EAAOzL,aAEtB4X,aAAaG,QAAQ,eAAgBxY,KAAKC,UAAU0gB,GACxD,GA0MuDC,CAAa1U,EAAOtT,IAAKb,UAAU,oBAAoBgC,MAAO7D,EAAE,2BAA2B8B,SAAC,+BAxCrHkU,EAAOtT,IAhHjB/D,MAJA0hB,EAhBGjV,MAoLdgd,EAAgBtnB,OAAS,GACtBoB,cAAA,OAAKL,UAAU,gBAAeC,SAC1BF,eAAA,KAAAE,SAAA,CACK9B,EAAE,yBAAyB,IAAEooB,EAAgBtnB,OAAO,IAAEd,EAAE,oBAAoB,IAAEkoB,EAAQpnB,OAAO,IAAEd,EAAE,oC,MCglB/G2qB,MAx4BKA,KAClB,MAAOC,EAAUC,GAAelrB,mBAAS,CACvCkW,MAAO,GACPiV,SAAU,GACV1f,KAAM,WACN2f,SAAU,GACVpsB,SAAU,GACVqsB,eAAgB,UAChB/V,KAAM,eACNnU,OAAQ,SACR+M,UAAW,GACXod,gBAAiB,MAEZC,EAAeC,GAAoBxrB,mBAAS,KAC5C2kB,EAAcC,GAAmB5kB,oBAAS,IAC1CmF,EAAOC,GAAYpF,mBAAS,KAI5ByrB,EAAQC,GAAa1rB,mBAAS,KAC9B2rB,EAAaC,GAAkB5rB,oBAAS,IACxC6rB,EAAgBC,GAAqB9rB,mBAAS,IAC9C+rB,EAAeC,GAAoBhsB,mBAAS,OAE7C,EAAEK,GAAME,cAuER0rB,EAAgBA,CAACC,EAAWC,KAChC,MAAMC,EAAY,IAAIX,IACfY,GAAcD,EAAUE,OAAOJ,EAAW,GACjDE,EAAUE,OAAOH,EAAS,EAAGE,GAC7BX,EAAUU,IAGNG,EAAkBC,IACtB,GAAc,IAAVA,EAAa,MAAO,UACxB,MAEM1a,EAAIiE,KAAKyR,MAAMzR,KAAKxW,IAAIitB,GAASzW,KAAKxW,IAFlC,OAGV,OAAOka,YAAY+S,EAAQzW,KAAK0W,IAHtB,KAG6B3a,IAAI3E,QAAQ,IAAM,IAF3C,CAAC,QAAS,KAAM,KAAM,MAEiC2E,IAajE4a,GATwBrsB,EAAE,gBACHA,EAAE,eACJA,EAAE,aACAA,EAAE,eACGA,EAAE,oBACLA,EAAE,iBACNA,EAAE,aAGL,CACtB,CAAE2C,MAAO,UAAWuiB,MAAOllB,EAAE,yBAA0B4D,KAAM,eAAM4D,MAAO,WAC1E,CAAE7E,MAAO,YAAauiB,MAAOllB,EAAE,2BAA4B4D,KAAM,eAAM4D,MAAO,WAC9E,CAAE7E,MAAO,YAAauiB,MAAOllB,EAAE,2BAA4B4D,KAAM,eAAM4D,MAAO,WAC9E,CAAE7E,MAAO,WAAYuiB,MAAOllB,EAAE,0BAA2B4D,KAAM,eAAM4D,MAAO,WAC5E,CAAE7E,MAAO,YAAauiB,MAAOllB,EAAE,2BAA4B4D,KAAM,eAAM4D,MAAO,WAC9E,CAAE7E,MAAO,QAASuiB,MAAOllB,EAAE,uBAAwB4D,KAAM,eAAM4D,MAAO,WACtE,CAAE7E,MAAO,YAAauiB,MAAOllB,EAAE,2BAA4B4D,KAAM,qBAAO4D,MAAO,aAG3E2d,EAAQ,CACZ,CAAExiB,MAAO,eAAgBuiB,MAAOllB,EAAE,oBAAqB4D,KAAM,eAAM4D,MAAO,WAC1E,CAAE7E,MAAO,SAAUuiB,MAAOllB,EAAE,sBAAuB4D,KAAM,eAAM4D,MAAO,WACtE,CAAE7E,MAAO,eAAgBuiB,MAAOllB,EAAE,oBAAqB4D,KAAM,eAAM4D,MAAO,WAC1E,CAAE7E,MAAO,UAAWuiB,MAAOllB,EAAE,4BAA6B4D,KAAM,SAAK4D,MAAO,WAC5E,CAAE7E,MAAO,SAAUuiB,MAAOllB,EAAE,kBAAmB4D,KAAM,eAAM4D,MAAO,WAClE,CAAE7E,MAAO,SAAUuiB,MAAOllB,EAAE,oBAAqB4D,KAAM,eAAM4D,MAAO,YAGhE8kB,EAAU,CACd,CAAE3pB,MAAO,QAASuiB,MAAOllB,EAAE,yBAA0B4D,KAAM,eAAM4D,MAAO,WACxE,CAAE7E,MAAO,SAAUuiB,MAAOllB,EAAE,0BAA2B4D,KAAM,eAAM4D,MAAO,WAC1E,CAAE7E,MAAO,OAAQuiB,MAAOllB,EAAE,yBAA0B4D,KAAM,eAAM4D,MAAO,WACvE,CAAE7E,MAAO,aAAcuiB,MAAOllB,EAAE,+BAAgC4D,KAAM,eAAM4D,MAAO,YAG/E6d,EAAoBA,CAACC,EAAO3iB,KAChCkoB,EAAYpnB,GAAIiD,wBAAA,GACXjD,GAAI,IACP,CAAC6hB,GAAQ3iB,MAyRP4pB,EAA6BjiB,IACjC,IAAKA,EAAS,OAAO,KAIrB,OAFcA,EAAQ4R,MAAM,MAEfjZ,IAAI,CAACupB,EAAMvoB,KACtB,MAAMwoB,EAAcD,EAAK7hB,OAGzB,GAAI8hB,EAAYlqB,WAAW,QAAUkqB,EAAYlqB,WAAW,MAC1D,OACEL,cAAA,MAAgBL,UAAU,oBAAmBC,SAC1C2qB,EAAYxe,UAAU,IADhBhK,GAOb,GAAIwoB,EAAYlqB,WAAW,OACzB,OACEL,cAAA,MAAgBL,UAAU,oBAAmBC,SAC1C2qB,EAAYxe,UAAU,IADhBhK,GAOb,GAAIwoB,EAAYlqB,WAAW,QACzB,OACEL,cAAA,MAAgBL,UAAU,oBAAmBC,SAC1C2qB,EAAYxe,UAAU,IADhBhK,GAOb,GAAIwoB,EAAYlqB,WAAW,SACzB,OACEL,cAAA,MAAgBL,UAAU,oBAAmBC,SAC1C2qB,EAAYxe,UAAU,IADhBhK,GAOb,GAAIwoB,EAAYlqB,WAAW,WACzB,OACEX,eAAA,OAAiBC,UAAU,sBAAqBC,SAAA,CAC9CI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC9BI,cAAA,QAAML,UAAU,YAAWC,SACxB2qB,EAAYxe,UAAU,OAHjBhK,GAUd,GAAI,WAAWkM,KAAKsc,GAClB,OACE7qB,eAAA,OAAiBC,UAAU,sBAAqBC,SAAA,CAC9CF,eAAA,QAAMC,UAAU,cAAaC,SAAA,CAC1B2qB,EAAYC,MAAM,QAAQ,GAAG,OAEhCxqB,cAAA,QAAML,UAAU,YAAWC,SACxB2qB,EAAYzQ,QAAQ,WAAY,QAL3B/X,GAYd,GAAIwoB,EAAY5tB,SAAS,MAAO,CAC9B,MAAM8tB,EAAQF,EAAYvQ,MAAM,MAChC,OACEha,cAAA,KAAeL,UAAU,sBAAqBC,SAC3C6qB,EAAM1pB,IAAI,CAAC2pB,EAAMC,IAChBA,EAAY,IAAM,EAChB3qB,cAAA,UAAwBL,UAAU,mBAAkBC,SACjD8qB,GADUC,GAIb3qB,cAAA,QAAAJ,SAAuB8qB,GAAZC,KAPT5oB,EAYZ,CAGA,OAAIwoB,EAAY5tB,SAAS,WAAQ4tB,EAAY5tB,SAAS,iBAAS4tB,EAAY5tB,SAAS,iBAChF4tB,EAAY5tB,SAAS,WAAQ4tB,EAAY5tB,SAAS,iBAAS4tB,EAAY5tB,SAAS,gBAEhFqD,cAAA,OAAiBL,UAAU,sBAAqBC,SAC9CI,cAAA,KAAGL,UAAU,mBAAkBC,SAC5B2qB,KAFKxoB,GASVwoB,EAEAvqB,cAAA,KAAeL,UAAU,sBAAqBC,SAC3C2qB,GADKxoB,GAOL/B,cAAA,OAAiBL,UAAU,wBAAjBoC,MA4FrB,OACErC,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,UAAQC,UAAU,qBAAoBC,SAAA,CACpCI,cAAA,QAAML,UAAU,0BAAyBC,SAAC,iBAC1CI,cAAA,MAAIL,UAAU,2BAA0BC,SAAE9B,EAAE,2BAC5CkC,cAAA,KAAGL,UAAU,0BAAyBC,SAAE9B,EAAE,oCAE5C4B,eAAA,QAAMC,UAAU,mBAAkBC,SAAA,CAChCF,eAAA,OAAKC,UAAU,wBAAuBC,SAAA,CAEpCI,cAAA,WAASL,UAAU,yBAAwBC,UACvCopB,GACAtpB,eAAA,QAAMC,UAAU,mBAAmBirB,aAAa,MAAMriB,SAAU5H,IAAOA,EAAE6H,iBAze5DzF,WAEvB,GAAK2lB,EAAS/U,MAAMlL,OAKpB,GAAKigB,EAASE,SAASngB,OAAvB,CAOA4Z,GAAgB,GAChBxf,EAAS,IACTomB,EAAiB,IAEjB,IAEE,MACM/sB,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAGvF2uB,EAAY3B,EAAOnoB,IAAI+pB,IAAG,CAC9B3sB,KAAM2sB,EAAI3sB,KACV+K,KAAM4hB,EAAI5hB,KACV6hB,KAAMD,EAAIC,KACVC,QAASF,EAAIE,WAGT/nB,QAAYC,MAAM,GAAD9F,OAAIlB,EAAO,kBAAkB,CAClDuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAASrD,wBAAC,CAAC,EACjBkkB,GAAQ,IACXQ,OAAQ2B,OAINtnB,QAAaN,EAAIO,OACvB,GAAID,EAAKE,QAAS,CAChBwlB,EAAiB1lB,EAAK0nB,UACtBxB,EAAiBlmB,EAAKimB,eAGtB,MAAM0B,EAActjB,KAAKoY,MAAMC,aAAaC,QAAQ,gBAAkB,MAChEiL,EAAO3mB,wBAAA,CACXhE,GAAImI,KAAKmX,OACN4I,GAAQ,IACXuC,SAAU1nB,EAAK0nB,SACf/B,OAAQA,EACRM,cAAejmB,EAAKimB,cACpB9lB,MAAOH,EAAKG,MACZwP,UAAW3P,EAAK2P,UAChBkY,SAAU7nB,EAAK6nB,SACf/iB,WAAW,IAAIM,MAAOsM,gBAExBiW,EAAYrH,QAAQsH,GACpBlL,aAAaG,QAAQ,cAAexY,KAAKC,UAAUqjB,EAAYjjB,MAAM,EAAG,MAGxE,UACQ/E,MAAM,GAAD9F,OAAIlB,EAAO,cAAc,CAClCuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAASrD,wBAAC,CAAC,EACjBkkB,GAAQ,IACXuC,SAAU1nB,EAAK0nB,SACf/B,OAAQA,EACRM,cAAejmB,EAAKimB,cACpB9lB,MAAOH,EAAKG,MACZwP,UAAW3P,EAAK2P,UAChBkY,SAAU7nB,EAAK6nB,aAGrB,CAAE,MAAOC,GAEPtuB,QAAQI,KAAKW,EAAE,iCAAkCutB,EACnD,CACF,MACExoB,EAASU,EAAKX,OAAS9E,EAAE,4BAE7B,CAAE,MAAOgL,GACPjG,EAAS/E,EAAE,eAAgB,CAAEiS,aAAcjH,EAAInF,UACjD,CAAC,QACC0e,GAAgB,EAClB,CA7EA,MAFExf,EAAS/E,EAAE,6BALX+E,EAAS/E,EAAE,0BAsewFwtB,IAAsB1rB,SAAA,CAE/GF,eAAA,YAAUC,UAAU,uBAAsBC,SAAA,CACxCI,cAAA,UAAQL,UAAU,qBAAoBC,SAAE9B,EAAE,gBAC1C4B,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACtCI,cAAA,SACEkJ,KAAK,OACLqiB,UAAQ,EACRC,OAAO,UACP9qB,SAlnBO2O,IACzB,MACMoc,EADQC,MAAMC,KAAKtc,EAAMvO,OAAO8qB,OACbrtB,OAAOstB,IAC9B,MAAMC,EAAc,CAAC,aAAc,YAAa,YAAa,YAAa,cAAcnvB,SAASkvB,EAAK3iB,MAChG6iB,EAAcF,EAAKd,MAAQ,QAEjC,OAAKe,IAKAC,IACHthB,MAAM3M,EAAE,eAAgB,CAAEkuB,SAAUH,EAAK1tB,SAClC,IANPsM,MAAM3M,EAAE,kBAAmB,CAAEkuB,SAAUH,EAAK1tB,SACrC,KAWX,GAA0B,IAAtBstB,EAAW7sB,OAAc,OAE7ByqB,GAAe,GACfE,EAAkB,GAGlB,MAAM0C,EAAmB3qB,YAAY,KACnCioB,EAAkBhoB,GACZA,GAAQ,IACVC,cAAcyqB,GACP,IAEF1qB,EAAO,KAEf,KAGG2qB,EAAgBT,EAAW1qB,IAAI8qB,GAC5B,IAAIvX,QAASC,IAClB,MAAM4X,EAAS,IAAIC,WACnBD,EAAOE,OAAU1rB,IACf,MAAMkqB,EAAY,CAChBrqB,GAAImI,KAAKmX,MAAQtM,KAAK0R,SACtB/mB,KAAM0tB,EAAK1tB,KACX4sB,KAAMc,EAAKd,KACX7hB,KAAM2iB,EAAK3iB,KACX8hB,QAASrqB,EAAEG,OAAO8H,OAClB0jB,YAAY,IAAI3jB,MAAOsM,eAEzBV,EAAQsW,IAEVsB,EAAOI,cAAcV,MAIzBvX,QAAQkY,IAAIN,GAAeva,KAAKkY,IAC9BV,EAAU5nB,GAAQ,IAAIA,KAASsoB,IAC/BN,EAAkB,KAClBra,WAAW,KACTma,GAAe,GACfE,EAAkB,IACjB,QAujBahnB,MAAO,CAAEuC,QAAS,QAClBtE,GAAG,iBAELd,eAAA,SAAOa,QAAQ,eAAeZ,UAAU,2BAA0BC,SAAA,CAChEI,cAAA,QAAML,UAAU,0BAAyBC,SAAC,iBAAS,IAAE9B,EAAE,mBAEzDkC,cAAA,QAAML,UAAU,6BAA4BC,SAAE9B,EAAE,+BAEjDsrB,GACCppB,cAAA,OAAKL,UAAU,8BAA6BC,SAC1CI,cAAA,OAAKL,UAAU,4BAA2BC,SACxCI,cAAA,OAAKL,UAAU,yBAAyB4C,MAAO,CAAE2C,MAAM,GAAD9H,OAAKksB,EAAc,YAI9EJ,EAAOtqB,OAAS,GACfoB,cAAA,OAAKL,UAAU,yBAAwBC,SACpCspB,EAAOnoB,IAAI,CAAC0rB,EAAO1qB,IAClBrC,eAAA,OAAoBC,UAAU,4BAA2BC,SAAA,CACvDI,cAAA,OAAK0sB,IAAKD,EAAMzB,QAAS2B,IAAKF,EAAMtuB,OACpC6B,cAAA,OAAKL,UAAU,yBAAwBC,SAAE6sB,EAAMtuB,KAAKS,OAAS,GAAK6tB,EAAMtuB,KAAK4N,UAAU,EAAG,IAAM,MAAQ0gB,EAAMtuB,OAC9G6B,cAAA,OAAKL,UAAU,yBAAwBC,SAAEoqB,EAAeyC,EAAM1B,QAC9DrrB,eAAA,OAAKC,UAAU,4BAA2BC,SAAA,CACxCI,cAAA,UAAQkJ,KAAK,SAASvJ,UAAU,SAASI,QAASA,KAAM6sB,OA1kB7DC,EA0kByEJ,EAAMjsB,QAzkBlG2oB,EAAU5nB,GAAQA,EAAKhD,OAAOusB,GAAOA,EAAItqB,KAAOqsB,IAD7BA,OA0kBmFjtB,SAAC,uBAC9EmC,EAAQ,GAAK/B,cAAA,UAAQkJ,KAAK,SAASnJ,QAASA,IAAM2pB,EAAc3nB,EAAOA,EAAQ,GAAGnC,SAAC,iBACnFmC,EAAQmnB,EAAOtqB,OAAS,GAAKoB,cAAA,UAAQkJ,KAAK,SAASnJ,QAASA,IAAM2pB,EAAc3nB,EAAOA,EAAQ,GAAGnC,SAAC,sBAP9F6sB,EAAMjsB,UAgBxBd,eAAA,YAAUC,UAAU,uBAAsBC,SAAA,CACxCI,cAAA,UAAQL,UAAU,qBAAoBC,SAAE9B,EAAE,sBAC1C4B,eAAA,SAAOC,UAAU,oBAAoBY,QAAQ,QAAOX,SAAA,CAAE9B,EAAE,aAAa,QACrEkC,cAAA,SACEQ,GAAG,QACHb,UAAU,oBACVuJ,KAAK,OACLzI,MAAOioB,EAAS/U,MAChBjT,SAAUC,GAAKwiB,EAAkB,QAASxiB,EAAEG,OAAOL,OACnDsI,YAAajL,EAAE,0DACfwM,UAAQ,IAEVtK,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,WAAUX,SAAC,kCACxDI,cAAA,SACEQ,GAAG,WACHb,UAAU,oBACVuJ,KAAK,OACLzI,MAAOioB,EAASE,SAChBloB,SAAUC,GAAKwiB,EAAkB,WAAYxiB,EAAEG,OAAOL,OACtDsI,YAAY,8BACZuB,UAAQ,IAEVtK,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,OAAMX,SAAC,sDACpDI,cAAA,SACEQ,GAAG,OACHb,UAAU,oBACVuJ,KAAK,OACLzI,MAAOioB,EAASxf,KAChBxI,SAAUC,GAAKwiB,EAAkB,OAAQxiB,EAAEG,OAAOL,OAClDsI,YAAY,mCAEd/I,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,WAAUX,SAAC,oDACxDI,cAAA,SACEQ,GAAG,WACHb,UAAU,oBACVuJ,KAAK,OACLzI,MAAOioB,EAASG,SAChBnoB,SAAUC,GAAKwiB,EAAkB,WAAYxiB,EAAEG,OAAOL,OACtDsI,YAAY,2CAEd/I,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,WAAUX,SAAE9B,EAAE,cAC3DkC,cAAA,SACEQ,GAAG,WACHb,UAAU,oBACVuJ,KAAK,OACLzI,MAAOioB,EAASjsB,SAChBiE,SAAUC,GAAKwiB,EAAkB,WAAYxiB,EAAEG,OAAOL,OACtDsI,YAAajL,EAAE,2CAKnB4B,eAAA,YAAUC,UAAU,uBAAsBC,SAAA,CACxCI,cAAA,UAAQL,UAAU,qBAAoBC,SAAE9B,EAAE,wBAC1C4B,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACvCI,cAAA,QAAML,UAAU,oBAAmBC,SAAE9B,EAAE,oBACvCkC,cAAA,OAAKL,UAAU,yBAAwBC,SACpCuqB,EAAgBppB,IAAI+rB,GACnBptB,eAAA,UAEEwJ,KAAK,SACLvJ,UAAS,yBAAAvC,OAA2BsrB,EAASI,iBAAmBgE,EAASrsB,MAAQ,YAAc,IAC/FV,QAASA,IAAMojB,EAAkB,iBAAkB2J,EAASrsB,OAC5D,eAAcioB,EAASI,iBAAmBgE,EAASrsB,MAAMb,SAAA,CAEzDI,cAAA,QAAML,UAAU,0BAAyBC,SAAEktB,EAASprB,OACpD1B,cAAA,QAAAJ,SAAOktB,EAAS9J,UAPX8J,EAASrsB,aAYtBf,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACvCI,cAAA,QAAML,UAAU,oBAAmBC,SAAE9B,EAAE,iBACvCkC,cAAA,OAAKL,UAAU,yBAAwBC,SACpCqjB,EAAMliB,IAAIgS,GACTrT,eAAA,UAEEwJ,KAAK,SACLvJ,UAAS,yBAAAvC,OAA2BsrB,EAAS3V,OAASA,EAAKtS,MAAQ,YAAc,IACjFV,QAASA,IAAMojB,EAAkB,OAAQpQ,EAAKtS,OAC9C,eAAcioB,EAAS3V,OAASA,EAAKtS,MAAMb,SAAA,CAE3CI,cAAA,QAAML,UAAU,0BAAyBC,SAAEmT,EAAKrR,OAChD1B,cAAA,QAAAJ,SAAOmT,EAAKiQ,UAPPjQ,EAAKtS,aAYlBf,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACvCI,cAAA,QAAML,UAAU,oBAAmBC,SAAE9B,EAAE,gBACvCkC,cAAA,OAAKL,UAAU,yBAAwBC,SACpCwqB,EAAQrpB,IAAInC,GACXc,eAAA,UAEEwJ,KAAK,SACLvJ,UAAS,yBAAAvC,OAA2BsrB,EAAS9pB,SAAWA,EAAO6B,MAAQ,YAAc,IACrFV,QAASA,IAAMojB,EAAkB,SAAUvkB,EAAO6B,OAClD,eAAcioB,EAAS9pB,SAAWA,EAAO6B,MAAMb,SAAA,CAE/CI,cAAA,QAAML,UAAU,0BAAyBC,SAAEhB,EAAO8C,OAClD1B,cAAA,QAAAJ,SAAOhB,EAAOokB,UAPTpkB,EAAO6B,gBAetBf,eAAA,YAAUC,UAAU,uBAAsBC,SAAA,CACxCI,cAAA,UAAQL,UAAU,qBAAoBC,SAAE9B,EAAE,uBAC1CkC,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,YAAWX,SAAE9B,EAAE,wBAC5DkC,cAAA,YACEQ,GAAG,YACHb,UAAU,oBACVc,MAAOioB,EAAS/c,UAChBjL,SAAUC,GAAKwiB,EAAkB,YAAaxiB,EAAEG,OAAOL,OACvDsI,YAAajL,EAAE,qEACfkL,KAAM,IAERhJ,cAAA,SAAOL,UAAU,oBAAoBY,QAAQ,kBAAiBX,SAAE9B,EAAE,iCAClEkC,cAAA,YACEQ,GAAG,kBACHb,UAAU,oBACVc,MAAOioB,EAASK,gBAChBroB,SAAUC,GAAKwiB,EAAkB,kBAAmBxiB,EAAEG,OAAOL,OAC7DsI,YAAajL,EAAE,+EACfkL,KAAM,OAIVhJ,cAAA,OAAKL,UAAU,2BAA0BC,SACvCI,cAAA,UACEkJ,KAAK,SACLvJ,UAAU,yBACVwJ,SAAUiZ,IAAiBsG,EAAS/U,MAAMlL,SAAWigB,EAASE,SAASngB,OAAO7I,SAE7EwiB,EACCpiB,cAAA,QAAML,UAAU,wBAEhBD,eAAA,QAAMC,UAAU,2BAA0BC,SAAA,CAAC,gBAAI9B,EAAE,gCAQ7DkC,cAAA,WAASL,UAAU,4BAA2BC,SAC3CopB,GACCtpB,eAAA,OAAKC,UAAU,2BAA0BC,SAAA,CACvCF,eAAA,UAAQC,UAAU,6BAA4BC,SAAA,CAC5CI,cAAA,QAAML,UAAU,2BAA0BC,SAAC,WAC3CI,cAAA,MAAIL,UAAU,4BAA2BC,SAAE9B,EAAE,8BAE/CkC,cAAA,OAAKL,UAAU,qCAAoCC,SACjDI,cAAA,OAAKL,UAAU,8BAA6BC,SACzCyqB,EAA0BrB,OAG/BtpB,eAAA,UAAQC,UAAU,2BAA0BC,SAAA,CAC1CF,eAAA,QAAMC,UAAU,gCAA+BC,SAAA,CAC7CI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,aAAa,KAxjBrFkrB,EACEA,EAAchP,MAAM,OAAOpb,OADP,EAwjBiF,IAAEd,EAAE,YAElG4B,eAAA,QAAMC,UAAU,gCAA+BC,SAAA,CAC7CI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,UAAU,KAAGorB,EAAOtqB,UAEnFc,eAAA,QAAMC,UAAU,gCAA+BC,SAAA,CAC7CI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,SAAS,2CAExE4B,eAAA,QAAMC,UAAU,gCAA+BC,SAAA,CAC7CI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,aAAa,MAAG,IAAI6K,MAAO1C,uBAG3FujB,GACC9pB,eAAA,OAAKC,UAAU,qCAAoCC,SAAA,CACjDF,eAAA,MAAIC,UAAU,2CAA0CC,SAAA,CACtDI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,+BAE/DkC,cAAA,OAAKL,UAAU,0CAAyCC,SACrD4pB,EAAcuD,aAAahsB,IAAI,CAAC+pB,EAAK/oB,IACpCrC,eAAA,OAAiBC,UAAU,0CAAyCC,SAAA,CAClEI,cAAA,OAAKL,UAAU,0CAAyCC,SAAEkrB,EAAI3sB,OAC9DuB,eAAA,OAAKC,UAAU,+CAA8CC,SAAA,CAAC,gBAAI9B,EAAE,aAAa,KAAGgtB,EAAIkC,sBACxFttB,eAAA,OAAKC,UAAU,6CAA4CC,SAAA,CAAC,gBAAI9B,EAAE,WAAW,KAAGgtB,EAAImC,sBAH5ElrB,MAObynB,EAAc0D,uBAAuBtuB,OAAS,GAC7Cc,eAAA,OAAKC,UAAU,8CAA6CC,SAAA,CAC1DF,eAAA,OAAKC,UAAU,oDAAmDC,SAAA,CAChEI,cAAA,QAAML,UAAU,gCAA+BC,SAAC,iBAAS,IAAE9B,EAAE,0BAA0B,OAEzFkC,cAAA,MAAIL,UAAU,mDAAkDC,SAC7D4pB,EAAc0D,uBAAuBnsB,IAAI,CAACyK,EAAYzJ,IACrD/B,cAAA,MAAAJ,SAAiB4L,GAARzJ,oBAY5Ba,GACClD,eAAA,OAAKC,UAAU,6BAA4BC,SAAA,CACzCI,cAAA,QAAML,UAAU,0BAAyBC,SAAC,iBAAS,IAAEgD,YCgElDuqB,MAh8BGA,KAChB,MAAOC,EAAWC,GAAgB5vB,mBAAS,cACpCytB,EAAaoC,GAAkB7vB,mBAAS,KACxC2oB,EAAYC,GAAiB5oB,mBAAS,KACtC6oB,EAAYC,GAAiB9oB,mBAAS,QACtC8vB,EAAcC,GAAmB/vB,mBAAS,KAC1CgwB,EAAgBC,GAAqBjwB,oBAAS,IAC9CkwB,EAAcC,GAAmBnwB,mBAAS,KAC1CowB,EAAaC,GAAkBrwB,oBAAS,IACzC,EAAEK,GAAME,cAEda,oBAAU,KACJgvB,EACFE,IAEAC,KAED,CAACH,IAGJhvB,oBAAU,KACJqsB,EAAYtsB,OAAS,GAAmB,cAAdwuB,GAC5BC,EAAa,YAEd,CAACnC,EAAYtsB,OAAQwuB,IAExB,MAAMY,EAAkBA,KACtB,IACE,MAAMxmB,EAAUI,KAAKoY,MAAMC,aAAaC,QAAQ,gBAAkB,MAClEoN,EAAe9lB,EACjB,CAAE,MAAO5E,GACP7F,QAAQ6F,MAAM,8BAA+BA,GAC7C0qB,EAAe,GACjB,GAcIW,EAAgB/C,EAAY3sB,OAAO2vB,IACvC,MAAMC,EAAgBD,EAAKva,MAAMzF,cAAcvR,SAASypB,EAAWlY,gBAC9CggB,EAAKE,eAAelgB,cAAcvR,SAASypB,EAAWlY,eACrEmgB,EAA+B,QAAf/H,GAAwB4H,EAAKI,iBAAmBhI,EACtE,OAAO6H,GAAiBE,IAGpB3G,EAAcrf,GACX,IAAIM,KAAKN,GAAWsf,mBAAmB,QAAS,CACrDC,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YAINuG,EAAgBnmB,GACbA,EAAQ4R,MAAM,OAAOpb,OA6BxB4vB,EAAY,CAChB,CACEC,KAAM,WACN9sB,MAAO,mDACP+sB,QAAS,qJACT9K,SAAU,WACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,eACPnnB,MAAO,WAET,CACEmpB,KAAM,qBACN9sB,MAAO,4CACP+sB,QAAS,4HACT9K,SAAU,aACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,qBACPnnB,MAAO,WAET,CACEmpB,KAAM,gBACN9sB,MAAO,uDACP+sB,QAAS,0HACT9K,SAAU,QACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,eACPnnB,MAAO,WAET,CACEmpB,KAAM,kBACN9sB,MAAO,wCACP+sB,QAAS,8GACT9K,SAAU,UACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,eACPnnB,MAAO,WAET,CACEmpB,KAAM,sBACN9sB,MAAO,+DACP+sB,QAAS,uHACT9K,SAAU,mBACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,eACPnnB,MAAO,WAET,CACEmpB,KAAM,mBACN9sB,MAAO,8BACP+sB,QAAS,uGACT9K,SAAU,SACV+K,SAAU,aACVC,KAAM,YACNnC,MAAO,eACPnnB,MAAO,YAILyoB,EAAoBhrB,UACxB2qB,GAAkB,GAClBE,EAAgB,IAChB,IACE,MACM1xB,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QACvF+G,QAAYC,MAAM,GAAD9F,OAAIlB,EAAO,eAC5BqH,QAAaN,EAAIO,OACnBD,EAAKE,QACP+pB,EAAgBjqB,EAAKsrB,OAAS,IAE9BjB,EAAgBrqB,EAAKX,OAAS9E,EAAE,6BAEpC,CAAE,MAAOgL,GACP8kB,EAAgB9vB,EAAE,oCACpB,CAAC,QACC4vB,GAAkB,EACpB,GAGF,OACE1tB,cAAA,OAAKuC,MAAO,CACVusB,UAAW,QACXrqB,WAAY,oDACZE,QAAS,OACToqB,WAAY,qEACZnvB,SACAF,eAAA,OAAK6C,MAAO,CACVysB,SAAU,KACVrpB,OAAQ,SACRlB,WAAY,4BACZC,aAAc,OACdgB,UAAW,kCACXupB,SAAU,SACVC,eAAgB,cAChBtvB,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZE,QAAS,YACTE,UAAW,UACXjF,SAAA,CACAI,cAAA,QAAMuC,MAAO,CACXgD,SAAU,OACVE,aAAc,OACdX,QAAS,QACTvG,OAAQ,0CACRqB,SAAC,iBACHI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRH,WAAY,MACZD,SAAU,OACVD,MAAO,OACP6pB,WAAY,6BACZvvB,SACC9B,EAAE,mBAELkC,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,IACRJ,SAAU,OACVD,MAAO,OACP8pB,QAAS,QACTxvB,SACC9B,EAAE,2BAKP4B,eAAA,OAAK6C,MAAO,CAAEoC,QAAS,aAAc/E,SAAA,CAEnCF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,MACLQ,aAAc,OACdhB,WAAY,UACZC,aAAc,OACdC,QAAS,MACTC,OAAQ,qBACRhF,SAAA,CACAF,eAAA,UACEK,QAASA,IAAMstB,EAAa,aAC5B9qB,MAAO,CACL8sB,KAAM,EACN1qB,QAAS,YACTD,aAAc,MACdE,OAAQ,OACRH,WAA0B,cAAd2oB,EAA4B,UAAY,cACpD9nB,MAAqB,cAAd8nB,EAA4B,OAAS,UAC5C5nB,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,iBACZ3vB,SAAA,CAED9B,EAAE,qBAAqB,KAAG0wB,EAAU5vB,OAAO,OAE9Cc,eAAA,UACEK,QAASA,IAAMstB,EAAa,WAC5B9qB,MAAO,CACL8sB,KAAM,EACN1qB,QAAS,YACTD,aAAc,MACdE,OAAQ,OACRH,WAA0B,YAAd2oB,EAA0B,UAAY,cAClD9nB,MAAqB,YAAd8nB,EAA0B,OAAS,UAC1C5nB,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,gBACZ5a,SAAU,YACV/U,SAAA,CAED9B,EAAE,iBAAiB,KAAGotB,EAAYtsB,OAAO,IACzCssB,EAAYtsB,OAAS,GACpBoB,cAAA,QAAMuC,MAAO,CACXoS,SAAU,WACV6a,IAAK,OACLC,MAAO,OACPhrB,WAAY,UACZa,MAAO,OACPZ,aAAc,MACdQ,MAAO,OACPC,OAAQ,OACRI,SAAU,OACVT,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBQ,WAAY,QACZ5F,SACCsrB,EAAYtsB,eAMN,cAAdwuB,EAEC1tB,eAAA,OAAAE,SAAA,CACEI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACC9B,EAAE,oBAELkC,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,OACLQ,aAAc,QACd7F,SACC4uB,EAAUztB,IAAK2uB,GACd1vB,cAACH,IAAI,CAEHC,GAAE,SAAA1C,OAAWsyB,EAAKjB,MAClBlsB,MAAO,CACLotB,eAAgB,OAChBrqB,MAAO,UACPR,QAAS,SACTlF,SAEFF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACR2qB,WAAY,gBACZD,OAAQ,UACRnqB,OAAQ,OACRL,QAAS,OACT8qB,cAAe,UAEjBzvB,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,mBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,mCAE7BtF,aAAeO,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,gBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,QAC3B9F,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACVkC,WAAW,2BAADrH,OAA6BsyB,EAAKpqB,MAAK,SAAAlI,OAAQsyB,EAAKpqB,MAAK,YACnEZ,aAAc,OACdQ,MAAO,OACPC,OAAQ,OACRL,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,QACV3F,SACC8vB,EAAKjD,QAERzsB,cAAA,OAAAJ,SACEI,cAAA,QAAMuC,MAAO,CACXkC,WAAYirB,EAAKpqB,MACjBA,MAAO,OACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,MACZsqB,cAAe,YACfC,cAAe,SACfnwB,SACC8vB,EAAK9L,gBAKZ5jB,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,MACZI,WAAY,OACZhG,SACC8vB,EAAK/tB,QAGR3B,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,aACRL,MAAO,UACPM,WAAY,MACZL,SAAU,OACV8pB,KAAM,GACNzvB,SACC8vB,EAAKhB,UAGRhvB,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTE,eAAgB,gBAChBD,WAAY,SACZsB,UAAW,QACXzG,SAAA,CACAI,cAAA,QAAMuC,MAAO,CACX+C,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACC8vB,EAAKd,OAER5uB,cAAA,QAAMuC,MAAO,CACX+C,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACC8vB,EAAKf,kBApGPe,EAAKjB,YA8GlB/uB,eAAA,OAAAE,SAAA,CAEEF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTE,UAAW,SACXS,MAAO,QACP1F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,iBACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,OAAQ5F,SAAEsrB,EAAYtsB,SAClEoB,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQ6pB,QAAS,OAAQxvB,SAAE9B,EAAE,mBAEvD4B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTE,UAAW,SACXS,MAAO,QACP1F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,iBACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,OAAQ5F,SACjDsrB,EAAY8E,OAAO,CAACC,EAAO/B,IAAS+B,EAAQ1B,EAAaL,EAAKjD,UAAW,GAAGhlB,mBAE/EjG,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQ6pB,QAAS,OAAQxvB,SAAE9B,EAAE,mBAEvD4B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTE,UAAW,SACXS,MAAO,QACP1F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,OAAQ7F,SAAC,iBACvDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQC,WAAY,OAAQ5F,SACjD,IAAI4a,IAAI0Q,EAAYnqB,IAAImtB,GAAQA,EAAKE,iBAAiBrD,OAEzD/qB,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQ6pB,QAAS,OAAQxvB,SAAE9B,EAAE,uBAKzD4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLQ,aAAc,OACdU,SAAU,OACVpB,WAAY,UACZnF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAE8sB,KAAM,EAAGa,SAAU,SAAUtwB,SACzCI,cAAA,SACEkJ,KAAK,OACLH,YAAajL,EAAE,iCACf2C,MAAO2lB,EACP1lB,SAAWC,GAAM0lB,EAAc1lB,EAAEG,OAAOL,OACxC8B,MAAO,CACL2C,MAAO,OACPP,QAAS,YACTC,OAAQ,oBACRF,aAAc,MACda,SAAU,YAIhB7F,eAAA,UACEe,MAAO6lB,EACP5lB,SAAWC,GAAM4lB,EAAc5lB,EAAEG,OAAOL,OACxC8B,MAAO,CACLoC,QAAS,YACTC,OAAQ,oBACRF,aAAc,MACda,SAAU,OACV2qB,SAAU,SACVtwB,SAAA,CAEFI,cAAA,UAAQS,MAAM,MAAKb,SAAE9B,EAAE,cACvBkC,cAAA,UAAQS,MAAM,aAAYb,SAAE9B,EAAE,gBAC9BkC,cAAA,UAAQS,MAAM,OAAMb,SAAE9B,EAAE,UACxBkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,cAC5BkC,cAAA,UAAQS,MAAM,SAAQb,SAAE9B,EAAE,YAC1BkC,cAAA,UAAQS,MAAM,MAAKb,SAAE9B,EAAE,YACvBkC,cAAA,UAAQS,MAAM,aAAYb,SAAE9B,EAAE,eAC9BkC,cAAA,UAAQS,MAAM,cAAab,SAAE9B,EAAE,gBAC/BkC,cAAA,UAAQS,MAAM,cAAab,SAAE9B,EAAE,mBAEjC4B,eAAA,UACEK,QAASiuB,EACTzrB,MAAO,CACLkC,WAAY,UACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,MACdC,QAAS,YACTa,WAAY,MACZ8pB,OAAQ,WACR1vB,SAAA,CACH,gBACK9B,EAAE,iBAKV4B,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQG,IAAK,MAAOQ,aAAc,QAAS7F,SAAA,CAChEI,cAAA,UACED,QAASA,IAAM+tB,GAAe,GAC9BvrB,MAAO,CACL8sB,KAAM,EACN1qB,QAAS,YACTD,aAAc,MACdE,OAAQ,OACRH,WAAaopB,EAA0B,cAAZ,UAC3BvoB,MAAQuoB,EAAuB,UAAT,OACtBroB,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,iBACZ3vB,SAED9B,EAAE,gBAELkC,cAAA,UACED,QAASA,IAAM+tB,GAAe,GAC9BvrB,MAAO,CACL8sB,KAAM,EACN1qB,QAAS,YACTD,aAAc,MACdE,OAAQ,OACRH,WAAYopB,EAAc,UAAY,cACtCvoB,MAAOuoB,EAAc,OAAS,UAC9BroB,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,iBACZ3vB,SAED9B,EAAE,qBAKN+vB,EACCJ,EACEztB,cAAA,OAAKuC,MAAO,CAAEsC,UAAW,SAAUS,MAAO,UAAWX,QAAS,QAAS/E,SAAE9B,EAAE,yBACzE6vB,EACF3tB,cAAA,OAAKuC,MAAO,CAAEsC,UAAW,SAAUS,MAAO,UAAWX,QAAS,QAAS/E,SAAE+tB,IAC/C,IAAxBJ,EAAa3uB,OACfoB,cAAA,OAAKuC,MAAO,CAAEsC,UAAW,SAAUS,MAAO,UAAWX,QAAS,QAAS/E,SAAE9B,EAAE,6BAE3EkC,cAAA,OAAKuC,MAAO,CAAEuC,QAAS,OAAQe,oBAAqB,uCAAwCZ,IAAK,QAASrF,SACvG2tB,EAAaxsB,IAAKmtB,GACjBxuB,eAAA,OAAoB6C,MAAO,CACzBkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACR2qB,WAAY,6CACZ3vB,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEuC,QAAS,OAAQE,eAAgB,gBAAiBD,WAAY,aAAcU,aAAc,QAAS7F,SAC/GF,eAAA,OAAAE,SAAA,CACEI,cAAA,MAAIuC,MAAO,CAAEoD,OAAQ,YAAaL,MAAO,UAAWC,SAAU,OAAQC,WAAY,MAAOI,WAAY,OAAQhG,SAAEsuB,EAAKva,QACpH3T,cAAA,KAAGuC,MAAO,CAAEoD,OAAQ,IAAKL,MAAO,UAAWC,SAAU,OAAQC,WAAY,OAAQ5F,SAAEsuB,EAAKE,sBAG5F1uB,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,MAAOC,QAAS,OAAQc,aAAc,OAAQb,OAAQ,oBAAqBurB,UAAW,QAASlB,SAAU,SAAUta,SAAU,YAAa/U,SAAA,CACxLF,eAAA,OAAK6C,MAAO,CAAE+C,MAAO,UAAWC,SAAU,OAAQK,WAAY,MAAOwqB,WAAY,YAAaxwB,SAAA,CAC3FsuB,EAAKjD,SAAWiD,EAAKjD,SAASlf,UAAU,EAAG,KAAO,GAClDmiB,EAAKjD,UAAYiD,EAAKjD,SAASrsB,OAAS,KAAO,SAEjDsvB,EAAKjD,UAAYiD,EAAKjD,SAASrsB,OAAS,KACvCoB,cAAA,OAAKuC,MAAO,CAAEoS,SAAU,WAAY0b,OAAQ,EAAGC,KAAM,EAAGb,MAAO,EAAGtqB,OAAQ,OAAQV,WAAY,qCAAsC8rB,cAAe,aAGvJ7wB,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQqB,SAAU,OAAQlB,IAAK,MAAOQ,aAAc,QAAS7F,SAAA,CAClFI,cAAA,QAAMuC,MAAO,CAAEkC,WAAY,UAAWa,MAAO,UAAWX,QAAS,UAAWD,aAAc,OAAQa,SAAU,OAAQC,WAAY,OAAQ5F,SAAEsuB,EAAKI,iBAC/ItuB,cAAA,QAAMuC,MAAO,CAAEkC,WAAY,UAAWa,MAAO,UAAWX,QAAS,UAAWD,aAAc,OAAQa,SAAU,OAAQC,WAAY,OAAQ5F,SAAEsuB,EAAKnb,OAC/IrT,eAAA,QAAM6C,MAAO,CAAEkC,WAAY,UAAWa,MAAO,UAAWX,QAAS,UAAWD,aAAc,OAAQa,SAAU,OAAQC,WAAY,OAAQ5F,SAAA,CAAEsuB,EAAKhb,YAAcgb,EAAKjD,SAAWiD,EAAKjD,SAASjR,MAAM,OAAOpb,OAAS,GAAG,IAAEd,EAAE,YACvNowB,EAAKhF,QAAUgF,EAAKhF,OAAOtqB,OAAS,GACLc,eAAA,QAAM6C,MAAO,CAAEkC,WAAY,UAAWa,MAAO,UAAWX,QAAS,UAAWD,aAAc,OAAQa,SAAU,OAAQC,WAAY,OAAQ5F,SAAA,CAAEsuB,EAAKhF,OAAOtqB,OAAO,IAAEd,EAAE,eAGnM4B,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQE,eAAgB,gBAAiBD,WAAY,SAAUQ,SAAU,OAAQD,MAAO,WAAY1F,SAAA,CACzGF,eAAA,QAAAE,SAAA,CAAO9B,EAAE,kBAAkB,KAAGowB,EAAKsC,UAAY,IAAI7nB,KAAKulB,EAAKsC,WAAWvqB,iBAAmBnI,EAAE,mBACtHowB,EAAKuC,WAAavC,EAAKuC,YAAcvC,EAAKsC,WACzC9wB,eAAA,QAAAE,SAAA,CAAO9B,EAAE,WAAW,KAAG,IAAI6K,KAAKulB,EAAKuC,WAAWxqB,yBAjClCioB,EAAKwC,QA0CrB1wB,cAAA,OAAAJ,SAC4B,IAAzBquB,EAAcrvB,OACbc,eAAA,OAAK6C,MAAO,CACVsC,UAAW,SACXF,QAAS,YACTW,MAAO,WACP1F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,QAAS7F,SAAC,iBACxDI,cAAA,MAAIuC,MAAO,CAAEoD,OAAQ,aAAcJ,SAAU,QAAS3F,SAC5B,IAAvBsrB,EAAYtsB,OAAed,EAAE,kBAAoBA,EAAE,4BAEtDkC,cAAA,KAAGuC,MAAO,CAAEoD,OAAQ,aAAcJ,SAAU,QAAS3F,SAC3B,IAAvBsrB,EAAYtsB,OACTd,EAAE,uCACFA,EAAE,4CAGgB,IAAvBotB,EAAYtsB,QACXc,eAACG,IAAI,CACHC,GAAG,gBACHyC,MAAO,CACLkC,WAAY,oDACZa,MAAO,OACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,MACZV,QAAS,gBACTlF,SAAA,CACH,gBACK9B,EAAE,iCAKZkC,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,QACLrF,SACCquB,EAAcltB,IAAKmtB,GAClBxuB,eAAA,OAAmB6C,MAAO,CACxBkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACR2qB,WAAY,6CACZ3vB,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTE,eAAgB,gBAChBD,WAAY,aACZU,aAAc,QACd7F,SAAA,CACAF,eAAA,OAAAE,SAAA,CACEI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,YACRL,MAAO,UACPC,SAAU,OACVC,WAAY,MACZI,WAAY,OACZhG,SACCsuB,EAAKva,QAER3T,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,IACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACCsuB,EAAKE,oBAGV1uB,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLrF,SAAA,CACAI,cAAA,UACED,QAASA,KAAM4wB,OA3oB3B1F,EA2oBoCiD,EAAKjD,SA1oBzD7hB,UAAUC,UAAUC,UAAU2hB,QAC9BxgB,MAAM,kCAFUwgB,OA4oBY1oB,MAAO,CACLkC,WAAY,UACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,MACdC,QAAS,WACTY,SAAU,OACV+pB,OAAQ,WAEV3tB,MAAO7D,EAAE,gBAAgB8B,SAC1B,iBAGDI,cAAA,UACED,QAASA,IAhqBnBS,KAClB,MAAMowB,EAAiB1F,EAAY3sB,OAAO2vB,GAAQA,EAAK1tB,KAAOA,GAC9Dyf,aAAaG,QAAQ,cAAexY,KAAKC,UAAU+oB,IACnDtD,EAAesD,IA6pB4BC,CAAW3C,EAAK1tB,IAC/B+B,MAAO,CACLkC,WAAY,UACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,MACdC,QAAS,WACTY,SAAU,OACV+pB,OAAQ,WAEV3tB,MAAO7D,EAAE,kBAAkB8B,SAC5B,6BAMLF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,OACZC,aAAc,MACdC,QAAS,OACTc,aAAc,OACdb,OAAQ,oBACRurB,UAAW,QACXlB,SAAU,SACVta,SAAU,YACV/U,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACV+C,MAAO,UACPC,SAAU,OACVK,WAAY,MACZwqB,WAAY,YACZxwB,SAAA,CACCsuB,EAAKjD,SAASlf,UAAU,EAAG,KAC3BmiB,EAAKjD,SAASrsB,OAAS,KAAO,SAEhCsvB,EAAKjD,SAASrsB,OAAS,KACtBoB,cAAA,OAAKuC,MAAO,CACVoS,SAAU,WACV0b,OAAQ,EACRC,KAAM,EACNb,MAAO,EACPtqB,OAAQ,OACRV,WAAY,qCACZ8rB,cAAe,aAKrB7wB,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTqB,SAAU,OACVlB,IAAK,MACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,QAAMuC,MAAO,CACXkC,WAAY,UACZa,MAAO,UACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,OACZ5F,SACCsuB,EAAKI,iBAERtuB,cAAA,QAAMuC,MAAO,CACXkC,WAAY,UACZa,MAAO,UACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,OACZ5F,SACCsuB,EAAKnb,OAERrT,eAAA,QAAM6C,MAAO,CACXkC,WAAY,UACZa,MAAO,UACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,OACZ5F,SAAA,CACC2uB,EAAaL,EAAKjD,UAAU,IAAEntB,EAAE,YAElCowB,EAAKhF,QAAUgF,EAAKhF,OAAOtqB,OAAS,GACnCc,eAAA,QAAM6C,MAAO,CACXkC,WAAY,UACZa,MAAO,UACPX,QAAS,UACTD,aAAc,OACda,SAAU,OACVC,WAAY,OACZ5F,SAAA,CACCsuB,EAAKhF,OAAOtqB,OAAO,IAAEd,EAAE,eAK9B4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTE,eAAgB,gBAChBD,WAAY,SACZQ,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAI,cAAA,QAAAJ,SAAO8nB,EAAWwG,EAAK7lB,aACvB3I,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLrF,SAAA,CACAF,eAACG,IAAI,CACHC,GAAE,wBAAA1C,OAA0B8wB,EAAK1tB,IACjC+B,MAAO,CACL+C,MAAO,UACPqqB,eAAgB,OAChBnqB,WAAY,MACZD,SAAU,OACVd,WAAY,UACZE,QAAS,UACTD,aAAc,MACdE,OAAQ,qBACRhF,SAAA,CACH,sBACM9B,EAAE,mBAET4B,eAACG,IAAI,CACHC,GAAG,gBACHyC,MAAO,CACL+C,MAAO,UACPqqB,eAAgB,OAChBnqB,WAAY,MACZD,SAAU,QACV3F,SAAA,CACH,gBACK9B,EAAE,4BA3LJowB,EAAK1tB,YAyM7Bd,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACRC,UAAW,SACXwB,UAAW,QACXzG,SAAA,CACAI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,OACZ5F,SACC9B,EAAE,iBAELkC,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,aACRL,MAAO,UACPM,WAAY,OACZhG,SACC9B,EAAE,2BAEL4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLD,eAAgB,SAChBmB,SAAU,QACVvG,SAAA,CACAI,cAACH,IAAI,CACHC,GAAG,gBACHyC,MAAO,CACLkC,WAAY,oDACZa,MAAO,OACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,MACZ+pB,WAAY,iBAEdpvB,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,mBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,uCAE7BtF,aAAeO,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,gBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,QAC3B9F,SAED9B,EAAE,wBAELkC,cAACH,IAAI,CACHC,GAAG,YACHyC,MAAO,CACLkC,WAAY,UACZa,MAAO,UACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,MACZ+pB,WAAY,iBAEdpvB,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,oBAE7BzvB,aAAeO,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,iBAC3BjwB,SAED9B,EAAE,qBAELkC,cAACH,IAAI,CACHC,GAAG,UACHyC,MAAO,CACLkC,WAAY,UACZa,MAAO,UACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,MACZ+pB,WAAY,iBAEdpvB,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,oBAE7BzvB,aAAeO,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,iBAC3BjwB,SAED9B,EAAE,oC,MCt7BnB,MAAM0wB,EAAY,CAChBsC,SAAU,CACRnvB,MAAO,mDACPitB,KAAM,YACNhL,SAAU,WACV6I,MAAO,eACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,uXAGHI,cAAA,MAAAJ,SAAI,iBACJF,eAAA,MAAAE,SAAA,CACEF,eAAA,MAAAE,SAAA,CAAI,UAAEI,cAAA,KAAAJ,SAAG,wBAAuB,iFAChCF,eAAA,MAAAE,SAAA,CAAI,gBAAGI,cAAA,KAAAJ,SAAG,gBAAe,6EACzBF,eAAA,MAAAE,SAAA,CAAI,gBAAGI,cAAA,KAAAJ,SAAG,wBAAuB,mEACjCF,eAAA,MAAAE,SAAA,CAAI,gBAAGI,cAAA,KAAAJ,SAAG,2BAA0B,8FACpCF,eAAA,MAAAE,SAAA,CAAI,gBAAGI,cAAA,KAAAJ,SAAG,wBAAuB,uEAEnCI,cAAA,MAAAJ,SAAI,wBACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,yCACJI,cAAA,MAAAJ,SAAI,kDACJI,cAAA,MAAAJ,SAAI,yDACJI,cAAA,MAAAJ,SAAI,oDAENI,cAAA,MAAAJ,SAAI,gBACJF,eAAA,KAAAE,SAAA,CAAG,WACOI,cAACH,IAAI,CAACC,GAAG,YAAWF,SAAC,wBAA0B,OAAII,cAACH,IAAI,CAACC,GAAG,SAAQF,SAAC,iBAAmB,eAKxG,qBAAsB,CACpB+B,MAAO,4CACPitB,KAAM,YACNhL,SAAU,aACV6I,MAAO,qBACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,6PAGHI,cAAA,MAAAJ,SAAI,iBACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,4CACJI,cAAA,MAAAJ,SAAI,mDACJI,cAAA,MAAAJ,SAAI,sEAENI,cAAA,MAAAJ,SAAI,aACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,MAAAJ,SAAI,sCACJI,cAAA,MAAAJ,SAAI,8CAENF,eAAA,KAAAE,SAAA,CACEI,cAAA,KAAAJ,SAAG,kBAAiB,IAACI,cAACH,IAAI,CAACC,GAAG,YAAWF,SAAC,6CAKlD,gBAAiB,CACf+B,MAAO,uDACPitB,KAAM,YACNhL,SAAU,QACV6I,MAAO,eACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,0MAGHI,cAAA,MAAAJ,SAAI,oBACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,6BACJI,cAAA,MAAAJ,SAAI,mCACJI,cAAA,MAAAJ,SAAI,oCACJI,cAAA,MAAAJ,SAAI,uBAENF,eAAA,KAAAE,SAAA,CACEI,cAAA,KAAAJ,SAAG,qBAAoB,IAACI,cAACH,IAAI,CAACC,GAAG,YAAWF,SAAC,wCAKrD,kBAAmB,CACjB+B,MAAO,wCACPitB,KAAM,YACNhL,SAAU,UACV6I,MAAO,eACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,wLAGHI,cAAA,MAAAJ,SAAI,mCACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,uDACJI,cAAA,MAAAJ,SAAI,uCACJI,cAAA,MAAAJ,SAAI,qDAENF,eAAA,KAAAE,SAAA,CACEI,cAAA,KAAAJ,SAAG,gBAAe,IAACI,cAACH,IAAI,CAACC,GAAG,YAAWF,SAAC,mCAKhD,sBAAuB,CACrB+B,MAAO,+DACPitB,KAAM,YACNhL,SAAU,mBACV6I,MAAO,eACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,mMAGHI,cAAA,MAAAJ,SAAI,iBACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,kDACJI,cAAA,MAAAJ,SAAI,qDACJI,cAAA,MAAAJ,SAAI,yDAENI,cAAA,MAAAJ,SAAI,aACJF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,4CACJI,cAAA,MAAAJ,SAAI,2CACJI,cAAA,MAAAJ,SAAI,uDAENF,eAAA,KAAAE,SAAA,CAC0BI,cAAA,KAAAJ,SAAG,oCAAmC,IAACI,cAACH,IAAI,CAACC,GAAG,oBAAmBF,SAAC,kCAKpG,mBAAoB,CAClB+B,MAAO,8BACPitB,KAAM,YACNhL,SAAU,SACV6I,MAAO,eACPnnB,MAAO,UACP8C,QACE1I,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,KAAAJ,SAAG,yJAGHI,cAAA,MAAAJ,SAAI,sBACJI,cAAA,KAAAJ,SAAG,uEAGHF,eAAA,MAAAE,SAAA,CACEI,cAAA,MAAAJ,SAAI,+BACJI,cAAA,MAAAJ,SAAI,8BACJI,cAAA,MAAAJ,SAAI,4BACJI,cAAA,MAAAJ,SAAI,sCAENF,eAAA,KAAAE,SAAA,CACEI,cAAA,KAAAJ,SAAG,wBAAuB,8DA45BrBmxB,MAr5BEA,KACf,MAAM,KAAEtC,GAASuC,eACVC,EAAeC,GAAoBzzB,mBAAS,OAC5CiF,EAASC,GAAclF,oBAAS,IAChC0zB,EAAYC,GAAiB3zB,oBAAS,IACtC4zB,EAAeC,GAAoB7zB,mBAAS,KAC5C8zB,EAAUC,GAAe/zB,oBAAS,IAClCg0B,EAAaC,GAAkBj0B,oBAAS,IACxCk0B,EAAYC,GAAiBn0B,mBAAS,KACtCo0B,EAAaC,GAAkBr0B,mBAAS,OACxCgwB,EAAgBC,GAAqBjwB,oBAAS,IAC9CkwB,EAAcC,GAAmBnwB,mBAAS,KAC3C,EAAEK,GAAME,cAEda,oBAAU,KACRkzB,KACC,CAACtD,IAEJ,MAAMsD,EAAoBhvB,UACxB,IAKE,GAJAJ,GAAW,GACXirB,EAAgB,IAGZa,GAAQA,EAAKpuB,WAAW,cAAe,CACzC,MAAM2xB,EAASvD,EAAK3U,QAAQ,aAAc,IAEpCmY,EADcrqB,KAAKoY,MAAMC,aAAaC,QAAQ,gBAAkB,MACxC1gB,KAAKkwB,GAAQA,EAAKlvB,GAAG0xB,aAAeF,GAE9DC,IACFf,EAAiBe,GACjBX,EAAiBW,EAAUhH,UAAY,IAE3C,MAAO,GAAIwD,GAAQA,EAAKpuB,WAAW,YAAa,CAE9CqtB,GAAkB,GAClB,IACE,MACMxxB,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDw1B,EAAQ,GAAiBC,QAAQl2B,QAC9G+G,QAAYC,MAAM,GAAD9F,OAAIlB,EAAO,eAC5BqH,QAAaN,EAAIO,OACvB,GAAID,EAAKE,SAAWioB,MAAM2G,QAAQ9uB,EAAKsrB,OAAQ,CAC7C,MAAMyD,EAAQ/uB,EAAKsrB,MAAMrvB,KAAKkwB,GAAQA,EAAKgB,MAAQjC,EAAK3U,QAAQ,WAAY,KACxEwY,GACFR,EAAeQ,GACfhB,EAAiBgB,EAAMrH,UAAY,KAEnC2C,EAAgB9vB,EAAE,6BAEtB,MACE8vB,EAAgB9vB,EAAE,iCAEtB,CAAE,MAAOgL,GACP8kB,EAAgB9vB,EAAE,uCACpB,CAAC,QACC4vB,GAAkB,EACpB,CACF,CACF,CAAE,MAAO9qB,GACP7F,QAAQ6F,MAAM,gCAAiCA,EACjD,CAAC,QACCD,GAAW,EACb,GAgSI4vB,EAAuB,SAACC,GAA8B,IAAjBtJ,EAAM/X,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAElD,MAAMshB,EAlI2BrqB,KACjC,IAAKA,EAAS,MAAO,GAErB,IAAIqqB,EAAiBrqB,EAyHrB,OAtHAqqB,EAAiBA,EAEd3Y,QAAQ,yBAA0B,IAClCA,QAAQ,8BAA+B,IACvCA,QAAQ,0BAA2B,IACnCA,QAAQ,uBAAwB,IAChCA,QAAQ,6BAA8B,IACtCA,QAAQ,uBAAwB,IAChCA,QAAQ,+BAAgC,IAExCA,QAAQ,oCAAqC,IAC7CA,QAAQ,8BAA+B,IACvCA,QAAQ,4BAA6B,IACrCA,QAAQ,0BAA2B,IAEnCA,QAAQ,kBAAmB,IAE3BA,QAAQ,aAAc,MAEtBA,QAAQ,yBAA0B,MAElCA,QAAQ,0BAA2B,MAEnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MAEtBA,QAAQ,eAAgB,MAExBA,QAAQ,UAAW,IAEnBA,QAAQ,gBAAiB,IAEzBA,QAAQ,aAAc,IAEtBA,QAAQ,cAAe,WACvBA,QAAQ,cAAgB0Q,IACvB,MAAMkI,EAAMlI,EAAMA,MAAM,OAAO,GAC/B,MAAM,GAANptB,OAAUs1B,EAAG,QAOjBD,EAAiBA,EACd3Y,QAAQ,UAAW,OACnBA,QAAQ,SAAU,KAClBA,QAAQ,UAAW,KACnBA,QAAQ,SAAU,KAClBA,QAAQ,UAAW,MAGtB2Y,EAAiBA,EACd3Y,QAAQ,UAAW,QACnBA,QAAQ,SAAU,KAClBA,QAAQ,MAAO,KAGlB2Y,EAAiBA,EAEd3Y,QAAQ,eAAgB,QAExBA,QAAQ,gBAAiB,SAEzBA,QAAQ,iBAAkB,UAE1BA,QAAQ,kBAAmB,WAE3BA,QAAQ,sBAAwB0Q,IAC/B,MAAMmI,EAAUnI,EAAM/hB,OACtB,OAAIkqB,EAAQ/zB,OAAS,GAAK+zB,EAAQ/zB,OAAS,KAAO+zB,EAAQh2B,SAAS,KAC3D,MAANS,OAAau1B,GAERnI,IAGR1Q,QAAQ,sBAAwB0Q,IAC/B,MAAMmI,EAAUnI,EAAM/hB,OACtB,OAAIkqB,EAAQ/zB,OAAS,GAAK+zB,EAAQ/zB,OAAS,KAAO+zB,EAAQh2B,SAAS,OAASg2B,EAAQh2B,SAAS,OAASg2B,EAAQh2B,SAAS,KAC/G,OAANS,OAAcu1B,GAETnI,IAIXiI,EAAiBA,EACd3Y,QAAQ,mBAAe,WACvBA,QAAQ,iBAAmB0Q,GACnBA,EAAM1Q,QAAQ,eAAiB4Y,GAAG,GAAAt1B,OAAQs1B,EAAI1Y,MAAM,KAAK,GAAE,QAItEyY,EAAiBA,EACd3Y,QAAQ,mBAAoB,YAC5BA,QAAQ,yBAA0B,YAGrC2Y,EAAiBA,EAEd3Y,QAAQ,yBAA0B,MAClCA,QAAQ,0BAA2B,MACnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MACtBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MAEtBA,QAAQ,cAAe,WAEvBA,QAAQ,UAAW,IAEnBA,QAAQ,gBAAiB,IAEzBA,QAAQ,aAAc,IAElB2Y,EAAehqB,QAMCmqB,CAA0BJ,GAEjD,IAAKC,IAAmBvJ,EAAOtqB,OAC7B,OACEoB,cAAA,OAAKuC,MAAO,CACV+C,MAAO,UACPC,SAAU,OACVK,WAAY,MACZwqB,WAAY,YACZxwB,SACCyqB,EAA0BoI,KAMjC,MAAMI,EAAaJ,EAAezY,MAAM,QAAQzb,OAAOu0B,GAAKA,EAAErqB,QAGxDsqB,EAAiB,GACvB,GAAsB,IAAlB7J,EAAOtqB,OACTm0B,EAAexY,KAAK,QACf,GAAsB,IAAlB2O,EAAOtqB,OAChBm0B,EAAexY,KAAK,EAAG/G,KAAKyR,MAAM4N,EAAWj0B,OAAS,SACjD,GAAsB,IAAlBsqB,EAAOtqB,OAChBm0B,EAAexY,KAAK,EAAG/G,KAAKyR,MAAM4N,EAAWj0B,OAAS,GAAI4U,KAAKyR,MAA0B,EAApB4N,EAAWj0B,OAAa,SAG7F,IAAK,IAAI2Q,EAAI,EAAGA,EAAI2Z,EAAOtqB,OAAQ2Q,IACjCwjB,EAAexY,KAAK/G,KAAKyR,MAAO4N,EAAWj0B,OAAS2Q,EAAK2Z,EAAOtqB,SAIpE,OACEc,eAAA,OAAK6C,MAAO,CAAE+C,MAAO,UAAWC,SAAU,OAAQK,WAAY,OAAQhG,SAAA,CACnEizB,EAAW9xB,IAAI,CAACiyB,EAAWjxB,IAC1BrC,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CAAEkD,aAAc,QAAS7F,SAClCyqB,EAA0B2I,KAI5BD,EAAep2B,SAASoF,IACvB/B,cAAA,OAAKuC,MAAO,CACVoD,OAAQ,SACRd,UAAW,UACXjF,SACCspB,EAAOjhB,MAAM,EAAG8qB,EAAex0B,OAAOu0B,GAAKA,GAAK/wB,GAAOnD,QAAQmC,IAAI,CAAC0rB,EAAOwG,IACtEF,EAAeG,QAAQnxB,KAAWkxB,EAElCvzB,eAAA,OAAoB6C,MAAO,CACzBkD,aAAc,OACdhB,WAAY,UACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,qBACRhF,SAAA,CACAI,cAAA,OACE0sB,IAAKD,EAAMzB,QACX2B,IAAKF,EAAMtuB,KACXoE,MAAO,CACLysB,SAAU,OACV7pB,OAAQ,OACRT,aAAc,MACdgB,UAAW,6BACXD,aAAc,UAGlBzF,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACP6tB,UAAW,SACXtuB,UAAW,SACXwB,UAAW,IACXZ,aAAc,OACd7F,SACC6sB,EAAMtuB,KAAK2b,QAAQ,YAAa,IAAIA,QAAQ,QAAS,SA1BhD2S,EAAMjsB,IA+Bb,UA7CLuB,IAqDXgxB,EAAen0B,OAASsqB,EAAOtqB,QAC9BoB,cAAA,OAAKuC,MAAO,CACV8D,UAAW,OACX1B,QAAS,OACTF,WAAY,UACZC,aAAc,OACdE,OAAQ,qBACRhF,SACAI,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,QACLrF,SACCspB,EAAOjhB,MAAM8qB,EAAen0B,QAAQmC,IAAK0rB,GACxC/sB,eAAA,OAAoB6C,MAAO,CACzBsC,UAAW,UACXjF,SAAA,CACAI,cAAA,OACE0sB,IAAKD,EAAMzB,QACX2B,IAAKF,EAAMtuB,KACXoE,MAAO,CACL2C,MAAO,OACPC,OAAQ,QACRiuB,UAAW,QACX1uB,aAAc,MACdgB,UAAW,4BACXD,aAAc,SAGlBzF,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPT,UAAW,SACXwB,UAAW,KACXzG,SACC6sB,EAAMtuB,KAAK2b,QAAQ,YAAa,IAAIA,QAAQ,QAAS,SArBhD2S,EAAMjsB,WA8B9B,EAGM6pB,EAA6BjiB,IACjC,IAAKA,EAAS,OAAO,KAIrB,OAFcA,EAAQ4R,MAAM,MAEfjZ,IAAI,CAACupB,EAAMvoB,KACtB,MAAMwoB,EAAcD,EAAK7hB,OAGzB,GAAI8hB,EAAYlqB,WAAW,QAAUkqB,EAAYlqB,WAAW,MAC1D,OACEL,cAAA,MAAgBuC,MAAO,CACrBgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPK,OAAQ,gBACRC,WAAY,MACZytB,aAAc,oBACdC,cAAe,QACf1zB,SACC2qB,EAAYxe,UAAU,IAThBhK,GAeb,GAAIwoB,EAAYlqB,WAAW,OACzB,OACEL,cAAA,MAAgBuC,MAAO,CACrBgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPK,OAAQ,gBACRC,WAAY,MACZ2tB,WAAY,oBACZC,YAAa,QACb5zB,SACC2qB,EAAYxe,UAAU,IAThBhK,GAeb,GAAIwoB,EAAYlqB,WAAW,QACzB,OACEL,cAAA,MAAgBuC,MAAO,CACrBgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPK,OAAQ,gBACRC,WAAY,OACZhG,SACC2qB,EAAYxe,UAAU,IAPhBhK,GAab,GAAIwoB,EAAYlqB,WAAW,SACzB,OACEL,cAAA,MAAgBuC,MAAO,CACrBgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPK,OAAQ,gBACRC,WAAY,MACZutB,UAAW,UACXvzB,SACC2qB,EAAYxe,UAAU,IARhBhK,GAcb,GAAIwoB,EAAYlqB,WAAW,WACzB,OACEX,eAAA,OAAiB6C,MAAO,CACtBoD,OAAQ,QACR6tB,YAAa,OACb7e,SAAU,YACV/U,SAAA,CACAI,cAAA,QAAMuC,MAAO,CACXoS,SAAU,WACV2b,KAAM,IACNhrB,MAAO,UACPE,WAAY,QACZ5F,SAAC,WACHI,cAAA,QAAMuC,MAAO,CAAEkxB,WAAY,OAAQ7zB,SAChC2qB,EAAYxe,UAAU,OAZjBhK,GAmBd,GAAI,WAAWkM,KAAKsc,GAClB,OACE7qB,eAAA,OAAiB6C,MAAO,CACtBoD,OAAQ,QACR6tB,YAAa,OACb7e,SAAU,YACV/U,SAAA,CACAF,eAAA,QAAM6C,MAAO,CACXoS,SAAU,WACV2b,KAAM,IACNhrB,MAAO,UACPE,WAAY,OACZ5F,SAAA,CACC2qB,EAAYC,MAAM,QAAQ,GAAG,OAEhCxqB,cAAA,QAAMuC,MAAO,CAAEkxB,WAAY,OAAQ7zB,SAChC2qB,EAAYzQ,QAAQ,WAAY,QAd3B/X,GAqBd,GAAIwoB,EAAY5tB,SAAS,MAAO,CAC9B,MAAM8tB,EAAQF,EAAYvQ,MAAM,MAChC,OACEha,cAAA,KAAeuC,MAAO,CACpBoD,OAAQ,SACRC,WAAY,OACZhG,SACC6qB,EAAM1pB,IAAI,CAAC2pB,EAAMC,IAChBA,EAAY,IAAM,EAChB3qB,cAAA,UAAwBuC,MAAO,CAC7B+C,MAAO,UACPE,WAAY,MACZ6N,gBAAiB,UACjB1O,QAAS,UACTD,aAAc,MACdgB,UAAW,6BACX9F,SACC8qB,GARUC,GAWb3qB,cAAA,QAAAJ,SAAuB8qB,GAAZC,KAjBT5oB,EAsBZ,CAGA,OAAIwoB,EAAY5tB,SAAS,WAAQ4tB,EAAY5tB,SAAS,iBAAS4tB,EAAY5tB,SAAS,iBAChF4tB,EAAY5tB,SAAS,WAAQ4tB,EAAY5tB,SAAS,iBAAS4tB,EAAY5tB,SAAS,gBAEhFqD,cAAA,OAAiBuC,MAAO,CACtBoD,OAAQ,SACRhB,QAAS,OACTF,WAAY,oDACZC,aAAc,OACdE,OAAQ,oBACRc,UAAW,uCACX9F,SACAI,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,IACRC,WAAY,MACZN,MAAO,UACPE,WAAY,MACZD,SAAU,QACV3F,SACC2qB,KAfKxoB,GAsBVwoB,EAEAvqB,cAAA,KAAeuC,MAAO,CACpBoD,OAAQ,SACRC,WAAY,OACZhG,SACC2qB,GAJKxoB,GAUL/B,cAAA,OAAiBuC,MAAO,CAAE4C,OAAQ,QAAxBpD,MAQf2tB,EAAOuB,GAAiBY,GAHPrD,EAAUC,GAI3BiF,IAAc7B,EAEpB,GAAInvB,EACF,OACEhD,eAAA,OAAK6C,MAAO,CACVusB,UAAW,QACXrqB,WAAY,oDACZK,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,OACPsqB,cAAe,UACfhwB,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRP,OAAQ,kCACRQ,UAAW,iBACXV,aAAc,MACdW,UAAW,0BACXI,aAAc,UAEhBzF,cAAA,KAAGuC,MAAO,CAAEgD,SAAU,UAAW3F,SAAE9B,EAAE,0BAM3C,IAAK4xB,EACH,OACEhwB,eAAA,OAAK6C,MAAO,CACVusB,UAAW,QACXrqB,WAAY,oDACZK,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,OACPsqB,cAAe,UACfhwB,SAAA,CACAI,cAAA,MAAIuC,MAAO,CAAEgD,SAAU,OAAQE,aAAc,QAAS7F,SAAC,QACvDI,cAAA,KAAGuC,MAAO,CAAEgD,SAAU,SAAUE,aAAc,QAAS7F,SAAE+tB,GAAgB7vB,EAAE,yBAC3EkC,cAACH,IAAI,CAACC,GAAG,QAAQyC,MAAO,CACtBkC,WAAY,OACZa,MAAO,UACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,OACZ5F,SAAE9B,EAAE,qBAMZ,MAAM61B,IAAgB1C,EAChB2C,EAAYD,EAAc,UAAYjE,EAAKpqB,MAE3CuuB,GADYF,GAAqBjE,EAAKjD,MACvBkH,EAAc71B,EAAE,iBAAmB4xB,EAAK9L,UACvDkQ,EAAWH,EAAc,IAAIhrB,KAAK+mB,EAAKrnB,WAAWsf,qBAAuB+H,EAAKd,KAC9EmF,EAAYJ,EAAcjE,EAAK/b,MAAQ+b,EAAK/tB,MAElD,OACEjC,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAE7BF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,OAAKL,UAAU,aAAYC,SAAEm0B,IAC7Br0B,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBI,cAAA,QAAAJ,SAAOk0B,IACP9zB,cAAA,QAAAJ,SAAOi0B,IACNF,GAAejE,EAAKtB,gBAAkBpuB,cAAA,QAAAJ,SAAO8vB,EAAKtB,iBAClDuF,GAAejE,EAAKsE,SAAWh0B,cAAA,QAAAJ,SAAO8vB,EAAKsE,UAC3CL,GAAejE,EAAKjzB,UAAYuD,cAAA,QAAAJ,SAAO8vB,EAAKjzB,iBAIhDi3B,GAAahE,GACZhwB,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAChCF,eAAA,QAAAE,SAAA,CAAO9B,EAAE,kBAAkB,KAAG4xB,EAAKc,UAAY,IAAI7nB,KAAK+mB,EAAKc,WAAWvqB,iBAAmBnI,EAAE,mBAC5F4xB,EAAKe,WAAaf,EAAKe,YAAcf,EAAKc,WACzC9wB,eAAA,QAAM6C,MAAO,CAAEkxB,WAAY,QAAS7zB,SAAA,CAAE9B,EAAE,WAAW,KAAG,IAAI6K,KAAK+mB,EAAKe,WAAWxqB,uBAKrFjG,cAAA,OAAKL,UAAU,eAAcC,SAC1B+zB,EACCxC,EACEzxB,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAEhCI,cAAA,OAAKuC,MAAO,CACVkD,aAAc,OACdX,QAAS,OACTG,IAAK,OACLrF,SACAF,eAAA,UACEK,QAhpBMk0B,KACpBvC,GAAgBD,IAgpBFlvB,MAAO,CACLkC,WAAYgtB,EAAc,UAAY,UACtCnsB,MAAOmsB,EAAc,OAAS,UAC9B7sB,OAAQ,OACRD,QAAS,WACTD,aAAc,MACda,SAAU,OACVC,WAAY,MACZ8pB,OAAQ,UACRxqB,QAAS,OACTC,WAAY,SACZE,IAAK,MACLsqB,WAAY,YACZ3vB,SAAA,CACH,sBACoB9B,EAAd2zB,EAAgB,cAAmB,oBAI3CA,EACC/xB,eAAA,OAAK6C,MAAO,CACVkC,WAAY,OACZG,OAAQ,oBACRF,aAAc,MACdC,QAAS,OACTc,aAAc,OACd0qB,UAAW,QACXlB,SAAU,QACVrvB,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVkD,aAAc,OACdF,SAAU,OACVC,WAAY,MACZF,MAAO,WACP1F,SAAA,CAAC,gBACG9B,EAAE,WAAW,OAElBy0B,EAAqBlB,EAAe3B,EAAKxG,QAAU,OAGtDlpB,cAAA,YACES,MAAO4wB,EACP3wB,SAAWC,GAAM2wB,EAAiB3wB,EAAEG,OAAOL,OAC3C8B,MAAO,CACL2C,MAAO,OACP4pB,UAAW,QACXnqB,QAAS,OACTC,OAAQ,oBACRF,aAAc,MACda,SAAU,OACVK,WAAY,MACZmpB,WAAY,YACZmF,OAAQ,WACRzvB,WAAY,QAEdsE,YAAajL,EAAE,6BAInB4B,eAAA,OAAK6C,MAAO,CACV8D,UAAW,OACXvB,QAAS,OACTE,eAAgB,gBAChBD,WAAY,SACZQ,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAF,eAAA,QAAM6C,MAAO,CAAE4wB,UAAW,UAAWvzB,SAAA,CAAC,gBAChC9B,EAAE,qBAER4B,eAAA,QAAM6C,MAAO,CAAEiD,WAAY,OAAQ5F,SAAA,CAAC,gBAC9B9B,EAAE,aAAa,KAAGuzB,EAAcrX,MAAM,OAAOzb,OAAO6gB,GAAQA,EAAKxgB,OAAS,GAAGA,OAAO,IAAEd,EAAE,kBAKlGy0B,EAAqB7C,EAAKzE,SAAUyE,EAAKxG,QAAU,IAGrDwG,EAAKtnB,UAIRurB,GACC3zB,cAAA,OAAKL,UAAU,wBAAuBC,SACpCF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCF,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,kBAAkB,OAC7BkC,cAAA,OAAAJ,SAA8B,cAAxB8vB,EAAK5G,gBAAkChrB,EAAE,sBAC/CkC,cAAA,OAAAJ,SAA8B,YAAxB8vB,EAAK5G,gBAAgChrB,EAAE,qBAC7CkC,cAAA,OAAAJ,SAA8B,aAAxB8vB,EAAK5G,gBAAiChrB,EAAE,cAC9CkC,cAAA,OAAAJ,SAA8B,aAAxB8vB,EAAK5G,gBAAiChrB,EAAE,2BAC9CkC,cAAA,OAAAJ,SAA8B,aAAxB8vB,EAAK5G,gBAAiChrB,EAAE,sBAC9CkC,cAAA,OAAAJ,SAA8B,WAAxB8vB,EAAK5G,gBAA+BhrB,EAAE,uBAE9C4B,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,eAAe,OAC1BkC,cAAA,OAAAJ,SAAoB,iBAAd8vB,EAAK3c,MAA2BjV,EAAE,kBACxCkC,cAAA,OAAAJ,SAAoB,WAAd8vB,EAAK3c,MAAqBjV,EAAE,oBAClCkC,cAAA,OAAAJ,SAAoB,iBAAd8vB,EAAK3c,MAA2BjV,EAAE,kBACxCkC,cAAA,OAAAJ,SAAoB,YAAd8vB,EAAK3c,MAAsBjV,EAAE,0BACnCkC,cAAA,OAAAJ,SAAoB,WAAd8vB,EAAK3c,MAAqBjV,EAAE,gBAClCkC,cAAA,OAAAJ,SAAoB,WAAd8vB,EAAK3c,MAAqBjV,EAAE,qBAEpC4B,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,cAAc,OACzBkC,cAAA,OAAAJ,SAAsB,UAAhB8vB,EAAK9wB,QAAsBd,EAAE,sBACnCkC,cAAA,OAAAJ,SAAsB,WAAhB8vB,EAAK9wB,QAAuBd,EAAE,uBACpCkC,cAAA,OAAAJ,SAAsB,SAAhB8vB,EAAK9wB,QAAqBd,EAAE,yBAEpC4B,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,UAAU,OACrB4B,eAAA,OAAAE,SAAA,CAAM8vB,EAAKxG,OAASwG,EAAKxG,OAAOtqB,OAAS,EAAE,IAAEd,EAAE,wBAEhD4xB,EAAKyE,YACJz0B,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,cAAc,OACzBkC,cAAA,OAAAJ,SAAM,IAAI+I,KAAK+mB,EAAKyE,YAAYluB,2BAO1CjG,cAAA,OAAKL,UAAU,gBAAeC,SAC5BI,cAACH,IAAI,CAACC,GAAG,QAAQyC,MAAO,CACtBkC,WAAYmvB,EACZtuB,MAAO,OACPX,QAAS,YACTD,aAAc,MACdirB,eAAgB,OAChBnqB,WAAY,MACZD,SAAU,OACVgqB,WAAY,WACZ7pB,UAAW,8BACX9F,SAAE9B,EAAE,wBCzjCC,SAASs2B,IACtB,MAAOtgB,EAAQugB,GAAa52B,mBAAS,KAC9BgO,EAAW6oB,GAAgB72B,mBAAS,aACpCiJ,EAAUC,GAAelJ,mBAAS,KAClCiF,EAASC,GAAclF,oBAAS,IAChCmF,EAAOC,GAAYpF,mBAAS,KAE5B82B,EAAWC,GAAgB/2B,mBAAS,IAkC3C,OACEiC,eAAA,OAAK6C,MAAO,CACVusB,UAAW,QACXrqB,WAAY,oDACZE,QAAS,OACToqB,WAAY,qEACZnvB,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVysB,SAAU,IACVrpB,OAAQ,SACRlB,WAAY,4BACZC,aAAc,OACdgB,UAAW,kCACXupB,SAAU,SACVC,eAAgB,cAChBtvB,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZE,QAAS,YACTE,UAAW,SACX8P,SAAU,WACVsa,SAAU,UACVrvB,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACVoS,SAAU,WACV6a,IAAK,OACLC,MAAO,OACPvqB,MAAO,QACPC,OAAQ,QACRV,WAAY,2BACZC,aAAc,MACdW,UAAW,mCAEbrF,cAAA,OAAKuC,MAAO,CACVoS,SAAU,WACV0b,OAAQ,OACRC,KAAM,OACNprB,MAAO,QACPC,OAAQ,QACRV,WAAY,4BACZC,aAAc,MACdW,UAAW,2CAGbrF,cAAA,QAAMuC,MAAO,CACXgD,SAAU,OACVE,aAAc,OACdX,QAAS,QACTvG,OAAQ,0CACRqB,SAAC,mCACHI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRH,WAAY,MACZD,SAAU,OACVwqB,cAAe,SACfzqB,MAAO,OACP6pB,WAAY,6BACZvvB,SAAC,gCAGHI,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,IACRJ,SAAU,OACV6pB,QAAS,OACT9pB,MAAO,OACPE,WAAY,OACZ5F,SAAC,qEAMLF,eAAA,OAAK6C,MAAO,CACVoC,QAAS,YACTF,WAAY,QACZ7E,SAAA,CAIAF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTc,aAAc,OACdb,OAAQ,qBACRhF,SAAA,CACAI,cAAA,MAAIuC,MAAO,CACToD,OAAQ,aACRL,MAAO,UACPC,SAAU,OACVC,WAAY,MACZV,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAC,8BAGHI,cAAA,KAAGuC,MAAO,CACRoD,OAAQ,IACRL,MAAO,UACPM,WAAY,MACZL,SAAU,QACV3F,SAAC,gSAOLF,eAAA,QAAM6I,SA5IOxF,UACnBpC,EAAE6H,iBACF7F,GAAW,GACXgE,EAAY,IACZ9D,EAAS,IACT2xB,EAAa,IACb,IAGE,MACMt4B,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAEvF+G,QAAYC,MAAM,GAAD9F,OAAIlB,EAAO,oCAAoC,CACpEuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEiM,SAAQrI,gBAE3BlI,QAAaN,EAAIO,OACnBD,EAAKE,SACP+wB,EAAajxB,EAAKgxB,WAAa,sBAC/B5tB,EAAYpD,EAAKmD,UAAYnD,EAAKI,SAAW,gBAE7Cd,EAASU,EAAKX,OAAS,4BAE3B,CAAE,MAAOkG,GACPjG,EAAS,gBACX,CACAF,GAAW,IAiHwB/C,SAAA,CAE3BF,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,QAAS7F,SAAA,CACnCI,cAAA,SAAOuC,MAAO,CACZuC,QAAS,QACTW,aAAc,OACdD,WAAY,MACZF,MAAO,UACPC,SAAU,OACVT,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAC,mCAGHI,cAAA,YACES,MAAOqT,EACPpT,SAAUC,GAAK0zB,EAAU1zB,EAAEG,OAAOL,OAClCsI,YAAY,yLACZC,KAAM,EACNzG,MAAO,CACL2C,MAAO,OACPR,aAAc,OACdE,OAAQ,oBACRD,QAAS,OACTY,SAAU,OACVd,WAAY,UACZqqB,UAAW,QACXoF,OAAQ,WACRnF,WAAY,UACZnpB,WAAY,MACZ2pB,WAAY,gBACZkF,UAAW,cAEbC,QAAU/zB,IACRA,EAAEG,OAAOyB,MAAMoyB,YAAc,UAC7Bh0B,EAAEG,OAAOyB,MAAMkC,WAAa,OAC5B9D,EAAEG,OAAOyB,MAAMmD,UAAY,sCAE7BkvB,OAASj0B,IACPA,EAAEG,OAAOyB,MAAMoyB,YAAc,UAC7Bh0B,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMmD,UAAY,QAE7B4E,UAAQ,OAKZ5K,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,QAAS7F,SAAA,CACnCI,cAAA,SAAOuC,MAAO,CACZuC,QAAS,QACTW,aAAc,OACdD,WAAY,MACZF,MAAO,UACPC,SAAU,OACVT,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAC,oCAGHI,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLkB,SAAU,QACVvG,SACC,CACC,CAAEa,MAAO,WAAYuiB,MAAO,WAAYthB,KAAM,eAAM4D,MAAO,WAC3D,CAAE7E,MAAO,UAAWuiB,MAAO,UAAWthB,KAAM,eAAM4D,MAAO,WACzD,CAAE7E,MAAO,WAAYuiB,MAAO,WAAYthB,KAAM,eAAM4D,MAAO,YAC3DvE,IAAI8zB,GACJn1B,eAAA,UAEEwJ,KAAK,SACLnJ,QAASA,IAAMu0B,EAAaO,EAAOp0B,OACnC8B,MAAO,CACLoC,QAAS,YACTD,aAAc,OACdE,OAAO,aAADxH,OAAeqO,IAAcopB,EAAOp0B,MAAQo0B,EAAOvvB,MAAQ,WACjEb,WAAYgH,IAAcopB,EAAOp0B,MAAK,GAAArD,OAAMy3B,EAAOvvB,MAAK,MAAO,OAC/DA,MAAOmG,IAAcopB,EAAOp0B,MAAQo0B,EAAOvvB,MAAQ,UACnDgqB,OAAQ,UACRC,WAAY,gBACZhqB,SAAU,OACVC,WAAY,MACZV,QAAS,OACTC,WAAY,SACZE,IAAK,MACLirB,SAAU,QACVlrB,eAAgB,UAElB7E,aAAeQ,IACT8K,IAAcopB,EAAOp0B,QACvBE,EAAEG,OAAOyB,MAAMoyB,YAAcE,EAAOvvB,MACpC3E,EAAEG,OAAOyB,MAAMstB,UAAY,qBAG/BzvB,aAAeO,IACT8K,IAAcopB,EAAOp0B,QACvBE,EAAEG,OAAOyB,MAAMoyB,YAAc,UAC7Bh0B,EAAEG,OAAOyB,MAAMstB,UAAY,kBAE7BjwB,SAAA,CAEFI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,QAAS3F,SAAEi1B,EAAOnzB,OAC1CmzB,EAAO7R,QAjCH6R,EAAOp0B,aAwCpBT,cAAA,UACEkJ,KAAK,SACLC,SAAUzG,EACVH,MAAO,CACL2C,MAAO,OACPT,WAAY,oDACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,OACdC,QAAS,YACTa,WAAY,MACZD,SAAU,OACV+pB,OAAQ,UACR5pB,UAAW,sCACX6pB,WAAY,gBACZ5a,SAAU,WACVsa,SAAU,UAEZ9uB,aAAeQ,IACR+B,IACH/B,EAAEG,OAAOyB,MAAMstB,UAAY,mBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,wCAG/BtF,aAAeO,IACR+B,IACH/B,EAAEG,OAAOyB,MAAMstB,UAAY,gBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,wCAE7B9F,SAED8C,EACChD,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUC,IAAK,QAASrF,SAAA,CAC3FI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRP,OAAQ,kCACRQ,UAAW,iBACXV,aAAc,MACdW,UAAW,6BACJ,4BAIX,mDAMLzC,GACClD,eAAA,OAAK6C,MAAO,CACV8D,UAAW,OACX5B,WAAY,oDACZG,OAAQ,oBACRF,aAAc,OACdC,QAAS,OACTW,MAAO,UACPE,WAAY,MACZX,UAAW,SACXC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,IAAK,OACLrF,SAAA,CACAI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,QAAS3F,SAAC,iBAClCgD,KAKH8D,GACAhH,eAAA,OAAK6C,MAAO,CACV8D,UAAW,OACX5B,WAAY,oDACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACRS,UAAW,2BACXzF,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQ8qB,cAAe,SAAU3qB,IAAK,QAASrF,SAAA,CAEpEF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,aAAcE,IAAK,QAASrF,SAAA,CACrEI,cAAA,OAAKuC,MAAO,CACVkC,WAAY,oDACZC,aAAc,MACdQ,MAAO,OACPC,OAAQ,OACRL,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVD,MAAO,OACPV,OAAQ,iBACRc,UAAW,gCACX9F,SAAC,iBAGHF,eAAA,OAAK6C,MAAO,CAAEysB,SAAU,OAAQpvB,SAAA,CAC9BI,cAAA,OAAKuC,MAAO,CACVkC,WAAY,OACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACRa,aAAc,MACdF,SAAU,OACVD,MAAO,UACPM,WAAY,MACZmpB,WAAY,UACZqB,WAAY,YACZxwB,SACCkU,IAEHpU,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,OAAQD,MAAO,UAAW6tB,UAAW,SAAUtuB,UAAW,QAASjF,SAAA,CAAC,oBAC9E,IAAI+I,MAAOL,mBAAmB,GAAI,CAAEyf,KAAM,UAAWC,OAAQ,qBAK/EtoB,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,aAAcE,IAAK,OAAQ2qB,cAAe,eAAgBhwB,SAAA,CACnGI,cAAA,OAAKuC,MAAO,CACVkC,WAAY,oDACZC,aAAc,MACdQ,MAAO,OACPC,OAAQ,OACRL,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVD,MAAO,OACPV,OAAQ,iBACRc,UAAW,gCACX9F,SAAC,mCAGHF,eAAA,OAAK6C,MAAO,CAAEysB,SAAU,OAAQpvB,SAAA,CAC9BI,cAAA,OAAKuC,MAAO,CACVkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACTC,OAAQ,oBACRa,aAAc,MACdF,SAAU,OACVD,MAAO,UACPM,WAAY,MACZmpB,WAAY,UACZqB,WAAY,WACZvrB,UAAW,QACXjF,SACC8G,IAEHhH,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,OAAQD,MAAO,UAAW6tB,UAAW,SAAUtuB,UAAW,SAAUjF,SAAA,CACzF20B,GAAa,qBAAqB,YAAI,IAAI5rB,MAAOL,mBAAmB,GAAI,CAAEyf,KAAM,UAAWC,OAAQ,wBAM5GtoB,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,MACLQ,aAAc,OACdd,QAAS,YACTF,WAAY,0BACZC,aAAc,OACdE,OAAQ,qCACRhF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,MACPC,OAAQ,MACRV,WAAY,UACZC,aAAc,MACdW,UAAW,uBAEbrF,cAAA,QAAMuC,MAAO,CACXgD,SAAU,OACVD,MAAO,UACPE,WAAY,OACZ5F,SACC20B,EAAS,GAAAn3B,OAAMm3B,EAAS,gCAAiC,6CAI9D70B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTG,IAAK,OACLD,eAAgB,UAChBpF,SAAA,CACAI,cAAA,UACED,QAASA,IAAMqJ,UAAUC,UAAUC,UAAU5C,GAC7CnE,MAAO,CACLkC,WAAY,oDACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,MACdC,QAAS,YACTa,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,gBACZzqB,QAAS,OACTC,WAAY,SACZE,IAAK,OAEP9E,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,mBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,uCAE7BtF,aAAeO,IACbA,EAAEG,OAAOyB,MAAMstB,UAAY,gBAC3BlvB,EAAEG,OAAOyB,MAAMmD,UAAY,QAC3B9F,SACH,+BAGDI,cAAA,UACED,QAASA,KACPs0B,EAAU,IACV1tB,EAAY,IACZ9D,EAAS,KAEXN,MAAO,CACLkC,WAAY,UACZa,MAAO,UACPV,OAAQ,OACRF,aAAc,MACdC,QAAS,YACTa,WAAY,MACZ8pB,OAAQ,UACRC,WAAY,iBAEdpvB,aAAeQ,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,oBAE7BzvB,aAAeO,IACbA,EAAEG,OAAOyB,MAAMkC,WAAa,UAC5B9D,EAAEG,OAAOyB,MAAMstB,UAAY,iBAC3BjwB,SACH,0CASXI,cAAA,SAAOsG,KAAG,EAAA1G,SAAA,+oBA6BhB,C,MCxaek1B,MArHGA,KACd,MAAOC,EAAaC,GAAkBv3B,mBAAS,KACxCsP,EAAaC,GAAkBvP,mBAAS,CAAC,GAEhDw3B,IAAMp2B,UAAU,KAAO,IAADq2B,EAElB,MAAMC,EAAO,CACTtnB,UAAWzE,UAAUyE,UACrBunB,SAAUhsB,UAAUgsB,SACpB31B,SAAU2J,UAAU3J,SACpB41B,cAAejsB,UAAUisB,cACzBC,OAAQlsB,UAAUksB,OAClBC,qBAAsB/4B,OAAOgS,oBAAqBhS,OAAOiS,yBACzD+mB,eAAgBpsB,UAAUosB,aAC1BC,eAAsC,QAAvBP,EAAC9rB,UAAUosB,oBAAY,IAAAN,IAAtBA,EAAwBO,eAE5CzoB,EAAemoB,IAChB,IAEH,MAAMO,EAAgB,SAAC/xB,GAA4B,IAAnBuF,EAAIiI,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,OACnC,MAAM9I,GAAY,IAAIM,MAAOL,qBAC7B0sB,EAAezzB,GAAQ,IAAIA,EAAM,CAAEoC,UAASuF,OAAMb,cACtD,EAqBA,OACIrI,cAAA,OAAKL,UAAU,aAAYC,SACvBF,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC3BI,cAAA,MAAAJ,SAAI,wCACJI,cAAA,KAAAJ,SAAG,6DAEHF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC1BF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,MAAAJ,SAAI,wBACJI,cAAA,OAAKL,UAAU,eAAcC,SACxBmL,OAAOC,QAAQ+B,GAAahM,IAAIkB,IAAA,IAAEiG,EAAKzH,GAAMwB,EAAA,OAC1CvC,eAAA,OAAeC,UAAU,YAAWC,SAAA,CAChCF,eAAA,UAAAE,SAAA,CAASsI,EAAI,OACblI,cAAA,QAAML,UAAWc,EAAQ,UAAY,QAAQb,SACvB,mBAAVa,EAAuBA,EAAQ,aAAU,YAAUA,MAHzDyH,UAUtBxI,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,MAAAJ,SAAI,oBACJI,cAAA,UAAQD,QA1CLgD,UACnB,IACI2yB,EAAc,+BAAgC,QAC9C,MAAMC,QAAevsB,UAAUosB,aAAaC,aAAa,CAAEG,OAAO,IAClEF,EAAc,oCAAgC,WAC9CC,EAAOE,YAAY9a,QAAQ+a,GAASA,EAAMrlB,OAC9C,CAAE,MAAO7N,GACL8yB,EAAc,oCAADt4B,OAAgCwF,EAAMe,SAAW,QAClE,GAkCiDhE,UAAU,WAAUC,SAAC,2CAK1DF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,MAAAJ,SAAI,2BACJI,cAACgM,EAAgB,CACbC,aAnCOI,IAC3BqpB,EAAc,8BAADt4B,OAAqBiP,EAAU,KAAK,YAmC7BtD,YAAY,oDAIpBrJ,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACzBI,cAAA,MAAAJ,SAAI,iBACJI,cAAA,OAAKL,UAAU,gBAAeC,SAC1BI,cAAA,UAAQD,QA/CXg2B,KACjBf,EAAe,KA8CoCr1B,UAAU,YAAWC,SAAC,uCAIzDI,cAAA,OAAKL,UAAU,eAAcC,SACD,IAAvBm1B,EAAYn2B,OACToB,cAAA,KAAGL,UAAU,aAAYC,SAAC,8CAE1Bm1B,EAAYh0B,IAAI,CAAC6H,EAAQ7G,IACrBrC,eAAA,OAAiBC,UAAS,eAAAvC,OAAiBwL,EAAOM,MAAOtJ,SAAA,CACrDF,eAAA,QAAMC,UAAU,YAAWC,SAAA,CAAC,IAAEgJ,EAAOP,UAAU,OAC/CrI,cAAA,QAAML,UAAU,UAASC,SAAEgJ,EAAOjF,YAF5B5B,YAU9BrC,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACjCI,cAAA,MAAAJ,SAAI,sCACJF,eAAA,MAAAE,SAAA,CACIF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,qBAAyB,kCACrCF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,oBAAwB,gDACpCF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,4BAAgC,4CAC5CF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,kBAAsB,yCAClCF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,uBAA2B,8BACvCF,eAAA,MAAAE,SAAA,CAAII,cAAA,UAAAJ,SAAQ,mBAAuB,2D,MC0J5Co2B,MAvQgB/zB,IAaxB,IAbyB,UAC9Bg0B,EAAS,SAAEb,EAAQ,YAAEc,EAAW,UAChCC,EAAS,SAAEC,EAAQ,YAAEC,EAAW,MAChCpT,EAAK,KAAElQ,EAAI,QAAEujB,EAAO,UACpBC,EAAS,eAAEzN,EAAc,kBAAE0N,EAAiB,kBAC5CC,EAAiB,iBAAEC,EAAgB,oBAAEC,EAAmB,gBACxDC,EAAe,eAAEC,EAAc,kBAAEC,EAAiB,eAClDC,EAAc,cAAEC,EAAa,iBAAEC,EAAgB,aAC/CC,EAAY,gBAAEC,EAAe,sBAC7BC,EAAqB,oBAAEC,EAAmB,uBAAEC,EAAsB,oBAClEC,EAAmB,kBAAEC,EAAiB,qBAAEC,EAAoB,WAC5DC,EAAU,UAAEC,EAAS,aAAEC,EAAY,oBACnCC,EAAmB,uBAAEC,GACtB71B,EACC,MAAM,EAAEnE,GAAME,cACd,OACE0B,eAAAkU,WAAA,CAAAhU,SAAA,CAEEF,eAAA,OAAKC,UAAU,kCAAiCC,SAAA,CAC9CF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,oCACVkC,cAAA,OAAKL,UAAU,gBAAeC,SAC3Bq2B,EAAUl1B,IAAI+xB,GACbpzB,eAAA,UAEEC,UAAS,mBAAAvC,OAAqBg4B,IAAatC,EAAEryB,MAAQ,SAAW,GAAE,KAAArD,OAAI01B,EAAEiF,SAAW,WAAa,IAChGh4B,QAASA,IAAMm2B,EAAYpD,EAAEryB,OAC7Bu3B,SAAU,EAAEp4B,SAAA,CAEZI,cAAA,QAAML,UAAU,gBAAeC,SAAEkzB,EAAEpxB,OACnC1B,cAAA,QAAML,UAAU,iBAAgBC,SAAEkzB,EAAE9P,QACnC8P,EAAEiF,UAAY/3B,cAAA,QAAML,UAAU,iBAAgBC,SAAE9B,EAAE,+BAP9Cg1B,EAAEryB,aAaff,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,SAAAJ,SAAQ9B,EAAE,0BACVkC,cAAA,OAAKL,UAAU,eAAcC,SAC1Bu2B,EAAUp1B,IAAImI,GACbxJ,eAAA,UAEEC,UAAS,cAAAvC,OAAgBg5B,IAAaltB,EAAKzI,MAAQ,SAAW,IAC9DV,QAASA,IAAMs2B,EAAYntB,EAAKzI,OAAOb,SAAA,CAEvCI,cAAA,QAAML,UAAU,cAAaC,SAAEsJ,EAAKxH,OACpC1B,cAAA,QAAML,UAAU,eAAcC,SAAEsJ,EAAK8Z,QACrChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEsJ,EAAKtF,gBANtCsF,EAAKzI,aAYlBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,SAAAJ,SAAQ9B,EAAE,kCACVkC,cAAA,OAAKL,UAAU,eAAcC,SAC1B62B,EAAkB11B,IAAImZ,GACrBxa,eAAA,UAEEC,UAAS,cAAAvC,OAAgBs5B,IAAqBxc,EAAUzZ,MAAQ,SAAW,IAC3EV,QAASA,IAAM42B,EAAoBzc,EAAUzZ,OAAOb,SAAA,CAEpDI,cAAA,QAAML,UAAU,cAAaC,SAAEsa,EAAUxY,OACzC1B,cAAA,QAAML,UAAU,eAAcC,SAAEsa,EAAU8I,QAC1ChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEsa,EAAUtW,gBAN3CsW,EAAUzZ,aAYvBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,SAAAJ,SAAQ9B,EAAE,gCACVkC,cAAA,OAAKL,UAAU,eAAcC,SAC1Bg3B,EAAgB71B,IAAIk3B,GACnBv4B,eAAA,UAEEC,UAAS,cAAAvC,OAAgBy5B,IAAmBoB,EAAKx3B,MAAQ,SAAW,IACpEV,QAASA,IAAM+2B,EAAkBmB,EAAKx3B,OAAOb,SAAA,CAE7CI,cAAA,QAAML,UAAU,cAAaC,SAAEq4B,EAAKv2B,OACpC1B,cAAA,QAAML,UAAU,eAAcC,SAAEq4B,EAAKjV,QACrChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEq4B,EAAKr0B,gBANtCq0B,EAAKx3B,aAYlBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,SAAAE,SAAA,CAAO,gBAAI9B,EAAE,4CACbkC,cAAA,OAAKL,UAAU,eAAcC,SAC1Bm3B,EAAeh2B,IAAInC,GAClBc,eAAA,UAEEC,UAAS,cAAAvC,OAAgB45B,IAAkBp4B,EAAO6B,MAAQ,SAAW,IACrEV,QAASA,IAAMk3B,EAAiBr4B,EAAO6B,OAAOb,SAAA,CAE9CI,cAAA,QAAML,UAAU,cAAaC,SAAEhB,EAAO8C,MAAQ,iBAC9C1B,cAAA,QAAML,UAAU,eAAcC,SAAEhB,EAAOokB,QACvChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEhB,EAAOgF,gBANxChF,EAAO6B,UAWC,WAAlBu2B,GACCt3B,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCF,eAAA,SAAAE,SAAA,CAAQ9B,EAAE,2BAA2B,OACrCkC,cAAA,SACEkJ,KAAK,SACLzI,MAAOy2B,EACPx2B,SAAUC,GAAKw2B,EAAgB3jB,KAAK8L,IAAI,GAAI4Y,SAASv3B,EAAEG,OAAOL,QAAU,MACxE4e,IAAI,KACJC,IAAI,QAEN5f,eAAA,QAAMC,UAAU,uBAAsBC,SAAA,CACnC9B,EAAE,sBAAsB,KAAGo5B,EAAa,IAAEp5B,EAAE,2BAMnD4B,eAAA,OAAKC,UAAU,6BAA4BC,SAAA,CACzCF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,uCACI,aAAbs3B,GACC11B,eAAA,OAAKC,UAAU,8BAA6BC,SAAA,CAC1CF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,8CACV4B,eAAA,MAAAE,SAAA,CACEF,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,sDAAsD,OAAU,IAAEA,EAAE,2DACnF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,wDAAwD,OAAU,IAAEA,EAAE,6DACrF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,yDAAyD,OAAU,IAAEA,EAAE,8DACtF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,8DAA8D,OAAU,IAAEA,EAAE,mEAC3F4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,mDAAmD,OAAU,IAAEA,EAAE,oEAGlF4B,eAAA,OAAK6C,MAAO,CAACgD,SAAU,OAAQD,MAAO,OAAQe,UAAW,OAAQ1B,QAAS,OAAQF,WAAY,UAAWC,aAAc,OAAO9E,SAAA,CAAC,UACrH9B,EAAE,4DAIF,cAAbs3B,GACC11B,eAAA,OAAKC,UAAU,+BAA8BC,SAAA,CAC3CF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,+CACV4B,eAAA,MAAAE,SAAA,CACEF,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,uDAAuD,OAAU,IAAEA,EAAE,4DACpF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,yDAAyD,OAAU,IAAEA,EAAE,8DACtF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,0DAA0D,OAAU,IAAEA,EAAE,+DACvF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,+DAA+D,OAAU,IAAEA,EAAE,oEAC5F4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,oDAAoD,OAAU,IAAEA,EAAE,wEAIzE,aAAbs3B,GACC11B,eAAA,OAAKC,UAAU,8BAA6BC,SAAA,CAC1CF,eAAA,MAAAE,SAAA,CAAI,gBAAI9B,EAAE,8CACV4B,eAAA,MAAAE,SAAA,CACEF,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,sDAAsD,OAAU,IAAEA,EAAE,2DACnF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,wDAAwD,OAAU,IAAEA,EAAE,6DACrF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,yDAAyD,OAAU,IAAEA,EAAE,8DACtF4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,8DAA8D,OAAU,IAAEA,EAAE,mEAC3F4B,eAAA,MAAAE,SAAA,CAAIF,eAAA,UAAAE,SAAA,CAAS9B,EAAE,mDAAmD,OAAU,IAAEA,EAAE,6EAO1F4B,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,SAAAE,SAAA,CAAO,gBAAI9B,EAAE,uCACbkC,cAAA,OAAKL,UAAU,eAAcC,SAC1Bw3B,EAAsBr2B,IAAIo3B,GACzBz4B,eAAA,UAEEC,UAAS,cAAAvC,OAAgBi6B,IAAwBc,EAAM13B,MAAQ,SAAW,IAC1EV,QAASA,IAAMu3B,EAAuBa,EAAM13B,OAAOb,SAAA,CAEnDI,cAAA,QAAML,UAAU,cAAaC,SAAEu4B,EAAMz2B,OACrC1B,cAAA,QAAML,UAAU,eAAcC,SAAEu4B,EAAMnV,QACtChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEu4B,EAAMv0B,gBANvCu0B,EAAM13B,aAWnBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,SAAAE,SAAA,CAAO,gBAAI9B,EAAE,oCACbkC,cAAA,OAAKL,UAAU,eAAcC,SAC1B23B,EAAoBx2B,IAAIoJ,GACvBzK,eAAA,UAEEC,UAAS,cAAAvC,OAAgBo6B,IAAsBrtB,EAAQ1J,MAAQ,SAAW,IAC1EV,QAASA,IAAM03B,EAAqBttB,EAAQ1J,OAAOb,SAAA,CAEnDI,cAAA,QAAML,UAAU,cAAaC,SAAoB,cAAlBuK,EAAQ1J,MAAwB,2BAA2B,SAAlB0J,EAAQ1J,MAAmB,qBAA0B,WAAlB0J,EAAQ1J,MAAqB,qBAAQ,mCAChJT,cAAA,QAAML,UAAU,eAAcC,SAAEuK,EAAQ6Y,QACxChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEuK,EAAQvG,gBANzCuG,EAAQ1J,aAYrBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,SAAAE,SAAA,CAAO,gBAAI9B,EAAE,mCACbkC,cAAA,OAAKL,UAAU,eAAcC,SAC1B83B,EAAW32B,IAAIq3B,GACd14B,eAAA,UAEEC,UAAS,cAAAvC,OAAgBu6B,IAAcS,EAAc33B,MAAQ,SAAW,IACxEV,QAASA,IAAM63B,EAAaQ,EAAc33B,OAAOb,SAAA,CAEjDI,cAAA,QAAML,UAAU,cAAaC,SAA0B,UAAxBw4B,EAAc33B,MAAoB,2BAAiC,iBAAxB23B,EAAc33B,MAA2B,2BAAiC,cAAxB23B,EAAc33B,MAAwB,iCAAkC,YAAxB23B,EAAc33B,MAAsB,2BAAiC,UAAxB23B,EAAc33B,MAAoB,2BAAS,6BACpQT,cAAA,QAAML,UAAU,eAAcC,SAAEw4B,EAAcpV,QAC9ChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEw4B,EAAcx0B,gBAN/Cw0B,EAAc33B,aAY3Bf,eAAA,UACEC,UAAU,kBACVI,QAASA,IAAM+3B,GAAwBD,GAAqBj4B,SAAA,CAE3Di4B,EAAsB,eAAO,eAAK,IAAE/5B,EAAE,kCAExC+5B,GACCn4B,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAE/BF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,SAAAJ,SAAQ9B,EAAE,sBACVkC,cAAA,OAAKL,UAAU,eAAcC,SAC1BqjB,EAAMliB,IAAIs3B,GACT34B,eAAA,UAEEC,UAAS,cAAAvC,OAAgB2V,IAASslB,EAAS53B,MAAQ,SAAW,IAC9DV,QAASA,IAAMu2B,EAAQ+B,EAAS53B,OAAOb,SAAA,CAEvCI,cAAA,QAAML,UAAU,cAAaC,SAAEy4B,EAAS32B,OACxC1B,cAAA,QAAML,UAAU,eAAcC,SAAEy4B,EAASrV,QACzChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEy4B,EAASz0B,gBAN1Cy0B,EAAS53B,aAYtBf,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,SAAAJ,SAAQ9B,EAAE,gCACVkC,cAAA,OAAKL,UAAU,eAAcC,SAC1B22B,EAAUx1B,IAAI+rB,GACbptB,eAAA,UAEEC,UAAS,cAAAvC,OAAgB0rB,IAAmBgE,EAASrsB,MAAQ,SAAW,IACxEV,QAASA,IAAMy2B,EAAkB1J,EAASrsB,OAAOb,SAAA,CAEjDI,cAAA,QAAML,UAAU,cAAaC,SAAEktB,EAASprB,OACxC1B,cAAA,QAAML,UAAU,eAAcC,SAAEktB,EAAS9J,QACzChjB,cAAA,QAAML,UAAU,qBAAoBC,SAAEktB,EAASlpB,gBAN1CkpB,EAASrsB,oBC+0CjB63B,MApkDer2B,IA+CvB,IAADs2B,EAAAC,EAAAC,EAAA,IA/CyB,gBAC7BC,EAAe,gBACfC,EAAe,YACfC,EAAW,oBACXC,EAAmB,uBACnBC,EAAsB,eACtBC,EAAc,kBACdC,EAAiB,QACjB5wB,EAAO,SACPgtB,EAAQ,SACRgB,EAAQ,KACRrjB,EAAI,eACJ+V,EAAc,gBACdmQ,EAAe,YACfC,EAAW,gBACXC,EAAe,MACflW,EAAK,UACLsT,EAAS,UACTN,EAAS,iBACTmD,EAAgB,YAChBC,EAAW,gBACX3vB,EAAe,gBACfmB,EAAe,kBACfyuB,EAAiB,kBACjBC,EAAiB,WACjBC,EAAU,mBACVC,EAAkB,YAClBvD,EAAW,YACXG,EAAW,QACXC,EAAO,kBACPE,EAAiB,oBACjBG,EAAmB,kBACnBG,EAAiB,iBACjBG,EAAgB,uBAChBK,EAAsB,qBACtBG,EAAoB,aACpBG,EAAY,UACZzB,EAAS,sBACTiB,EAAqB,oBACrBG,EAAmB,WACnBG,EAAU,UACVgC,EAAS,aACTC,EAAY,cACZC,EAAa,iBACbC,EAAgB,aAChBC,EAAY,uBACZC,GACD93B,EACC,MAAM,EAAEnE,IAAME,cAER4L,GAAmBC,GACnBA,GAAS,GAAY,UACrBA,GAAS,GAAY,UAClB,UAyCHmwB,GAAyBtwB,GA9BH,CAC1BoB,aAAc,GACdG,QAAS,CACPgvB,UAAW,GACXC,UAAW,GACXC,aAAc,GACdC,QAAS,IACTC,WAAY,IACZngB,UAAW,GACXnH,KAAM,GACNnU,OAAQ,IAEViF,UAAW,CACT,uCACA,yCACA,gCAEFwH,WAAY,CACV,yCACA,0CAEFE,YAAa,CACX,2DACA,uDACA,sDACA,+DAQG+uB,GAAiBC,IAAsBtF,IAAMx3B,SAAS,KACtD+8B,GAAYC,IAAiBxF,IAAMx3B,UAAS,IAC5Ci9B,GAAUC,IAAe1F,IAAMx3B,SAAS,IA+L/C,OACEuC,cAAA,OAAAJ,SAEG84B,GACCh5B,eAAA,OACEC,UAAU,+CACV4C,MAAO,CACLoS,SAAU,WACVqa,SAAU,IACVrpB,OAAQ,SACRlB,WAAY,OACZC,aAAc,GACdgB,UAAW,8BACXd,OAAQ,oBACRD,QAAS,YACTc,aAAc,GACd8pB,WAAY,WACZrqB,MAAO,QACPtF,SAAA,CAEFF,eAAA,MAAI6C,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAIZ,UAAW,SAAUkrB,cAAe,IAAMnwB,SAAA,CAAC,UACtH9B,GAAE,+BAIP4B,eAAA,OACEC,UAAU,6BACV4C,MAAO,CACLkC,WAAY,UACZC,aAAc,GACdC,QAAS,WACTc,aAAc,GACdC,UAAW,6BACbd,OAAQ,oBACR+P,SAAU,WACRsa,SAAU,SACV/pB,MAAO,QACPtF,SAAA,CAGFF,eAAA,OACE6C,MAAO,CACPoS,SAAU,WACR6a,IAAK,GACLC,MAAO,GACThrB,WAAY,oDACZa,MAAO,QACLX,QAAS,WACTD,aAAc,GACda,SAAU,GACVC,WAAY,IACdV,QAAS,OACTC,WAAY,SACVE,IAAK,EACL21B,OAAQ,GACRl1B,UAAW,mCACX9F,SAAA,CAEFI,cAAA,QAAAJ,SAAOq5B,EAAgB7D,KACvBp1B,cAAA,QAAAJ,SAAuB,OAAhBw5B,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBpW,WAIb,aAAboS,GACC11B,eAAA,OAAKC,UAAU,mBAAmB4C,MAAO,CACvCkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACToqB,WAAY,oEACZpa,SAAU,WACVjP,UAAW,+BACXd,OAAQ,qBACRhF,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,oDACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,QACPC,SAAU,OACVC,WAAY,MACZE,UAAW,qCACX9F,SAAC,iBAGHF,eAAA,OAAK6C,MAAO,CAAE8sB,KAAM,GAAIzvB,SAAA,CACtBI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPG,aAAc,OACd7F,SACC9B,GAAE,8BAEL4B,eAAA,OAAK6C,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPR,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAA,CACAI,cAAA,QAAAJ,SAAO9B,GAAE,yBACTkC,cAAA,QAAAJ,SAAM,WACNF,eAAA,QAAAE,SAAA,CAAOs5B,EAAYnmB,GAAM,IAAmC,QAAlCwlB,EAACtV,EAAMzjB,KAAK1B,GAAKA,EAAE2C,QAAUsS,UAAK,IAAAwlB,OAAA,EAAjCA,EAAmCvV,SAC9DhjB,cAAA,QAAAJ,SAAM,WACNI,cAAA,QAAAJ,SAAM,uBAGVI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPgqB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,UAAWjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAC,cAM3II,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVK,WAAY,MACZN,MAAO,UACP8qB,WAAY,WACZyK,SAAU,aACVp1B,aAAc,OACdd,QAAS,OACTF,WAAY,QACZC,aAAc,MACdE,OAAQ,qBACRhF,SACC+4B,GAAmBD,IAItBh5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChB81B,WAAY,OACZ11B,UAAW,oBACXG,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,QAASrF,SAAA,CACjEF,eAAA,UAAQ6C,MAAO,CACbuC,QAAS,OACTC,WAAY,SACZE,IAAK,MACLR,WAAY,OACZG,OAAQ,OACRU,MAAO,UACPgqB,OAAQ,UACR3qB,QAAS,WACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,UAAWjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAA,CAAC,gBACnI9B,GAAE,uBAER4B,eAAA,UAAQ6C,MAAO,CACbuC,QAAS,OACTC,WAAY,SACZE,IAAK,MACLR,WAAY,OACZG,OAAQ,OACRU,MAAO,UACPgqB,OAAQ,UACR3qB,QAAS,WACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,UAAWjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAA,CAAC,gBACnI9B,GAAE,0BAER4B,eAAA,UAAQ6C,MAAO,CACbuC,QAAS,OACTC,WAAY,SACZE,IAAK,MACLR,WAAY,OACZG,OAAQ,OACRU,MAAO,UACPgqB,OAAQ,UACR3qB,QAAS,WACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,UAAWjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAA,CAAC,gBACnI9B,GAAE,2BAGV4B,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,OAAQD,MAAO,WAAY1F,SAAA,CAAC,KAC/C9B,GAAE,wBAAwB,aAAMA,GAAE,+BAM/B,cAAbs3B,GACC11B,eAAA,OAAKC,UAAU,oBAAoB4C,MAAO,CACxCkC,WAAY,UACZC,aAAc,OACdC,QAAS,IACToqB,WAAY,oEACZnqB,OAAQ,oBACRc,UAAW,+BACXspB,SAAU,QACVrpB,OAAQ,UACR/F,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLN,QAAS,OACT0uB,aAAc,qBACdzzB,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,0FACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,QACPC,SAAU,QACV3F,SAAC,iBAGHI,cAAA,OAAKuC,MAAO,CAAE8sB,KAAM,GAAIzvB,SACtBI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZF,MAAO,WACP1F,SACC9B,GAAE,gCAGPkC,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPgqB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,UAAWjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAC,cAM3II,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,QACRV,WAAY,oDACZK,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVD,MAAO,UACP+tB,aAAc,qBACdzzB,SAAC,iBAKHF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLN,QAAS,YACT0uB,aAAc,qBACdzzB,SAAA,CACAI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,iBACZkE,WAAY,QACXtzB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,oBAM/HF,eAAA,OAAK6C,MAAO,CACVoC,QAAS,YACTY,SAAU,OACVK,WAAY,MACZN,MAAO,UACP8qB,WAAY,WACZyK,SAAU,cACVj7B,SAAA,CACAF,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,OAAQ7F,SAAA,CAClCI,cAAA,QAAMuC,MAAO,CAAEiD,WAAY,MAAOF,MAAO,WAAY1F,SAAE9B,GAAE,8BACzDkC,cAAA,QAAMuC,MAAO,CAAEkxB,WAAY,OAAQ7zB,SAAE+4B,GAAmBD,OAI1D14B,cAAA,OAAKuC,MAAO,CACV+C,MAAO,UACPC,SAAU,OACVc,UAAW,MACXT,WAAY,OACZhG,SAAC,0DAIHI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPe,UAAW,OACXzG,SACC9B,GAAE,8BAA+B,CAAEi9B,MAAO,YAMrC,YAAb3F,GACC11B,eAAA,OAAKC,UAAU,kBAAkB4C,MAAO,CACtCkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACToqB,WAAY,oEACZnqB,OAAQ,qBACRhF,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,UACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,QACPC,SAAU,QACV3F,SAAC,iBAGHF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPG,aAAc,OACd7F,SACC9B,GAAE,0BAEL4B,eAAA,OAAK6C,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPR,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAA,CACAF,eAAA,QAAAE,SAAA,CAAM,IAAE9B,GAAE,6BACVkC,cAAA,QAAAJ,SAAM,WACNI,cAAA,QAAAJ,SAAO9B,GAAE,8BAMfkC,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVK,WAAY,MACZN,MAAO,UACP8qB,WAAY,WACZyK,SAAU,aACVp1B,aAAc,QACd7F,SACC+4B,GAAmBD,IAItBh5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChB81B,WAAY,OACZ11B,UAAW,oBACXG,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAI,cAAA,QAAAJ,SAAM,mBACNI,cAAA,QAAAJ,SAAM,mBACNI,cAAA,QAAAJ,SAAM,mBACNI,cAAA,QAAAJ,SAAM,uBAKE,aAAbw1B,GACC11B,eAAA,OAAKC,UAAU,mBAAmB4C,MAAO,CACvCkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACToqB,WAAY,oEACZnqB,OAAQ,qBACRhF,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,UACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,QACPC,SAAU,QACV3F,SAAC,iBAGHF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPG,aAAc,OACd7F,SAAC,cAGHI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPG,aAAc,OACd7F,SAAC,0BAGHF,eAAA,OAAK6C,MAAO,CACVgD,SAAU,OACVD,MAAO,WACP1F,SAAA,CAAC,cACMs5B,EAAYnmB,GAAM,IAAmC,QAAlCylB,EAACvV,EAAMzjB,KAAK1B,GAAKA,EAAE2C,QAAUsS,UAAK,IAAAylB,OAAA,EAAjCA,EAAmCxV,eAMpEhjB,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVK,WAAY,MACZN,MAAO,UACP8qB,WAAY,WACZyK,SAAU,aACVp1B,aAAc,QACd7F,SACC+4B,GAAmBD,IAItBh5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACL61B,WAAY,OACZ11B,UAAW,oBACXG,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAI,cAAA,QAAAJ,SAAM,sBACNI,cAAA,QAAAJ,SAAM,yBACNI,cAAA,QAAAJ,SAAM,wBACNI,cAAA,QAAAJ,SAAM,4BAKE,WAAbw1B,GACC11B,eAAA,OAAKC,UAAU,iBAAiB4C,MAAO,CACrCkC,WAAY,UACZC,aAAc,OACdC,QAAS,IACToqB,WAAY,oEACZzpB,MAAO,QACPqP,SAAU,WACVsa,SAAU,SACVvpB,UAAW,gCACXspB,SAAU,QACVrpB,OAAQ,UACR/F,SAAA,CAEAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,QACRV,WAAY,2CACZK,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVoP,SAAU,YACV/U,SACAI,cAAA,OAAKuC,MAAO,CACVoS,SAAU,WACV6a,IAAK,MACLc,KAAM,MACNT,UAAW,wBACX3qB,MAAO,OACPC,OAAQ,OACRV,WAAY,2BACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,OACVD,MAAO,WACP1F,SAAC,mBAMLF,eAAA,OAAK6C,MAAO,CACVoS,SAAU,WACV0b,OAAQ,IACRC,KAAM,IACNb,MAAO,IACPhrB,WAAY,mDACZE,QAAS,YACT2uB,cAAe,QACf1zB,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVK,WAAY,MACZwqB,WAAY,WACZyK,SAAU,aACVp1B,aAAc,OACdupB,SAAU,SACVpvB,SACC+4B,GAAmBD,IAItB14B,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,UACPG,aAAc,QACd7F,SAAC,8CAMLF,eAAA,OAAK6C,MAAO,CACVoS,SAAU,WACV6a,IAAK,OACLc,KAAM,OACNb,MAAO,OACP3qB,QAAS,OACTC,WAAY,SACZC,eAAgB,iBAChBpF,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLrF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,2CACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,SAAU,QACV3F,SAAC,iBAGHF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZC,aAAc,OACd7F,SAAC,kBAGHI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVD,MAAO,WACP1F,SAAC,yBAKPI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRU,MAAO,QACPC,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,yBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,2BAA4BjT,aAAeO,GAAMA,EAAEG,OAAOyB,MAAM8Q,gBAAkB,cAAczT,SAAC,cAM5JF,eAAA,OAAK6C,MAAO,CACVoS,SAAU,WACV8a,MAAO,OACPY,OAAQ,QACRvrB,QAAS,OACT8qB,cAAe,SACf7qB,WAAY,SACZE,IAAK,QACLrF,SAAA,CACAF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAClCI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQc,UAAW,OAAQzG,SAAC,SAEtDF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAClCI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQc,UAAW,OAAQzG,SAAC,SAEtDF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAClCI,cAAA,UAAQuC,MAAO,CACbkC,WAAY,OACZG,OAAQ,OACRW,SAAU,OACV+pB,OAAQ,UACR3qB,QAAS,MACTD,aAAc,MACd6qB,WAAY,kBACXpvB,aAAeQ,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,aAAczvB,aAAeO,GAAMA,EAAEG,OAAOyB,MAAMstB,UAAY,WAAWjwB,SAAC,iBAG7HI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,OAAQc,UAAW,OAAQzG,SAAC,mBAM9C,YAAbw1B,GACC11B,eAAA,OAAKC,UAAU,kBAAkB4C,MAAO,CACtCkC,WAAY,UACZC,aAAc,OACdC,QAAS,OACToqB,WAAY,4BACZnqB,OAAQ,qBACRhF,SAAA,CAEAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACLQ,aAAc,QACd7F,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACV2C,MAAO,OACPC,OAAQ,OACRV,WAAY,UACZC,aAAc,MACdI,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBM,MAAO,QACPC,SAAU,QACV3F,SAAC,iBAGHF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVC,WAAY,MACZF,MAAO,UACPG,aAAc,OACd7F,SAAC,sBAGHF,eAAA,OAAK6C,MAAO,CACVgD,SAAU,OACVD,MAAO,WACP1F,SAAA,CACC,IAAI+I,KAAKN,WAAWsf,qBAAqB,WAAIuR,EAAYnmB,GAAM,IAAmC,QAAlC0lB,EAACxV,EAAMzjB,KAAK1B,GAAKA,EAAE2C,QAAUsS,UAAK,IAAA0lB,OAAA,EAAjCA,EAAmCzV,eAM3GhjB,cAAA,OAAKuC,MAAO,CACVgD,SAAU,OACVK,WAAY,MACZN,MAAO,UACP8qB,WAAY,WACZyK,SAAU,aACVp1B,aAAc,QACd7F,SACC+4B,GAAmBD,IAItBh5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,OACL61B,WAAY,OACZ11B,UAAW,oBACXG,SAAU,OACVD,MAAO,WACP1F,SAAA,CACAI,cAAA,QAAAJ,SAAM,mBACNI,cAAA,QAAAJ,SAAM,mBACNI,cAAA,QAAAJ,SAAM,4BACNI,cAAA,QAAAJ,SAAM,gCAOdF,eAAA,OACY6C,MAAO,CACLuC,QAAS,OACnB8qB,cAAe,MACf5qB,eAAgB,gBACND,WAAY,SACtBY,OAAQ,SACRhB,QAAS,SACTS,UAAW,oBACXiuB,aAAc,oBACd9tB,SAAU,GACVD,MAAO,UACPL,IAAK,GACLrF,SAAA,CAEFF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQG,IAAK,IAAKrF,SAAA,CACvCF,eAAA,QAAAE,SAAA,CAAM,iBAAK+4B,GAAmBD,GAAiB95B,OAAO,IAAEd,GAAE,6BAC1D4B,eAAA,QAAAE,SAAA,CAAM,iBAAK+4B,GAAmBD,GAAiB1e,MAAM,KAAKpb,OAAO,IAAEd,GAAE,2BAEtEu7B,GACCr5B,cAAA,QAAMuC,MAAO,CAAE+C,MAAO,UAAWE,WAAY,IAAKD,SAAU,IAAK3F,SAAC,+BAKrEo6B,IACCt6B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZC,aAAc,GACdC,QAAS,GACTgB,OAAQ,SACRf,OAAQ,oBACRc,UAAW,8BACX9F,SAAA,CACAF,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChBS,aAAc,IACd7F,SAAA,CACAF,eAAA,MAAI6C,MAAO,CACTgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPK,OAAQ,EACRb,QAAS,OACTC,WAAY,SACZE,IAAK,GACLrF,SAAA,CAAC,gBACG9B,GAAE,kCAER4B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,EACLN,QAAS,WACTD,aAAc,GACdD,WAAY,QACZG,OAAQ,oBACRc,UAAW,6BACX9F,SAAA,CACAI,cAAA,QAAMuC,MAAO,CACXgD,SAAU,GACVC,WAAY,IACZF,MAAOsE,GAAgBowB,GAAuBlvB,aAAe,MAC7DlL,UArkCOiK,GAskCUmwB,GAAuBlvB,aAAe,IArkC9ChN,GAArB+L,IAAS,GAAc,gCACvBA,IAAS,GAAc,2BACvBA,IAAS,GAAc,2BAClB,+BAokCK7J,cAAA,QAAMuC,MAAO,CACXgD,SAAU,GACVC,WAAY,IACZF,MAAOsE,GAAgBowB,GAAuBlvB,aAAe,MAC7DlL,SACCo6B,GAAuBlvB,qBAM9B9K,cAAA,OAAKuC,MAAO,CACVuC,QAAS,OACTe,oBAAqB,uCACrBZ,IAAK,EACLQ,aAAc,IACd7F,SACCmL,OAAOC,QAAQgvB,GAAuB/uB,SAAW,CAAC,GAAGlK,IAAIi6B,IAAA,IAAE9vB,EAAQrB,GAAMmxB,EAAA,OACxEt7B,eAAA,OAAkB6C,MAAO,CACvBkC,WAAY,QACZE,QAAS,EACTD,aAAc,EACdE,OAAQ,oBACRC,UAAW,UACXjF,SAAA,CACAI,cAAA,OAAKuC,MAAO,CACVgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPG,aAAc,EACdqqB,cAAe,cACflwB,SACCsL,EAAO4O,QAAQ,WAAY,OAAOrR,SAErC/I,eAAA,OAAK6C,MAAO,CACVgD,SAAU,GACVC,WAAY,IACZF,MAAOsE,GAAgBC,IACvBjK,SAAA,EACU,IAARiK,GAAae,QAAQ,GAAG,SArBpBM,OA4BdxL,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACT8qB,cAAe,SACf3qB,IAAK,IACLrF,SAAA,CACCo6B,GAAuBn2B,WAAam2B,GAAuBn2B,UAAUjF,OAAS,GAC7Ec,eAAA,OAAAE,SAAA,CACEF,eAAA,MAAI6C,MAAO,CACTgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPK,OAAQ,YACRb,QAAS,OACTC,WAAY,SACZE,IAAK,GACLrF,SAAA,CAAC,UACE9B,GAAE,4BAEPkC,cAAA,MAAIuC,MAAO,CACToD,OAAQ,EACR6tB,YAAa,GACbjuB,SAAU,GACVD,MAAO,UACPM,WAAY,KACZhG,SACCo6B,GAAuBn2B,UAAUoE,MAAM,EAAG,GAAGlH,IAAI,CAACqF,EAAUrE,IAC3D/B,cAAA,MAAAJ,SAAiBwG,GAARrE,SAMhBi4B,GAAuB3uB,YAAc2uB,GAAuB3uB,WAAWzM,OAAS,GAC/Ec,eAAA,OAAAE,SAAA,CACEF,eAAA,MAAI6C,MAAO,CACTgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPK,OAAQ,YACRb,QAAS,OACTC,WAAY,SACZE,IAAK,GACLrF,SAAA,CAAC,gBACG9B,GAAE,sCAERkC,cAAA,MAAIuC,MAAO,CACToD,OAAQ,EACR6tB,YAAa,GACbjuB,SAAU,GACVD,MAAO,UACPM,WAAY,KACZhG,SACCo6B,GAAuB3uB,WAAWpD,MAAM,EAAG,GAAGlH,IAAI,CAACuK,EAAUvJ,IAC5D/B,cAAA,MAAAJ,SAAiB0L,GAARvJ,YAQlBi4B,GAAuBzuB,aAAeyuB,GAAuBzuB,YAAY3M,OAAS,GACjFc,eAAA,OAAK6C,MAAO,CACV8D,UAAW,GACX1B,QAAS,GACTF,WAAY,oDACZC,aAAc,EACdE,OAAQ,qBACRhF,SAAA,CACAF,eAAA,MAAI6C,MAAO,CACTgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPK,OAAQ,YACRb,QAAS,OACTC,WAAY,SACZE,IAAK,GACLrF,SAAA,CAAC,gBACG9B,GAAE,kCAERkC,cAAA,MAAIuC,MAAO,CACToD,OAAQ,EACR6tB,YAAa,GACbjuB,SAAU,GACVD,MAAO,UACPM,WAAY,KACZhG,SACCo6B,GAAuBzuB,YAAYtD,MAAM,EAAG,GAAGlH,IAAI,CAACyK,EAAYzJ,IAC/D/B,cAAA,MAAgBuC,MAAO,CAAEkD,aAAc,GAAI7F,SAAE4L,GAApCzJ,SAOjBrC,eAAA,OAAK6C,MAAO,CACV8D,UAAW,GACX1B,QAAS,GACTF,WAAY,oDACZC,aAAc,EACdE,OAAQ,qBACRhF,SAAA,CACAF,eAAA,MAAI6C,MAAO,CACTgD,SAAU,GACVC,WAAY,IACZF,MAAO,UACPK,OAAQ,YACRb,QAAS,OACTC,WAAY,SACZE,IAAK,GACLrF,SAAA,CAAC,gBACG9B,GAAE,+BAER4B,eAAA,OAAK6C,MAAO,CACVgD,SAAU,GACVD,MAAO,UACPM,WAAY,KACZhG,SAAA,CACc,cAAbw1B,GAA4B,sHACf,aAAbA,GAA2B,sFACd,YAAbA,GAA0B,sFACb,aAAbA,GAA2B,wFACd,WAAbA,GAAyB,0EACZ,YAAbA,GAA0B,4FAOnC11B,eAAA,OAAK6C,MAAO,CAAEoD,OAAQ,aAAcd,UAAW,UAAWjF,SAAA,CACxDI,cAAA,UACED,QA5sCqBgD,UAC/B03B,IAAc,GACdE,GAAY,IACZJ,GAAmB,IACnB,IACE,MAAMU,QT8sCLl4B,eAAsC2sB,GAAsB,IAAhB0F,EAAQjkB,UAAAvS,OAAA,QAAAwS,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC5D,IACE,MAAM2M,EAAMjhB,oBAAU,gCAChBoG,QAAYC,MAAM4a,EAAK,CAC3BrW,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE6nB,OAAM0F,eAE/B,IAAKnyB,EAAIE,GAAI,CACX,MAAM2F,QAAY7F,EAAIO,OAAOuE,MAAM,MAAS,IAC5C,MAAM,IAAI3E,MAAM0F,EAAIlG,OAAS,gCAC/B,CAEA,aADmBK,EAAIO,QACX82B,eACd,CAAE,MAAO13B,GACP,MAAM,IAAIQ,MAAMR,EAAMe,SAAW,gCACnC,CACF,CS/tCyBu3B,CAAuBvC,GAAmBD,EAAiBtD,GAC9EmF,GAAmBU,EACrB,CAAE,MAAOnyB,GACP6xB,GAAY7xB,EAAInF,SAAW,gCAC7B,CACA82B,IAAc,IAmsCJtxB,SAAUqxB,GACVj4B,MAAO,CACLkC,WAAY,oDACZa,MAAO,OACPV,OAAQ,OACRF,aAAc,EACdC,QAAS,YACTa,WAAY,IACZD,SAAU,GACV+pB,OAAQkL,GAAa,cAAgB,UACrC90B,UAAW,kCACXD,aAAc,IACd7F,SAED46B,GAAa,6BAA+B,yCAE9CE,IACC16B,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWe,UAAW,EAAGb,WAAY,KAAM5F,SAAE86B,KAEnEJ,IACC56B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZG,OAAQ,oBACRF,aAAc,GACdC,QAAS,GACT0B,UAAW,GACXf,MAAO,UACPC,SAAU,GACVV,UAAW,OACXurB,WAAY,WACZrB,WAAY,UACZrpB,UAAW,mCACX9F,SAAA,CACAF,eAAA,UAAAE,SAAA,CAAQ,gBAAI9B,GAAE,mCAAqC,sBAAsB,OACzEkC,cAAA,OAAKuC,MAAO,CAAE8D,UAAW,GAAIzG,SAAE06B,WAMrC56B,eAAA,OACQ6C,MAAO,CACXuC,QAAS,OACT8qB,cAAe,SACf3qB,IAAK,GACLU,OAAQ,SACFT,MAAO,QACbtF,SAAA,CAEEF,eAAA,UACEK,QAASA,IAAM8K,EAAgB8tB,GAAmBD,GAClDn2B,MAAO,CACLkC,WAAY,oDACZa,MAAO,QACPV,OAAQ,OACZF,aAAc,EACdC,QAAS,SACTY,SAAU,GACVC,WAAY,IACR8pB,OAAQ,UACZpqB,MAAO,OACPQ,UAAW,mCACP9F,SAAA,CACH,gBACK9B,GAAE,uBAER4B,eAAA,UACEK,QAASA,IAAMu5B,EACbX,GAAmBD,EACnBtD,EACAgB,EACArjB,EACA+V,GAEFvmB,MAAO,CACLkC,WAAY,oDACZa,MAAO,QACPV,OAAQ,OACZF,aAAc,EACdC,QAAS,SACTY,SAAU,GACVC,WAAY,IACR8pB,OAAQ,UACZpqB,MAAO,OACPQ,UAAW,mCACP9F,SAAA,CACH,sBACM9B,GAAE,0BAET4B,eAAA,UACEK,QAASA,KACT,MAAMo7B,EAAW,CACf/yB,QAASuwB,GAAmBD,EAC5BtD,WACAgB,WACArjB,OACA+V,iBACAzgB,WAAW,IAAIM,MAAOsM,eAElBmmB,EAAO,IAAIC,KAAK,CAACzzB,KAAKC,UAAUszB,EAAU,KAAM,IAAK,CAAEjyB,KAAM,qBAC7D4U,EAAMwd,IAAIC,gBAAgBH,GAC1B7kB,EAAI1E,SAAS2pB,cAAc,KACjCjlB,EAAEklB,KAAO3d,EACTvH,EAAEmlB,SAAQ,GAAAt+B,OAAMg4B,EAAQ,UAAAh4B,QAAS,IAAIuL,MAAOsM,cAAc+E,MAAM,KAAK,GAAE,SACvEzD,EAAEolB,QACFL,IAAIM,gBAAgB9d,IAEtBvb,MAAO,CACPkC,WAAY,oDACVa,MAAO,QACPV,OAAQ,OACVF,aAAc,EACdC,QAAS,SACTY,SAAU,GACVC,WAAY,IACV8pB,OAAQ,UACVpqB,MAAO,OACPQ,UAAW,mCACT9F,SAAA,CACH,gBACK9B,GAAE,8BAKZ4B,eAAA,OAAK6C,MAAO,CAAEoD,OAAQ,UAAW/F,SAAA,CAC/BF,eAAA,SAAO6C,MAAO,CAAEuC,QAAS,QAASW,aAAc,EAAGF,SAAU,GAAIC,WAAY,IAAKF,MAAO,WAAY1F,SAAA,CAClG9B,GAAE,gCAAgC,OAErCkC,cAAA,YACES,MAAOk4B,GAAmBD,EAC1Bh4B,SAAWC,GAAM84B,EAAmB94B,EAAEG,OAAOL,OACzC8B,MAAO,CACT2C,MAAO,OACP4pB,UAAW,GACXnqB,QAAS,GACTD,aAAc,EACVE,OAAQ,oBACZW,SAAU,GACVK,WAAY,IACZsuB,OAAQ,WACRnF,WAAY,UACZtpB,aAAc,GAEhBsD,YAAajL,GAAE,wCAEjB4B,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWe,UAAW,EAAGxB,UAAW,SAAUjF,SAAA,EAC7E+4B,GAAmBD,GAAiB95B,OAAO,IAAEd,GAAE,0BAA0B,OAAK66B,GAAmBD,GAAiB1e,MAAM,KAAKpb,OAAO,IAAEd,GAAE,2BAK9I4B,eAAA,OAAK6C,MAAO,CAAEoD,OAAQ,UAAW/F,SAAA,CAC7BF,eAAA,UACEK,QAASA,IAAM+4B,GAAwBD,GACvCt2B,MAAO,CACLkC,WAAYo0B,EAAsB,UAAY,UAC9CvzB,MAAOuzB,EAAsB,QAAU,UACvCj0B,OAAQ,oBACVF,aAAc,EACdC,QAAS,QACTY,SAAU,GACVC,WAAY,IACZN,MAAO,OACPO,aAAc,EACZ6pB,OAAQ,WACR1vB,SAAA,CACH,gBAC2B9B,GAAtB+6B,EAAwB,mBAAwB,oBAAoB,IAAE/6B,GAAE,2BAE9E4B,eAAA,UACEK,QAASA,IAAMi5B,GAAmBD,GAClCx2B,MAAO,CACLkC,WAAYs0B,EAAiB,UAAY,UACzCzzB,MAAOyzB,EAAiB,QAAU,UAClCn0B,OAAQ,oBACVF,aAAc,EACdC,QAAS,QACTY,SAAU,GACVC,WAAY,IACZN,MAAO,OACLoqB,OAAQ,WACR1vB,SAAA,CACH,gBACsB9B,GAAjBi7B,EAAmB,mBAAwB,oBAAoB,IAAEj7B,GAAE,6BAE1E+6B,GACCn5B,eAAA,OAAK6C,MAAO,CACVkC,WAAY,UACZG,OAAQ,oBACRF,aAAc,EACdC,QAAS,GACT0B,UAAW,EACXd,SAAU,GACVD,MAAO,UACP8qB,WAAY,YACZxwB,SAAA,CACAF,eAAA,UAAAE,SAAA,CAAQ,gBAAI9B,GAAE,kCACdkC,cAAA,OAAAJ,SAAMwI,OAGT2wB,GACCr5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACT8qB,cAAe,SACf3qB,IAAK,EACLR,WAAY,UACZC,aAAc,EACdC,QAAS,GACTC,OAAQ,oBACRyB,UAAW,GACXzG,SAAA,CACAF,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAQ,gBAAI9B,GAAE,2BACdkC,cAAA,OAAKuC,MAAO,CACVkC,WAAY,QACZE,QAAS,EACTD,aAAc,EACda,SAAU,GACVD,MAAO,UACP8qB,WAAY,YACZxwB,SAAEwI,OAEN1I,eAAA,OAAAE,SAAA,CACEF,eAAA,UAAAE,SAAA,CAAQ,UAAG9B,GAAE,2BACbkC,cAAA,OAAKuC,MAAO,CACVkC,WAAY,QACZE,QAAS,EACTD,aAAc,EACda,SAAU,GACVD,MAAO,UACP8qB,WAAY,YACZxwB,SAAE+4B,GAAmBD,aAO9BE,GACCl5B,eAAA,OAAK6C,MAAO,CACVuC,QAAS,OACTC,WAAY,SACZE,IAAK,GACLN,QAAS,GACTF,WAAY,UACZC,aAAc,EACdE,OAAQ,oBACRa,aAAc,EACdF,SAAU,GACVD,MAAO,UACPE,WAAY,KACZ5F,SAAA,CACAI,cAAA,OAAKL,UAAU,kBAAkB4C,MAAO,CACtC2C,MAAO,GACPC,OAAQ,GACRP,OAAQ,oBACRQ,UAAW,oBACXV,aAAc,MACdW,UAAW,6BACJ,gBACevH,GAAE,wCAhgDb+L,Q,MC4TZgyB,MApXgB55B,IAOxB,IAPyB,QAC9BmG,EAAO,SACPgtB,EAAQ,iBACR0G,EAAgB,eAChBC,EAAc,YACdC,GAAc,EAAK,iBACnBC,GACDh6B,EACC,MAAM,EAAEnE,GAAME,eACPk+B,EAAmBC,GAAwB1+B,mBAAS,CAAC,IACrD2+B,EAAcC,GAAmB5+B,oBAAS,IAC1C6+B,EAAeC,GAAoB9+B,mBAAS,OAC5C++B,EAAkBC,GAAuBh/B,oBAAS,GAGnDw4B,EAAY,CAChByG,SAAU,CACRv+B,KAAM,WACNuD,KAAM,eACN4D,MAAO,UACPq3B,QAAS,qBACTC,MAAO,wBAETC,UAAW,CACT1+B,KAAM,YACNuD,KAAM,eACN4D,MAAO,UACPq3B,QAAS,sBACTC,MAAO,6CAETE,QAAS,CACP3+B,KAAM,UACNuD,KAAM,eACN4D,MAAO,UACPq3B,QAAS,oBACTC,MAAO,0BAETG,SAAU,CACR5+B,KAAM,WACNuD,KAAM,eACN4D,MAAO,UACPq3B,QAAS,qBACTC,MAAO,oBAIX/9B,oBAAU,KACRm+B,KACC,IAEH,MAAMA,EAAyBj6B,UAC7B,IACE,MAAM2D,QAAiBxD,MAAMrG,oBAAU,kBAAmB,CAAEogC,YAAa,YACzE,GAAIv2B,EAASvD,GAAI,CACf,MAAM+5B,QAAiBx2B,EAASlD,OAChC24B,EAAqBe,EACvB,CACF,CAAE,MAAOt6B,GACP7F,QAAQ6F,MAAM,qCAAsCA,EACtD,GAGIu6B,EAAiBp6B,UAErB,GADiBkzB,EAAUmH,GAG3B,IACE,MAAMT,EAAU9/B,oBAAU,SAADO,OAAUggC,IACnCrgC,QAAQC,IAAI,wCAADI,OAA+BggC,EAAW,KAAKT,GAC1D5/B,QAAQC,IAAI,wCAA+BR,OAAOC,SAASg/B,MAC3D1+B,QAAQC,IAAI,mCAA0B2/B,GAGtC,MAAMU,EAAQ7gC,OAAO8gC,KACnBX,EACA,cACA,qDAGF,IAAKU,EAGH,OAFAtgC,QAAQ6F,MAAM,4EACd6H,MAAM,mEAIR1N,QAAQC,IAAI,wCAADI,OAAoCggC,IAC/CrgC,QAAQC,IAAI,+BAAsBqgC,EAAM5gC,SAASg/B,MAGjD,MAAM8B,EAAcj8B,YAAY,KAC1B+7B,EAAMG,SACRh8B,cAAc+7B,GACdxgC,QAAQC,IAAI,iCAADI,OAA6BggC,EAAW,6BACnDJ,MAED,IAEL,CAAE,MAAOp6B,GACP7F,QAAQ6F,MAAM,4BAA6BA,EAC7C,GAqBI66B,EAAiB16B,UACrB,GAAKqF,GAAY8zB,EAAkBkB,GAAnC,CAKAf,GAAgB,GAChBE,EAAiB,MAEjB,IACE,MAAM71B,QAAiBxD,MAAMrG,oBAAU,mBAAoB,CACzD4K,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBu1B,YAAa,UACbt1B,KAAMC,KAAKC,UAAU,CACnButB,SAAUgI,EACVh1B,QAASA,EACTs1B,UAAWxB,EAAkBkB,GAAa58B,OAI9C,GAAwB,MAApBkG,EAASrD,OAQX,OAPAk5B,EAAiB,CACfrzB,KAAM,QACNvF,QAAS,mEAEXo4B,GAAkBA,EAAeqB,EAAa,2BAC9Cf,GAAgB,QAChB7/B,OAAOC,SAASqd,QAAQ,UAI1B,MAAMlR,QAAelC,EAASlD,OAE1BkD,EAASvD,IACXo5B,EAAiB,CACfrzB,KAAM,UACNvF,QAAQ,6BAADvG,OAA+B64B,EAAUmH,GAAaj/B,KAAI,KACjE6zB,OAAQppB,EAAOopB,SAEjB8J,GAAoBA,EAAiBsB,EAAax0B,KAElD2zB,EAAiB,CACfrzB,KAAM,QACNvF,QAASiF,EAAOhG,OAAS,8BAE3Bm5B,GAAkBA,EAAeqB,EAAax0B,EAAOhG,OAEzD,CAAE,MAAOA,GACP25B,EAAiB,CACfrzB,KAAM,QACNvF,QAAS,mCAEXo4B,GAAkBA,EAAeqB,EAAax6B,EAAMe,QACtD,CAAC,QACC04B,GAAgB,EAClB,CAtDA,MAFEE,EAAiB,CAAErzB,KAAM,QAASvF,QAAS,qCA2DzCg6B,EAAoBP,IACxB,MAAMQ,EAAU1B,EAAkBkB,GAClC,OAAKQ,EACDA,EAAQC,WAAa,IAAIl1B,KAAKi1B,EAAQC,WAAa,IAAIl1B,KAClD,UAEF,YAJc,gBAOvB,OACEjJ,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCF,eAAA,MAAIC,UAAU,oBAAmBC,SAAA,CAC/BI,cAAA,QAAML,UAAU,mBAAkBC,SAAC,iBAClC9B,EAAE,oCAELkC,cAAA,KAAGL,UAAU,uBAAsBC,SAChC9B,EAAE,yCAIPkC,cAAA,OAAKL,UAAU,gBAAeC,SAC3BmL,OAAOC,QAAQirB,GAAWl1B,IAAIi6B,IAAoC,IAAlCoC,EAAaU,GAAe9C,EAC3D,MAAM33B,EAASs6B,EAAiBP,GAC1BQ,EAAU1B,EAAkBkB,GAElC,OACE19B,eAAA,OAAuBC,UAAS,gBAAAvC,OAAkBiG,GAASzD,SAAA,CACzDI,cAAA,OAAKL,UAAU,iBAAgBC,SAC7BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BI,cAAA,QAAML,UAAU,gBAAgB4C,MAAO,CAAE+C,MAAOw4B,EAAex4B,OAAQ1F,SACpEk+B,EAAep8B,OAElBhC,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,MAAIL,UAAU,gBAAeC,SAAEk+B,EAAe3/B,OAC9CuB,eAAA,QAAMC,UAAS,gBAAAvC,OAAkBiG,GAASzD,SAAA,CAC5B,cAAXyD,GAA0B,mBACf,YAAXA,GAAwB,uBACb,iBAAXA,GAA6B,kCAMrCu6B,GACCl+B,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,QAAML,UAAU,eAAcC,SAAEg+B,EAAQz/B,OACvCy/B,EAAQG,UACPr+B,eAAA,QAAMC,UAAU,mBAAkBC,SAAA,CAAC,IAAEg+B,EAAQG,eAGhDH,EAAQI,cACPh+B,cAAA,OACE0sB,IAAKkR,EAAQI,aACbrR,IAAI,UACJhtB,UAAU,sBAMlBD,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAClB,iBAAXyD,GACC3D,eAAA,UACEK,QAASA,IAAMo9B,EAAeC,GAC9Bz9B,UAAU,cACV4C,MAAO,CAAE8Q,gBAAiByqB,EAAex4B,OAAQ1F,SAAA,CAEjDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC1B9B,EAAE,sCAIK,YAAXuF,GACC3D,eAAA,UACEK,QAASA,IAAMo9B,EAAeC,GAC9Bz9B,UAAU,gBACV4C,MAAO,CAAE8Q,gBAAiByqB,EAAex4B,OAAQ1F,SAAA,CAEjDI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC1B9B,EAAE,wCAIK,cAAXuF,GACC3D,eAAAkU,WAAA,CAAAhU,SAAA,CACEF,eAAA,UACEK,QAASA,IAAM09B,EAAeL,GAC9Bj0B,SAAUizB,IAAiBh0B,EAC3BzI,UAAU,cACV4C,MAAO,CAAE8Q,gBAAiByqB,EAAex4B,OAAQ1F,SAAA,CAEjDI,cAAA,QAAML,UAAU,WAAUC,SACvBw8B,EAAe,SAAM,iBAGpBt+B,EADHs+B,EACK,qCACA,sCAGR18B,eAAA,UACEK,QAASA,IArLHgD,WACxB,WACyBG,MAAMrG,oBAAU,oBAADO,OAAqBggC,IAAgB,CACzE31B,OAAQ,SACRw1B,YAAa,aAGF95B,IACXg5B,EAAqB56B,GAAIiD,wBAAA,GACpBjD,GAAI,IACP,CAAC67B,GAAc,OAGrB,CAAE,MAAOx6B,GACP7F,QAAQ6F,MAAM,+BAAgCA,EAChD,GAsKiCq7B,CAAkBb,GACjCz9B,UAAU,iBAAgBC,SAAA,CAE1BI,cAAA,QAAML,UAAU,WAAUC,SAAC,WAC1B9B,EAAE,+CAOVw+B,GAAwC,YAAvBA,EAAcpzB,MAC9BxJ,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACrCI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC9BI,cAAA,QAAML,UAAU,iBAAgBC,SAAE08B,EAAc34B,UAC/C24B,EAActK,QACbhyB,cAAA,KACEy7B,KAAM5+B,oBAAU,gBAADO,OAAiBk/B,EAActK,SAC9ClxB,OAAO,SACPo9B,IAAI,sBACJv+B,UAAU,iBAAgBC,SAEzB9B,EAAE,yCAMVw+B,GAAwC,UAAvBA,EAAcpzB,MAC9BxJ,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC9BI,cAAA,QAAML,UAAU,iBAAgBC,SAAE08B,EAAc34B,eA1G5Cy5B,OAmHfh1B,GAAW2C,OAAOozB,KAAKjC,GAAmBrgB,KAAK3T,GAAiC,cAA1By1B,EAAiBz1B,KACtExI,eAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACpCF,eAAA,MAAIC,UAAU,sBAAqBC,SAAA,CACjCI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,2CAELkC,cAAA,OAAKL,UAAU,qBAAoBC,SAChCmL,OAAOC,QAAQirB,GAAWl1B,IAAIq9B,IAAoC,IAAlChB,EAAaU,GAAeM,EAE3D,MAAe,cADAT,EAAiBP,GACG,KAGjC19B,eAAA,UAEEK,QAASA,IAAM09B,EAAeL,GAC9Bj0B,SAAUizB,EACVz8B,UAAU,oBACV4C,MAAO,CACL8Q,gBAAiByqB,EAAex4B,MAChC8pB,QAASgN,EAAe,GAAM,GAC9Bx8B,SAAA,CAEFI,cAAA,QAAML,UAAU,gBAAeC,SAAEk+B,EAAep8B,OAChD1B,cAAA,QAAML,UAAU,gBAAeC,SAAEk+B,EAAe3/B,OAC/Ci+B,GAAgBp8B,cAAA,QAAML,UAAU,sBAX5By9B,UAoBjB19B,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,MAAIC,UAAU,aAAYC,SAAA,CACxBI,cAAA,QAAML,UAAU,YAAWC,SAAC,iBAC3B9B,EAAE,yCAEL4B,eAAA,MAAIC,UAAU,YAAWC,SAAA,CACvBI,cAAA,MAAAJ,SAAK9B,EAAE,wCACPkC,cAAA,MAAAJ,SAAK9B,EAAE,8CACPkC,cAAA,MAAAJ,SAAK9B,EAAE,2CACPkC,cAAA,MAAAJ,SAAK9B,EAAE,oDC/VFugC,MAjBMp8B,IAAA,IAAC,KAAE8oB,EAAO,GAAE,MAAExoB,EAAQ,CAAC,GAAGN,EAAA,OAC7CvC,eAAA,OACEwF,MAAO6lB,EACP5lB,OAAQ4lB,EACRuT,QAAQ,YACRC,KAAK,OACLC,MAAM,6BACNj8B,MAAOA,EAAM3C,SAAA,CAEbI,cAAA,QAAMy+B,EAAE,IAAIC,EAAE,IAAIx5B,MAAM,KAAKC,OAAO,KAAKw5B,GAAG,IAAIJ,KAAK,YACrDv+B,cAAA,QACE4+B,EAAE,qKACFL,KAAK,a,MCqrCIM,MA7rCe58B,IAgBvB,IAhBwB,SAC7BmzB,EAAQ,YAAEc,EAAW,SACrBE,EAAQ,YAAEC,EAAW,KACrBtjB,EAAI,QAAEujB,EAAO,eACbxN,EAAc,kBAAE0N,EAAiB,iBACjCE,EAAgB,oBAAEC,EAAmB,QACrCvuB,EAAO,WAAEoxB,EAAU,gBACnBd,EAAe,mBAAEe,EAAkB,SACnClxB,EAAQ,aACR6Z,EAAY,YACZwW,EAAW,gBACXD,EAAe,mBACfmG,EAAkB,gBAClBC,EAAe,gBACfl0B,EAAe,kBACfyuB,GACDr3B,EACC,MAAM,EAAEnE,EAAC,KAAEC,GAASC,cAqCdklB,EAAQ8b,kBAAQ,IAlCJlhC,IAAM,CACtB,CACE6D,MAAO7D,EAAE,wCACTmhC,MAAO,eACPC,SAAUphC,EAAE,2CACZqhC,KAAMrhC,EAAE,sCAAuC,CAAEshC,eAAe,KAElE,CACEz9B,MAAO7D,EAAE,wCACTmhC,MAAO,eACPC,SAAUphC,EAAE,2CACZqhC,KAAMrhC,EAAE,sCAAuC,CAAEshC,eAAe,KAElE,CACEz9B,MAAO7D,EAAE,wCACTmhC,MAAO,eACPC,SAAUphC,EAAE,2CACZqhC,KAAMrhC,EAAE,sCAAuC,CAAEshC,eAAe,KAElE,CACEz9B,MAAO7D,EAAE,wCACTmhC,MAAO,eACPC,SAAUphC,EAAE,2CACZqhC,KAAMrhC,EAAE,sCAAuC,CAAEshC,eAAe,KAElE,CACEz9B,MAAO7D,EAAE,wCACTmhC,MAAO,qBACPC,SAAUphC,EAAE,2CACZqhC,KAAMrhC,EAAE,sCAAuC,CAAEshC,eAAe,MAKxCC,CAASvhC,GAAI,CAACA,EAAGC,EAAK0B,YAC3C+lB,EAAM8Z,GAAW7hC,mBAAS,IAC1B4P,EAAaC,GAAkB7P,oBAAS,IACxC8hC,EAAkBC,GAAuB/hC,mBAAS,IAmBnDgiC,EAAiB18B,UACrB,GAAKqF,EAAQK,OAAb,CAKA6E,GAAe,GACfkyB,EAAoB,IAEpB,UAEQT,GACR,CAAE,MAAOn8B,GACP48B,EAAoB1hC,EAAE,iDACtBf,QAAQ6F,MAAM9E,EAAE,gDAAiD8E,EACnE,CAAC,QACC0K,GAAe,EACjB,CAbA,MAFEkyB,EAAoB1hC,EAAE,oDAmB1Be,oBAAU,KACK,IAAT2mB,GAAcpd,EAAQK,SAAWiwB,EAAgBjwB,QACnDg3B,KAED,CAACja,IAyDJ,OACE9lB,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAE/BF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BF,eAAA,MAAIC,UAAU,eAAcC,SAAA,CAC1BI,cAAA,QAAML,UAAU,cAAaC,SAAC,WAC7B9B,EAAE,gCAELkC,cAAA,KAAGL,UAAU,kBAAiBC,SAC3B9B,EAAE,qCAKP4B,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCI,cAAA,OAAKL,UAAU,eAAcC,SAC3BI,cAAA,OACEL,UAAU,gBACV4C,MAAO,CAAE2C,MAAM,GAAD9H,QAAOooB,EAAO,GAAKtC,EAAMtkB,OAAU,IAAG,UAGxDoB,cAAA,OAAKL,UAAU,iBAAgBC,SAC5BsjB,EAAMniB,IAAI,CAACkZ,EAAG1K,IACb7P,eAAA,OAEEC,UAAS,iBAAAvC,OAAmBmS,GAAKiW,EAAO,SAAW,GAAE,KAAApoB,OAAImS,IAAMiW,EAAO,UAAY,IAAK5lB,SAAA,CAEvFI,cAAA,OAAKL,UAAU,cAAaC,SAAE2P,EAAI,IAClC7P,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBI,cAAA,OAAKL,UAAU,aAAYC,SAAEqa,EAAEglB,QAC/Bj/B,cAAA,OAAKL,UAAU,aAAYC,SAAEqa,EAAEtY,aAN5B4N,SAcb7P,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAE5BF,eAAA,SAAOC,UAAU,iBAAgBC,SAAA,CACrB,IAAT4lB,GAAc4P,GACb11B,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACtCF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAML,UAAU,YAAWC,SAAC,iBAC5BI,cAAA,MAAIL,UAAU,aAAYC,SAAE9B,EAAE,4BAADV,OAA6Bg4B,EAAQ,gBAEpEp1B,cAAA,MAAIL,UAAU,YAAWC,UArGd,CACnB88B,SAAU,CACRh9B,eAAA,QAAAE,SAAA,CAAqBI,cAACq+B,EAAY,CAACtT,KAAM,GAAIxoB,MAAO,CAACm9B,cAAc,SAAUC,YAAa,SAAU,IAAE7hC,EAAE,wDAA9F,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,oDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,uDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,wDAAjB,aAEZ++B,UAAW,CACTn9B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,uDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,sBAAK9B,EAAE,oDAAlB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,kDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,kDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,iDAAjB,aAEZi/B,SAAU,CACRr9B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,wDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,+CAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,yDAAjB,aAEZg/B,QAAS,CACPp9B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,kDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,mDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,kDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,yDAAjB,aAEZ8hC,OAAQ,CACNlgC,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,uDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,kDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,sDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,wDAAjB,aAEZ+hC,QAAS,CACPngC,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,qDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,4DAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,wDAAjB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,UAAG9B,EAAE,uDAAhB,YACV4B,eAAA,QAAAE,SAAA,CAAqB,gBAAI9B,EAAE,wDAAjB,cAGMs3B,IAAa,IA0DFr0B,IAAI,CAAC++B,EAAK/9B,IAC3B/B,cAAA,MAA8BL,UAAU,WAAUC,SAAEkgC,GAAG,YAAA1iC,OAAlC2E,UAMnB,IAATyjB,GACC9lB,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACrCF,eAAA,OAAKC,UAAU,cAAaC,SAAA,CAC1BI,cAAA,QAAML,UAAU,YAAWC,SAAC,iBAC5BI,cAAA,MAAIL,UAAU,aAAYC,SAAE9B,EAAE,gCAEhCkC,cAAA,MAAIL,UAAU,YAAWC,SACtBsjB,EAAMsC,GAAM2Z,KAAKp+B,IAAI,CAAC++B,EAAK/9B,IAC1B/B,cAAA,MAAgBL,UAAU,WAAUC,SAAEkgC,GAA7B/9B,YAOnB/B,cAAA,QAAML,UAAU,sBAAqBC,SACnCF,eAAA,OAAKC,UAAU,eAAcC,SAAA,CACjB,IAAT4lB,GACC9lB,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,+CAEL4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEe,MAAO20B,EACP10B,SAAUC,GAAKu1B,EAAYv1B,EAAEG,OAAOL,OACpCd,UAAU,cAAaC,SAAA,CAEvBI,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,iDAC5BkC,cAAA,UAAQS,MAAM,YAAWb,SAAE9B,EAAE,kDAC7BkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,iDAC5BkC,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,gDAC3BkC,cAAA,UAAQS,MAAM,SAAQb,SAAE9B,EAAE,+CAC1BkC,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,mDAE7BkC,cAAA,QAAML,UAAU,eAAcC,SAAC,iBAInCF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,+CAEL4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEe,MAAO21B,EACP11B,SAAUC,GAAK01B,EAAY11B,EAAEG,OAAOL,OACpCd,UAAU,cAAaC,SAAA,CAEvBI,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,gDAC3BkC,cAAA,UAAQS,MAAM,QAAOb,SAAE9B,EAAE,8CACzBkC,cAAA,UAAQS,MAAM,cAAab,SAAE9B,EAAE,oDAC/BkC,cAAA,UAAQS,MAAM,cAAab,SAAE9B,EAAE,oDAC/BkC,cAAA,UAAQS,MAAM,YAAWb,SAAE9B,EAAE,kDAC7BkC,cAAA,UAAQS,MAAM,gBAAeb,SAAE9B,EAAE,sDACjCkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,iDAC5BkC,cAAA,UAAQS,MAAM,eAAcb,SAAE9B,EAAE,wDAElCkC,cAAA,QAAML,UAAU,eAAcC,SAAC,oBAM7B,IAAT4lB,GACC9lB,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,2CAEL4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEe,MAAOsS,EACPrS,SAAUC,GAAK21B,EAAQ31B,EAAEG,OAAOL,OAChCd,UAAU,cAAaC,SAAA,CAEvBI,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,6CAC5BkC,cAAA,UAAQS,MAAM,eAAcb,SAAE9B,EAAE,iDAChCkC,cAAA,UAAQS,MAAM,SAAQb,SAAE9B,EAAE,2CAC1BkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,6CAC5BkC,cAAA,UAAQS,MAAM,gBAAeb,SAAE9B,EAAE,kDACjCkC,cAAA,UAAQS,MAAM,cAAab,SAAE9B,EAAE,gDAC/BkC,cAAA,UAAQS,MAAM,aAAYb,SAAE9B,EAAE,+CAC9BkC,cAAA,UAAQS,MAAM,gBAAeb,SAAE9B,EAAE,qDAEnCkC,cAAA,QAAML,UAAU,eAAcC,SAAC,iBAInCF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,+CAEL4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEe,MAAOqoB,EACPpoB,SAAUC,GAAK61B,EAAkB71B,EAAEG,OAAOL,OAC1Cd,UAAU,cAAaC,SAAA,CAEvBI,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,gDAC3BkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,iDAC5BkC,cAAA,UAAQS,MAAM,QAAOb,SAAE9B,EAAE,8CACzBkC,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,gDAC3BkC,cAAA,UAAQS,MAAM,gBAAeb,SAAE9B,EAAE,sDACjCkC,cAAA,UAAQS,MAAM,YAAWb,SAAE9B,EAAE,kDAC7BkC,cAAA,UAAQS,MAAM,UAASb,SAAE9B,EAAE,gDAC3BkC,cAAA,UAAQS,MAAM,QAAOb,SAAE9B,EAAE,iDAE3BkC,cAAA,QAAML,UAAU,eAAcC,SAAC,iBAInCF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,iDAEL4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEe,MAAOi2B,EACPh2B,SAAUC,GAAKg2B,EAAoBh2B,EAAEG,OAAOL,OAC5Cd,UAAU,cAAaC,SAAA,CAEvBI,cAAA,UAAQS,MAAM,QAAOb,SAAE9B,EAAE,+CACzBkC,cAAA,UAAQS,MAAM,OAAMb,SAAE9B,EAAE,8CACxBkC,cAAA,UAAQS,MAAM,OAAMb,SAAE9B,EAAE,8CACxBkC,cAAA,UAAQS,MAAM,eAAcb,SAAE9B,EAAE,sDAChCkC,cAAA,UAAQS,MAAM,WAAUb,SAAE9B,EAAE,kDAC5BkC,cAAA,UAAQS,MAAM,eAAcb,SAAE9B,EAAE,qDAChCkC,cAAA,UAAQS,MAAM,QAAOb,SAAE9B,EAAE,+CACzBkC,cAAA,UAAQS,MAAM,mBAAkBb,SAAE9B,EAAE,4DAEtCkC,cAAA,QAAML,UAAU,eAAcC,SAAC,oBAM7B,IAAT4lB,GACCxlB,cAAA,OAAKL,UAAU,eAAcC,SAC3BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,0CAEL4B,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,YACES,MAAO2H,EACP1H,SAAUC,GAAK64B,EAAW74B,EAAEG,OAAOL,OACnCsI,YAAajL,EAAE,6CACf6B,UAAU,gBACVqJ,KAAM,IAERtJ,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BF,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5BwI,EAAQxJ,OAAO,IAAEd,EAAE,6BAEtB4B,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5BwI,EAAQ4R,MAAM,KAAKzb,OAAO6gB,GAAQA,EAAKxgB,OAAS,GAAGA,OAAO,IAAEd,EAAE,mCAQjE,IAAT0nB,GACC9lB,eAAA,OAAKC,UAAU,eAAcC,SAAA,EAEzByN,GAAe+U,GAAgBwW,IAC/Bl5B,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,OAAKL,UAAU,oBACfD,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BI,cAAA,MAAIL,UAAU,gBAAeC,SAAE9B,EAAE,2CACjCkC,cAAA,KAAGL,UAAU,mBAAkBC,SAC5B9B,EAAE,mDAAoD,CAAEs3B,SAAUt3B,EAAE,yBAADV,OAA0Bg4B,cAOrGmK,GACC7/B,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBI,cAAA,QAAML,UAAU,aAAYC,SAAC,WAC7BI,cAAA,QAAML,UAAU,gBAAeC,SAAE2/B,OAIrC7/B,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,iBAC5B9B,EAAE,8CAEL4B,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BI,cAAA,YACES,MAAOi4B,GAAmBC,GAAmB,GAC7Cj4B,SAAUC,GAAK84B,EAAmB94B,EAAEG,OAAOL,OAC3CsI,YAA0DjL,EAA7CuP,GAAe+U,GAAgBwW,EAAgB,4CAAiD,gDAC7GzvB,SAAUkE,GAAe+U,GAAgBwW,EACzCj5B,UAAU,gBACVqJ,KAAM,IAERtJ,eAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC9BF,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,kBAC3B84B,GAAmBC,GAAmB,IAAI/5B,OAAO,IAAEd,EAAE,6BAEzD4B,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,QAAML,UAAU,aAAYC,SAAC,kBAC3B84B,GAAmBC,GAAmB,IAAI3e,MAAM,KAAKzb,OAAO6gB,GAAQA,EAAKxgB,OAAS,GAAGA,OAAO,IAAEd,EAAE,kCAOxGuP,IAAgB+U,IAAiBwW,GAAeF,GAChDh5B,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,QAAML,UAAU,eAAcC,SAAC,WAC/BI,cAAA,QAAML,UAAU,kBAAiBC,SAAE9B,EAAE,oDAMnC,IAAT0nB,GACC9lB,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BF,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,SAAOC,UAAU,aAAYC,SAAA,CAC3BI,cAAA,QAAML,UAAU,aAAYC,SAAC,uBAC5B9B,EAAE,4CAELkC,cAAA,OAAKL,UAAU,eAAcC,SAC3BI,cAAA,OAAKL,UAAU,kBAAiBC,SAC7B84B,GAAmBC,GAAmBvwB,GAAWtK,EAAE,sDAM1D4B,eAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAC7BF,eAAA,UACEK,QAASA,IAAM8K,GAAmBA,EAAgB6tB,GAAmBC,GAAmBvwB,GACxFzI,UAAU,qBAAoBC,SAAA,CAE9BI,cAAA,QAAML,UAAU,WAAUC,SAAC,iBAC1B9B,EAAE,0CAEL4B,eAAA,UACEK,QAASA,IAAMu5B,GAAqBA,EAAkBZ,GAAmBC,GAAmBvwB,EAASgtB,EAAUgB,EAAUrjB,EAAM+V,GAC/HnpB,UAAU,uBAAsBC,SAAA,CAEhCI,cAAA,QAAML,UAAU,WAAUC,SAAC,uBAC1B9B,EAAE,4CAIP4B,eAAA,OAAKC,UAAU,eAAcC,SAAA,CAC3BI,cAAA,QAAML,UAAU,eAAcC,SAAC,iBAC/BI,cAAA,QAAML,UAAU,kBAAiBC,SAAE9B,EAAE,6CAIvCkC,cAAC67B,EAAsB,CACrBzzB,QAASuwB,GAAmBD,GAAmBtwB,EAC/CgtB,SAAUA,EACV0G,iBAAkBA,CAAC1G,EAAUxsB,KAC3B7L,QAAQC,IAAI,6BAADI,OAA8Bg4B,EAAQ,KAAKxsB,IAGxDmzB,eAAgBA,CAAC3G,EAAUxyB,KACzB7F,QAAQ6F,MAAM,wBAADxF,OAAyBg4B,EAAQ,KAAKxyB,MAKvDlD,eAAA,UACEK,QA1VUggC,KACpBx3B,GACFA,KAyVY5I,UAAU,aAAYC,SAAA,CAEtBI,cAAA,QAAML,UAAU,WAAUC,SAAC,WAC1B9B,EAAE,uDASf4B,eAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAChCF,eAAA,UACEK,QAxbS8lB,IAAMyZ,EAASrlB,GAAMzG,KAAK8L,IAAIrF,EAAI,EAAG,IAyb9C9Q,SAAmB,IAATqc,EACV7lB,UAAU,mBAAkBC,SAAA,CAE5BI,cAAA,QAAML,UAAU,WAAUC,SAAC,WAC1B9B,EAAE,sCAGJ0nB,EAAOtC,EAAMtkB,OAAS,GACrBoB,cAAA,UACED,QAhdOgD,UAEF,IAATyiB,GAAcpd,EAAQK,QAExB62B,EAAQ,SACFG,KACY,IAATja,GAAckT,EAAgBjwB,OAEvC62B,EAAQ,GAERA,EAASrlB,GAAMzG,KAAK6L,IAAIpF,EAAI,EAAGiJ,EAAMtkB,OAAS,KAucxCuK,SAAmB,IAATqc,IAAepd,EAAQK,QAAmB,IAAT+c,IAAenY,GAAe+U,GAAgBwW,GACzFj5B,UAAU,mBAAkBC,SAElB,IAAT4lB,IAAenY,GAAe+U,GAAgBwW,GAC7Cl5B,eAAAkU,WAAA,CAAAhU,SAAA,CACEI,cAAA,QAAML,UAAU,WAAUC,SAAC,WAC1B9B,EAAE,2CAGL4B,eAAAkU,WAAA,CAAAhU,SAAA,CACG9B,EAAE,mCACHkC,cAAA,QAAML,UAAU,WAAUC,SAAC,mBAQrCI,cAAA,SAAOsG,KAAG,EAAA1G,SAAA,qyiBCivBDogC,MAxwCSA,KACtB,MAAM,EAAEliC,GAAME,eACPoK,EAASoxB,GAAc/7B,mBAAS,KAChC23B,EAAUc,GAAez4B,mBAAS,aAClC24B,EAAUC,GAAe54B,mBAAS,YAClCsV,EAAMujB,GAAW74B,mBAAS,aAC1BqrB,EAAgB0N,GAAqB/4B,mBAAS,YAC9Ci5B,EAAkBC,GAAuBl5B,mBAAS,UAClDo5B,EAAgBC,GAAqBr5B,mBAAS,cAC9CwiC,EAAUC,GAAeziC,mBAAS,KAClCi7B,EAAiBe,GAAsBh8B,mBAAS,KAChD2kB,EAAcC,GAAmB5kB,oBAAS,IAC1C4P,EAAaC,GAAkB7P,oBAAS,IACxCmF,EAAOC,GAAYpF,mBAAS,KAC5BiM,EAAiBC,GAAsBlM,mBAAS,OAChD87B,EAAmB4G,GAAwB1iC,mBAAS,KACpDo6B,EAAqBC,GAA0Br6B,oBAAS,IAGxDu5B,EAAeC,GAAoBx5B,mBAAS,YAC5C45B,EAAqBC,GAA0B75B,mBAAS,aACxD+5B,EAAmBC,GAAwBh6B,mBAAS,WACpDk6B,EAAWC,GAAgBn6B,mBAAS,YACpCy5B,EAAcC,GAAmB15B,mBAAS,MAG1C4b,EAAiBC,GAAsB7b,oBAAS,IAChD2iC,EAAoBC,IAAyB5iC,mBAAS,KAGtDk7B,GAAiBmG,IAAsBrhC,mBAAS,KAChDm7B,GAAa0H,IAAkB7iC,oBAAS,IAExC8iC,GAAWC,IAAgB/iC,oBAAS,GAGrCgjC,GAAqBrL,IACzB,MAAMsL,EAAc,CAClB,CAAEjgC,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC8F,YAAa9F,EAAE,qCACnF,CAAE2C,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC8F,YAAa9F,EAAE,qCACnF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,uCAAwC8F,YAAa9F,EAAE,sCACrF,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,4CAA6C8F,YAAa9F,EAAE,2CAC/F,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,qCAAsC8F,YAAa9F,EAAE,qCA2BnF,MAxB8B,CAC3B4+B,SAAU,CACR,CAAEj8B,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,GAAI/8B,YAAa,iFAAkFlC,KAAM,gBAC1L,CAAEjB,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,GAAI/8B,YAAa,4FAA6FlC,KAAM,gBACrM,CAAEjB,MAAO,WAAYuiB,MAAOllB,EAAE,uCAAwC6iC,YAAa,IAAK/8B,YAAa,2FAA4FlC,KAAM,gBACvM,CAAEjB,MAAO,gBAAiBuiB,MAAOllB,EAAE,4CAA6C6iC,YAAa,IAAK/8B,YAAa,yFAA0FlC,KAAM,gBAC/M,CAAEjB,MAAO,SAAUuiB,MAAOllB,EAAE,qCAAsC6iC,YAAazJ,EAActzB,YAAa,wCAAyClC,KAAM,iBAErJm7B,UAAW,CACf,CAAEp8B,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,GAAI/8B,YAAa,kFAAmFlC,KAAM,gBAC3L,CAAEjB,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,GAAI/8B,YAAa,wFAAyFlC,KAAM,gBACjM,CAAEjB,MAAO,WAAYuiB,MAAOllB,EAAE,uCAAwC6iC,YAAa,IAAK/8B,YAAa,8EAA+ElC,KAAM,sBAC1L,CAAEjB,MAAO,gBAAiBuiB,MAAOllB,EAAE,4CAA6C6iC,YAAa,IAAK/8B,YAAa,4EAA6ElC,KAAM,gBAClM,CAAEjB,MAAO,SAAUuiB,MAAOllB,EAAE,qCAAsC6iC,YAAazJ,EAActzB,YAAa,yCAA0ClC,KAAM,iBAEtJq7B,SAAU,CACd,CAAEt8B,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,GAAI/8B,YAAa,oFAAqFlC,KAAM,gBAC7L,CAAEjB,MAAO,UAAWuiB,MAAOllB,EAAE,sCAAuC6iC,YAAa,IAAK/8B,YAAa,mFAAoFlC,KAAM,gBAC7L,CAAEjB,MAAO,WAAYuiB,MAAOllB,EAAE,uCAAwC6iC,YAAa,IAAK/8B,YAAa,4FAA6FlC,KAAM,gBACxM,CAAEjB,MAAO,gBAAiBuiB,MAAOllB,EAAE,4CAA6C6iC,YAAa,IAAK/8B,YAAa,qFAAsFlC,KAAM,gBAC3M,CAAEjB,MAAO,SAAUuiB,MAAOllB,EAAE,qCAAsC6iC,YAAazJ,EAActzB,YAAa,wCAAyClC,KAAM,kBAItI0zB,IAAasL,GAIjC3J,GAAiB0J,GAAkBrL,GAGnCgC,GAAwB,CAC5B,CAAE32B,MAAO,SAAUuiB,MAAOllB,EAAE,4CAA6C8F,YAAa9F,EAAE,oCACxF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,8CAA+C8F,YAAa9F,EAAE,sCAC5F,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,4CAA6C8F,YAAa9F,EAAE,oCACxF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,8CAA+C8F,YAAa9F,EAAE,uCAIxFy5B,GAAsB,CAC1B,CAAE92B,MAAO,MAAOuiB,MAAOllB,EAAE,uCAAwC8F,YAAa9F,EAAE,iCAChF,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,0CAA2C8F,YAAa9F,EAAE,oCACtF,CAAE2C,MAAO,OAAQuiB,MAAOllB,EAAE,wCAAyC8F,YAAa9F,EAAE,kCAClF,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,0CAA2C8F,YAAa9F,EAAE,qCAIlF45B,GAAa,CACjB,CAAEj3B,MAAO,UAAWuiB,MAAOllB,EAAE,kCAAmC8F,YAAa9F,EAAE,qCAC/E,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,sCAAuC8F,YAAa9F,EAAE,yCACvF,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,iCAAkC8F,YAAa9F,EAAE,oCAC7E,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,sCAAuC8F,YAAa9F,EAAE,yCACvF,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,sCAAuC8F,YAAa9F,EAAE,yCACvF,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,oCAAqC8F,YAAa9F,EAAE,uCACnF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,mCAAoC8F,YAAa9F,EAAE,sCACjF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,mCAAoC8F,YAAa9F,EAAE,wCAI5E47B,GAAWC,IAAgBl8B,mBAAS,OAGpCm8B,GAAegH,IAAoBnjC,mBAAS,KAC5Co8B,GAAkBgH,IAAuBpjC,oBAAS,IAClDq8B,GAAcgH,IAAmBrjC,mBAAS,KAG1Co7B,GAAqBC,IAA0Br7B,oBAAS,IACxDs7B,GAAgBC,IAAqBv7B,oBAAS,GAE/Cw4B,GAAY,CAChB,CAAEx1B,MAAO,WAAYuiB,MAAOllB,EAAE,kCAAmC4D,KAAM1B,cAACq+B,EAAY,CAACtT,KAAM,KAAQgW,UAAW,MAAOhJ,UAAU,EAC7Ht2B,SAAU3D,EAAE,iDAAkD,CAAEshC,eAAe,IAC/E4B,cAAeljC,EAAE,sDAAuD,CAAEshC,eAAe,IACzF6B,cAAenjC,EAAE,sDAAuD,CAAEshC,eAAe,KAE3F,CAAE3+B,MAAO,YAAauiB,MAAOllB,EAAE,mCAAoC4D,KAAM,eAAMq/B,UAAW,KAAMhJ,UAAU,EACxGt2B,SAAU3D,EAAE,kDAAmD,CAAEshC,eAAe,IAChF4B,cAAeljC,EAAE,uDAAwD,CAAEshC,eAAe,IAC1F6B,cAAenjC,EAAE,uDAAwD,CAAEshC,eAAe,KAE5F,CAAE3+B,MAAO,WAAYuiB,MAAOllB,EAAE,kCAAmC4D,KAAM,eAAMq/B,UAAW,IAAMhJ,UAAU,EACtGt2B,SAAU3D,EAAE,iDAAkD,CAAEshC,eAAe,IAC/E4B,cAAeljC,EAAE,sDAAuD,CAAEshC,eAAe,IACzF6B,cAAenjC,EAAE,sDAAuD,CAAEshC,eAAe,KAE3F,CAAE3+B,MAAO,SAAUuiB,MAAOllB,EAAE,gCAAiC4D,KAAM,eAAMq/B,UAAW,KACpF,CAAEtgC,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMq/B,UAAW,KACtF,CAAEtgC,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMq/B,UAAW,MA4KlF5K,GAxKgBf,IAiCb,IAhCW,CAClB,CAAE30B,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAC1F,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,+BAAgC4D,KAAM,eAAMkC,YAAa9F,EAAE,2CACtF,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,qCAAsC4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAClG,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,qCAAsC4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAClG,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,mCAAoC4D,KAAM,eAAMkC,YAAa9F,EAAE,uCAC9F,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,uCAAwC4D,KAAM,SAAKkC,YAAa9F,EAAE,2CACrG,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,kCAAmC4D,KAAM,SAAKkC,YAAa9F,EAAE,0CAC3F,CAAE2C,MAAO,eAAgBuiB,MAAOllB,EAAE,sCAAuC4D,KAAM,eAAMkC,YAAa9F,EAAE,8CAG3E,CACvB4+B,SAAU,CACR,CAAEj8B,MAAO,QAASuiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,8DAChH,CAAE2C,MAAO,OAAQuiB,MAAOllB,EAAE,wDAAyD4D,KAAM,eAAMkC,YAAa9F,EAAE,6DAC9G,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,8DAChH,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,+DAAgE4D,KAAM,qBAAOkC,YAAa9F,EAAE,qEAE/H++B,UAAW,CACT,CAAEp8B,MAAO,OAAQuiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,6DAC/G,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,0DAA2D4D,KAAM,eAAMkC,YAAa9F,EAAE,8DACjH,CAAE2C,MAAO,OAAQuiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,6DAC/G,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,6DAA8D4D,KAAM,eAAMkC,YAAa9F,EAAE,kEAEzHi/B,SAAU,CACR,CAAEt8B,MAAO,UAAWuiB,MAAOllB,EAAE,2DAA4D4D,KAAM,eAAMkC,YAAa9F,EAAE,gEACpH,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,0DAA2D4D,KAAM,eAAMkC,YAAa9F,EAAE,+DAClH,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,4DAA6D4D,KAAM,eAAMkC,YAAa9F,EAAE,iEACtH,CAAE2C,MAAO,aAAcuiB,MAAOllB,EAAE,8DAA+D4D,KAAM,eAAMkC,YAAa9F,EAAE,qEAInFs3B,IAAa,IAuIxC8L,CAAa9L,GACzBqB,GApIwBrB,IA8BrB,IA7BgB,CACvB,CAAE30B,MAAO,QAASuiB,MAAOllB,EAAE,uCAAwC4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAC9F,CAAE2C,MAAO,mBAAoBuiB,MAAOllB,EAAE,iDAAkD4D,KAAM,eAAMkC,YAAa9F,EAAE,6CACnH,CAAE2C,MAAO,OAAQuiB,MAAOllB,EAAE,sCAAuC4D,KAAM,eAAMkC,YAAa9F,EAAE,wCAC5F,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,gDAAiD4D,KAAM,SAAKkC,YAAa9F,EAAE,4CAChH,CAAE2C,MAAO,eAAgBuiB,MAAOllB,EAAE,6CAA8C4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAC3G,CAAE2C,MAAO,OAAQuiB,MAAOllB,EAAE,sCAAuC4D,KAAM,eAAMkC,YAAa9F,EAAE,wCAC5F,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,uCAAwC4D,KAAM,eAAMkC,YAAa9F,EAAE,yCAC9F,CAAE2C,MAAO,eAAgBuiB,MAAOllB,EAAE,8CAA+C4D,KAAM,eAAMkC,YAAa9F,EAAE,mDAGnF,CACvB4+B,SAAU,CACR,CAAEj8B,MAAO,OAAQuiB,MAAOllB,EAAE,gEAAiE4D,KAAM,eAAMkC,YAAa9F,EAAE,qEACtH,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,qEAAsE4D,KAAM,eAAMkC,YAAa9F,EAAE,0EAChI,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,wEAAyE4D,KAAM,eAAMkC,YAAa9F,EAAE,8EAEzI++B,UAAW,CACT,CAAEp8B,MAAO,WAAYuiB,MAAOllB,EAAE,qEAAsE4D,KAAM,qBAAOkC,YAAa9F,EAAE,yEAChI,CAAE2C,MAAO,iBAAkBuiB,MAAOllB,EAAE,0EAA2E4D,KAAM,eAAMkC,YAAa9F,EAAE,8EAC1I,CAAE2C,MAAO,mBAAoBuiB,MAAOllB,EAAE,4EAA6E4D,KAAM,eAAMkC,YAAa9F,EAAE,iFAEhJi/B,SAAU,CACR,CAAEt8B,MAAO,aAAcuiB,MAAOllB,EAAE,qEAAsE4D,KAAM,eAAMkC,YAAa9F,EAAE,0EACjI,CAAE2C,MAAO,qBAAsBuiB,MAAOllB,EAAE,6EAA8E4D,KAAM,eAAMkC,YAAa9F,EAAE,kFACjJ,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,0EAA2E4D,KAAM,eAAMkC,YAAa9F,EAAE,iFAI/Fs3B,IAAa,IAsGrC+L,CAAqB/L,GACzCwB,GAnGsBxB,IA4BnB,IA3BW,CAClB,CAAE30B,MAAO,YAAauiB,MAAOllB,EAAE,yCAA0C4D,KAAM,qBAAOkC,YAAa9F,EAAE,4CACrG,CAAE2C,MAAO,aAAcuiB,MAAOllB,EAAE,0CAA2C4D,KAAM,eAAMkC,YAAa9F,EAAE,wCACtG,CAAE2C,MAAO,eAAgBuiB,MAAOllB,EAAE,4CAA6C4D,KAAM,qBAAOkC,YAAa9F,EAAE,0CAC3G,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,yCAA0C4D,KAAM,eAAMkC,YAAa9F,EAAE,uCACpG,CAAE2C,MAAO,aAAcuiB,MAAOllB,EAAE,0CAA2C4D,KAAM,eAAMkC,YAAa9F,EAAE,wCACtG,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,yCAA0C4D,KAAM,eAAMkC,YAAa9F,EAAE,mDAG3E,CACvB4+B,SAAU,CACR,CAAEj8B,MAAO,mBAAoBuiB,MAAOllB,EAAE,yEAA0E4D,KAAM,eAAMkC,YAAa9F,EAAE,8EAC3I,CAAE2C,MAAO,qBAAsBuiB,MAAOllB,EAAE,2EAA4E4D,KAAM,eAAMkC,YAAa9F,EAAE,gFAC/I,CAAE2C,MAAO,aAAcuiB,MAAOllB,EAAE,mEAAoE4D,KAAM,eAAMkC,YAAa9F,EAAE,yEAEjI++B,UAAW,CACT,CAAEp8B,MAAO,cAAeuiB,MAAOllB,EAAE,qEAAsE4D,KAAM,qBAAOkC,YAAa9F,EAAE,yEACnI,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,yEAA0E4D,KAAM,eAAMkC,YAAa9F,EAAE,6EAC1I,CAAE2C,MAAO,iBAAkBuiB,MAAOllB,EAAE,wEAAyE4D,KAAM,eAAMkC,YAAa9F,EAAE,6EAE1Ii/B,SAAU,CACR,CAAEt8B,MAAO,sBAAuBuiB,MAAOllB,EAAE,4EAA6E4D,KAAM,eAAMkC,YAAa9F,EAAE,iFACjJ,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,sEAAuE4D,KAAM,eAAMkC,YAAa9F,EAAE,2EACrI,CAAE2C,MAAO,mBAAoBuiB,MAAOllB,EAAE,yEAA0E4D,KAAM,eAAMkC,YAAa9F,EAAE,gFAIpGs3B,IAAa,IAuElCgM,CAAmBhM,GACrCnS,GApEYmS,IA2BT,IA1BW,CAChB,CAAE30B,MAAO,WAAYuiB,MAAOllB,EAAE,8BAA+B4D,KAAM,eAAMkC,YAAa9F,EAAE,sCACxF,CAAE2C,MAAO,eAAgBuiB,MAAOllB,EAAE,kCAAmC4D,KAAM,eAAMkC,YAAa9F,EAAE,0CAChG,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,4BAA6B4D,KAAM,eAAMkC,YAAa9F,EAAE,oCACpF,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,8BAA+B4D,KAAM,eAAMkC,YAAa9F,EAAE,sCACxF,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,mCAAoC4D,KAAM,SAAKkC,YAAa9F,EAAE,+CACjG,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMkC,YAAa9F,EAAE,6CAC9F,CAAE2C,MAAO,aAAcuiB,MAAOllB,EAAE,gCAAiC4D,KAAM,eAAMkC,YAAa9F,EAAE,wCAC5F,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,mCAAoC4D,KAAM,eAAMkC,YAAa9F,EAAE,+CAG3E,CACvB4+B,SAAU,CACR,CAAEj8B,MAAO,WAAYuiB,MAAOllB,EAAE,wDAAyD4D,KAAM,eAAMkC,YAAa9F,EAAE,6DAClH,CAAE2C,MAAO,oBAAqBuiB,MAAOllB,EAAE,gEAAiE4D,KAAM,qBAAOkC,YAAa9F,EAAE,sEAEtI++B,UAAW,CACT,CAAEp8B,MAAO,YAAauiB,MAAOllB,EAAE,0DAA2D4D,KAAM,eAAMkC,YAAa9F,EAAE,8DACrH,CAAE2C,MAAO,SAAUuiB,MAAOllB,EAAE,uDAAwD4D,KAAM,eAAMkC,YAAa9F,EAAE,4DAEjHi/B,SAAU,CACR,CAAEt8B,MAAO,YAAauiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,8DACpH,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,yDAA0D4D,KAAM,eAAMkC,YAAa9F,EAAE,gEAI7Es3B,IAAa,IAyC5CiM,CAASjM,GACjBmB,GAtCgBnB,IA8Bb,IA7Be,CACpB,CAAE30B,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMkC,YAAa9F,EAAE,6CAC1F,CAAE2C,MAAO,WAAYuiB,MAAOllB,EAAE,kCAAmC4D,KAAM,eAAMkC,YAAa9F,EAAE,8CAC5F,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,+BAAgC4D,KAAM,iCAASkC,YAAa9F,EAAE,2CACzF,CAAE2C,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,qEAAekC,YAAa9F,EAAE,6CACnG,CAAE2C,MAAO,gBAAiBuiB,MAAOllB,EAAE,uCAAwC4D,KAAM,eAAMkC,YAAa9F,EAAE,mDACtG,CAAE2C,MAAO,YAAauiB,MAAOllB,EAAE,mCAAoC4D,KAAM,eAAMkC,YAAa9F,EAAE,+CAC9F,CAAE2C,MAAO,UAAWuiB,MAAOllB,EAAE,iCAAkC4D,KAAM,eAAMkC,YAAa9F,EAAE,6CAC1F,CAAE2C,MAAO,QAASuiB,MAAOllB,EAAE,+BAAgC4D,KAAM,qBAAOkC,YAAa9F,EAAE,gDAGhE,CACvB4+B,SAAU,CACR,CAAEj8B,MAAO,iBAAkBuiB,MAAOllB,EAAE,iEAAkE4D,KAAM,qEAAekC,YAAa9F,EAAE,sEAC1I,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,kEAAmE4D,KAAM,qBAAOkC,YAAa9F,EAAE,uEACpI,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,kEAAmE4D,KAAM,eAAMkC,YAAa9F,EAAE,wEAErI++B,UAAW,CACT,CAAEp8B,MAAO,kBAAmBuiB,MAAOllB,EAAE,mEAAoE4D,KAAM,eAAMkC,YAAa9F,EAAE,uEACpI,CAAE2C,MAAO,wBAAyBuiB,MAAOllB,EAAE,yEAA0E4D,KAAM,SAAKkC,YAAa9F,EAAE,6EAC/I,CAAE2C,MAAO,sBAAuBuiB,MAAOllB,EAAE,uEAAwE4D,KAAM,eAAMkC,YAAa9F,EAAE,4EAE9Ii/B,SAAU,CACR,CAAEt8B,MAAO,mBAAoBuiB,MAAOllB,EAAE,mEAAoE4D,KAAM,eAAMkC,YAAa9F,EAAE,wEACrI,CAAE2C,MAAO,cAAeuiB,MAAOllB,EAAE,8DAA+D4D,KAAM,eAAMkC,YAAa9F,EAAE,mEAC3H,CAAE2C,MAAO,kBAAmBuiB,MAAOllB,EAAE,kEAAmE4D,KAAM,eAAMkC,YAAa9F,EAAE,yEAIxFs3B,IAAa,IAQ5CkM,CAAalM,GAGzBmM,GAAwBA,KAC5B,MACMC,EADwBf,GAAkBrL,GACH51B,KAAKiiC,GAAMA,EAAGhhC,QAAUu2B,GACrE,IAAI0K,GAA2B,OAAdF,QAAc,IAAdA,OAAc,EAAdA,EAAgBb,cAAezJ,EAGhD,MAAMkC,EAAmBnD,GAAUz2B,KAAKszB,GAAKA,EAAEryB,QAAU20B,GACnDuM,GAA8B,OAAhBvI,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkB2H,YAAa,IAC7Ca,EAAkBpuB,KAAK6L,IAAkB,GAAdsiB,EAAmB,IA+BpD,IAAIE,EAAeH,GA5BK,CACtBI,OAAQ,GACRC,SAAU,EACVC,OAAQ,IACRC,SAAU,KACV5K,IAAwB,IAGA,CACxB6K,IAAK,GACLC,OAAQ,EACRC,KAAM,IACNC,OAAQ,KACR7K,IAAsB,IAGI,CAC1B1S,QAAS,EACTwd,YAAa,IACbC,OAAQ,IACRC,YAAa,IACbC,YAAa,IACbC,UAAW,IACXC,SAAU,GACVC,SAAU,GACVjL,IAAc,GAWhB,OALAkK,EAAeruB,KAAK6L,IAAIwiB,EAAcD,GAGtCC,EAAeruB,KAAK8L,IAAIuiB,EAAc,IAE/BruB,KAAKC,MAAMouB,IAGd9C,GAAkBh8B,UACtB,GAAKqF,EAAQK,OAAb,CAKA4Z,GAAgB,GAChBxf,EAAS,IACT42B,EAAmB,IACnB9vB,EAAmB,MACnBmvB,IAAuB,GACvBE,IAAkB,GAElB,IACE,MAAM6I,EAAeN,KACfsB,EAAWhB,EACXiB,EAAWtvB,KAAKC,MAAqB,IAAfouB,GAG5B,IAAIkB,EAEFA,EADe,aAAb3N,EACY,0xBAAAh4B,OAAktBgL,EAAO,2uBAEztB,kEAAAhL,OAAqEg4B,EAAQ,ugBAAAh4B,OAAmhB,cAAbg4B,EAAwB,y/BAA28B,4CAAAh4B,OAA2Cg4B,EAAQ,MAAAh4B,OAAKg5B,EAAQ,iCAAAh5B,OAAgCs5B,EAAgB,yBAAAt5B,OAAwBy5B,EAAc,+BAAAz5B,OAA8Bi6B,EAAmB,2BAAAj6B,OAA0Bu6B,EAAS,0CAAAv6B,OAAyCgL,EAAO,oDAAAhL,OAAmDg4B,EAAQ,4HAAAh4B,OAA2H2V,EAAI,kCAAA3V,OAAiC0rB,EAAc,wCAAA1rB,OAAuCy5B,EAAc,+LAAAz5B,OAA8Ly5B,EAAc,MAAAz5B,OAAkB,cAAbg4B,EAAwB,mgBAAge,GAAE,0EAAAh4B,OAAyEylC,EAAQ,8BAAAzlC,OAA6B0lC,EAAQ,yeAAA1lC,OAAqf,cAAbg4B,EAA2B,yEAA2E,gEAA+D,8DAAAh4B,OAA0E,cAAbg4B,EAA2B,+IAAiJ,mDAAkD,8CAIv2H,MACMl5B,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAEvFwK,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,UAAU,CAC/CuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBN,KAAMw7B,EACNC,QAAS,mBAIPz/B,QAAamD,EAASlD,OAE5B,GAAID,EAAKE,QAAS,CAEhB,IAAIw/B,EAAmB1/B,EAAKmD,SAO5B,GAJA3J,QAAQC,IAAI,wCAA+BuG,EAAKmD,UAChD3J,QAAQC,IAAI,uCAA8BuG,EAAKmD,SAAS9H,QACxD7B,QAAQC,IAAI,4CAAmCuG,EAAKmD,UAEnC,cAAb0uB,EAA0B,CAE5B6N,EAAmBA,EAEhBnpB,QAAQ,kBAAmB,IAE3BA,QAAQ,aAAc,MAEtBA,QAAQ,yBAA0B,MAElCA,QAAQ,0BAA2B,MAEnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MAEtBA,QAAQ,eAAgB,MAExBA,QAAQ,UAAW,IAEnBA,QAAQ,gBAAiB,IAEzBA,QAAQ,aAAc,IAEtBA,QAAQ,cAAe,IAEvBA,QAAQ,WAAY,IAEpBA,QAAQ,UAAW,QACnBA,QAAQ,SAAU,KAClBrR,OAGH,MAAMy6B,EAAQD,EAAiBjpB,MAAM,MAC/BmpB,EAAcD,EAAM3kC,OAAO+rB,GAAQA,EAAK7hB,OAAOpI,WAAW,WAAMzB,OAClEukC,EAAc,GAAKA,GAA8B,GAAfD,EAAMtkC,SAE1CqkC,EAAmBC,EAAMniC,IAAIupB,GAAQA,EAAK7hB,OAAOqR,QAAQ,aAAS,KAAKhQ,KAAK,MAEhF,MAEEm5B,EAAmBA,EAEhBnpB,QAAQ,kBAAmB,IAE3BA,QAAQ,aAAc,MAEtBA,QAAQ,yBAA0B,MAElCA,QAAQ,0BAA2B,MAEnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MAEtBA,QAAQ,eAAgB,MAExBA,QAAQ,UAAW,IAEnBA,QAAQ,gBAAiB,IAEzBA,QAAQ,aAAc,IAEtBA,QAAQ,mBAAe,IACvBA,QAAQ,cAAe,IAEvBA,QAAQ,WAAY,IAEpBA,QAAQ,wUAA6f,IAErgBA,QAAQ,UAAW,QACnBA,QAAQ,SAAU,KAClBrR,OAIL1L,QAAQC,IAAI,uCAA8BimC,GAC1ClmC,QAAQC,IAAI,8CAAqCimC,EAAiBrkC,QAClE7B,QAAQC,IAAI,yCAAgCimC,EAAiBx6B,QAGxDw6B,EAAiBx6B,OAKpBgxB,EAAmBwJ,IAJnBlmC,QAAQI,KAAK,sFACb0F,EAAS/E,EAAE,sCACX27B,EAAmBl2B,EAAKmD,WAM1B,MAAM08B,EAAc,CAClBlyB,SAAU9I,EACV6I,SAAUgyB,EACV7N,WACAgB,WACArjB,OACA+V,iBACA4N,mBACAG,iBACAj4B,OAAQijC,EACRxK,sBACAM,YACAtvB,WAAW,IAAIM,MAAOsM,eAGxBkrB,EAAqB5+B,GAAQ,CAAAiD,wBAAA,GACtB4+B,GAAW,IAAE5iC,GAAImI,KAAKmX,WACxBve,EAAK0G,MAAM,EAAG,KAInBo7B,GAAkBD,SAGZE,GAAeL,EACvB,MACEpgC,EAASU,EAAKX,OAAS9E,EAAE,gCAE7B,CAAE,MAAOgL,GACP/L,QAAQ6F,MAAM,oBAAqBkG,GACnCjG,EAAS/E,EAAE,4BACb,CAAC,QACCukB,GAAgB,EAClB,CA3KA,MAFExf,EAAS/E,EAAE,oCAgLTwlC,GAAiBvgC,UACrB,GAAKwE,EAAKkB,OAEV,IAEE,MACMvM,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAGvFwK,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,6BAA6B,CAClEuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBnB,SAAUa,EACVgD,YAAa,gBACbP,QAAS,CACPorB,WACAtM,iBACA/V,OACA8jB,iBACAH,mBACAN,WACAiB,sBACAG,oBACAG,YACAkK,aAAcN,UAKdh+B,QAAamD,EAASlD,OAExBD,EAAKE,SAAWF,EAAKmG,gBACvBC,EAAmBpG,EAAKmG,kBAExBC,EAAmB,MACnB5M,QAAQI,KAAK,2BAA4BoG,EAAKX,OAElD,CAAE,MAAOkG,GACP/L,QAAQ6F,MAAM,0BAA2BkG,GACzCa,EAAmB,KACrB,GAGIkB,GAAmBtD,IACvB6B,UAAUC,UAAUC,UAAU/B,GAC9BkD,MAAM3M,EAAE,+BAmCJw7B,GAAoBA,CAAClxB,EAASgtB,EAAUgB,EAAUrjB,EAAM+V,KAC5D,MAAMya,EAAetN,GAAUz2B,KAAKszB,GAAKA,EAAEryB,QAAU20B,GAE/CoO,GADerN,GAAU32B,KAAKikC,GAAMA,EAAGhjC,QAAU21B,GACtCnT,GAAMzjB,KAAK1B,GAAKA,EAAE2C,QAAUsS,IACxBwjB,GAAU/2B,KAAK+W,GAAKA,EAAE9V,QAAUqoB,GAGrD,IAAI4a,EAAkB,GACtB,GAAiB,aAAbtO,EACFsO,EAAe,4vBAAAtmC,OAKwEU,EAAE,4BAA2B,qIAAAV,OAElGU,EAAE,uBAAsB,oCAAAV,QAAsC,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAU9hC,OAAQ,eAAI,KAAAtE,QAAY,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAUxgB,QAAS,GAAE,0bAAA5lB,OAKgFgL,EAAQ0R,QAAQ,MAAO,SAAQ,qRAAA1c,OAGnNU,EAAE,oBAAmB,8BAAAV,OAAmBU,EAAE,uBAAsB,8BAAAV,OAAmBU,EAAE,qBAAoB,8FAAAV,OAEvEU,EAAE,wBAAuB,cAAAV,OAAQU,EAAE,sBAAqB,2DAIxG,GAAiB,cAAbs3B,EAA0B,CAEnC,MAAMxa,EA/DsBxS,KAE9B,MAAM86B,EAAQ96B,EAAQ4R,MAAM,MACtB2pB,EAAe,GACfC,EAAc,GAEpBV,EAAMnoB,QAAQuP,IACRA,EAAK7hB,OAAOpI,WAAW,KACzBsjC,EAAappB,KAAK+P,EAAK7hB,QAEvBm7B,EAAYrpB,KAAK+P,KAIrB,MAAMuZ,EAAWD,EAAY95B,KAAK,MAC5Bm2B,EAAW0D,EAAa75B,KAAK,KAGnC,IAAIg6B,EAAmBD,EACpB/pB,QAAQ,eAAW,oEACnBA,QAAQ,MAAO,4EAOlB,OAJImmB,IACF6D,GAAgB,yBAAA1mC,OAA6B6iC,EAAQ,WAGhD6D,GAoCaC,CAAuB37B,GACzCs7B,EAAe,qsBAAAtmC,OAIyEU,EAAE,4BAA2B,29BAAAV,OAQhCU,EAAE,4BAA2B,0CAAAV,OAAyCwd,EAAS,4DAItK,MACE8oB,EADsB,aAAbtO,EACM,gkBAAAh4B,OAI2EU,EAAE,wBAAuB,oEAAAV,OAAmEU,EAAE,kCAAiC,kDAAAV,OAAiDU,EAAE,mBAAkB,YAAAV,QAAc,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAU9hC,OAAQ,eAAI,KAAAtE,QAAY,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAUxgB,QAAS,GAAE,sKAAA5lB,OAErNgL,EAAQ0R,QAAQ,MAAO,SAAQ,sLAAA1c,OAE5IU,EAAE,oBAAmB,8BAAAV,OAAmBU,EAAE,uBAAsB,8BAAAV,OAAmBU,EAAE,sBAAqB,8BAAAV,OAAmBU,EAAE,oBAAmB,qDAI7I,YAAbs3B,EACM,gkBAAAh4B,OAI2EU,EAAE,wBAAuB,oGAAAV,OAAmGU,EAAE,0BAAyB,oCAAAV,OAA8BU,EAAE,mBAAkB,6KAAAV,OAErKgL,EAAQ0R,QAAQ,MAAO,SAAQ,+UAMvI,WAAbsb,EACM,kgCAAAh4B,OAMmHgL,EAAQ0R,QAAQ,MAAO,SAAQ,sFAAA1c,OAC3FU,EAAE,8BAA6B,8gBAAAV,OAKtBU,EAAE,4BAA2B,kDAAAV,OAAiDU,EAAE,6BAA4B,6qBAAAV,OAOhEU,EAAE,qBAAoB,0DAI3H,YAAbs3B,EACM,whBAAAh4B,OAI2EU,EAAE,+BAA8B,qDAAAV,QAAoD,IAAIuL,MAAOgf,qBAAoB,YAAAvqB,QAAc,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAU9hC,OAAQ,eAAI,KAAAtE,QAAY,OAARomC,QAAQ,IAARA,OAAQ,EAARA,EAAUxgB,QAAS,GAAE,sKAAA5lB,OAEpIgL,EAAQ0R,QAAQ,MAAO,SAAQ,iPAAA1c,OAExGU,EAAE,wBAAuB,8BAAAV,OAAmBU,EAAE,qBAAoB,qDAMxG,iIAAAV,OAAoIgL,EAAQ0R,QAAQ,MAAO,SAAQ,UAGpL,MAAMkqB,EAAW,mKAAA5mC,QAMI,OAAZmmC,QAAY,IAAZA,OAAY,EAAZA,EAAcvgB,QAAS,eAAc,u9BAAA5lB,OAa1CsmC,EAAe,2GAAAtmC,OAE+BU,EAAE,wBAAuB,kFAAAV,OACfU,EAAE,2BAA0B,4HAAAV,OAK5DgL,EAAQ0R,QAAQ,KAAM,OAAM,6jCA0BlDmqB,EAAYznC,OAAO8gC,KAAK,GAAI,SAAU,qDAC5C2G,EAAUpyB,SAASqyB,MAAMF,GACzBC,EAAUpyB,SAASsyB,SAiBrBtlC,oBAAU,KACHuJ,EAAQK,QAAW4Q,GACtBC,GAAmB,IAEpB,CAAClR,EAASiR,IAEb,MA0BM+f,GAAmBnD,GAAUz2B,KAAKszB,GAAKA,EAAEryB,QAAU20B,GAEnDiE,GADiBX,EAAgB95B,SACe,OAAhBw6B,SAAgB,IAAhBA,QAAgB,EAAhBA,GAAkB2H,YAAa,KAkLrEliC,oBAAU,KACJ65B,EAlFyB31B,WAC7Bu9B,IAAe,GACf,IAEE,MACMpkC,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QAGvFkoC,EAAY,wBAAAhnC,OAA2Bg4B,EAAQ,2LAAAh4B,OAAuM,cAAbg4B,EAA2B,yGAAsG,gFAA+E,yBAAAh4B,OAGncgL,GAEU1B,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,UAAU,CAC/CuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBN,KAAM68B,EACNpB,QAAS,mBAGPz/B,QAAamD,EAASlD,OAC5B,GAAID,EAAKE,QAAS,CAChB,IAAIoW,EAAUtW,EAAKmD,SAIjBmT,EAFe,cAAbub,EAEQvb,EACPC,QAAQ,kBAAmB,IAC3BA,QAAQ,aAAc,MACtBA,QAAQ,yBAA0B,MAClCA,QAAQ,0BAA2B,MACnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MACtBA,QAAQ,eAAgB,MACxBA,QAAQ,UAAW,IACnBA,QAAQ,gBAAiB,IACzBA,QAAQ,aAAc,IACtBA,QAAQ,cAAe,IACvBA,QAAQ,WAAY,IACpBA,QAAQ,UAAW,QACnBA,QAAQ,SAAU,KAClBrR,OAGOoR,EACPC,QAAQ,kBAAmB,IAC3BA,QAAQ,aAAc,MACtBA,QAAQ,yBAA0B,MAClCA,QAAQ,0BAA2B,MACnCA,QAAQ,mBAAoB,MAC5BA,QAAQ,eAAgB,MACxBA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MACtBA,QAAQ,eAAgB,MACxBA,QAAQ,UAAW,IACnBA,QAAQ,gBAAiB,IACzBA,QAAQ,aAAc,IACtBA,QAAQ,mBAAe,IACvBA,QAAQ,cAAe,IACvBA,QAAQ,WAAY,IACpBA,QAAQ,wUAA6f,IACrgBA,QAAQ,UAAW,QACnBA,QAAQ,SAAU,KAClBrR,OAGLq2B,GAAmBjlB,EACrB,MACEilB,GAAmB12B,EAEvB,CAAE,MAAOU,GACPg2B,GAAmB12B,EACrB,CAAC,QACCk4B,IAAe,EACjB,GAME+D,CAAuB3L,GAEvBoG,GAAmB,KAEpB,CAACpG,IAGJ,MAAM4L,GAAqBvhC,UACzB89B,IAAoB,GACpBC,GAAgB,IAChB,IACE,MACM5kC,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,QACvFwK,QAAiBxD,MAAM,GAAD9F,OAAIlB,EAAO,kBACjCqH,QAAamD,EAASlD,OACxBD,EAAKE,QACPm9B,GAAiBr9B,EAAKghC,OAAS,IAE/BzD,GAAgBv9B,EAAKX,OAAS,iCAElC,CAAE,MAAOkG,GACPg4B,GAAgB,wCAClB,CAAC,QACCD,IAAoB,EACtB,GAIFhiC,oBAAU,KACRylC,MACC,IAGH,MAAMjB,GAAoBtgC,UACxB,IACE,MACM7G,EADYM,OAAOC,SAASC,SAASC,SAAS,gBAAkBH,OAAOC,SAASC,SAASC,SAAS,0BAC5E,qDAAuDC,UAAUV,cACvFgH,MAAM,GAAD9F,OAAIlB,EAAO,iBAAiB,CACrCuL,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUu7B,KAGvBkB,IACF,CAAE,MAAOx7B,GACP,GAoBJ,OACEpJ,eAAA,OAAKC,UAAU,sCAAsC4C,MAAO,CAAEusB,UAAW,QAASrqB,WAAY,oDAAqDE,QAAS,GAAI/E,SAAA,CAE9JF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQE,eAAgB,SAAUW,OAAQ,cAAe/F,SAAA,CAC9EF,eAAA,UACEK,QAASA,IAAMygC,IAAa,GAC5Bj+B,MAAO,CAAEkC,WAAY87B,GAAY,UAAY,UAAWj7B,MAAOi7B,GAAY,QAAU,UAAW37B,OAAQ,OAAQF,aAAc,EAAGC,QAAS,YAAaa,WAAY,IAAKD,SAAU,GAAIo6B,YAAa,GAAI//B,SAAA,CACxM,kCACQ9B,EAAE,6BAEX4B,eAAA,UACEK,QAASA,IAAMygC,IAAa,GAC5Bj+B,MAAO,CAAEkC,WAAa87B,GAAwB,UAAZ,UAAuBj7B,MAAQi7B,GAAsB,UAAV,QAAqB37B,OAAQ,OAAQF,aAAc,EAAGC,QAAS,YAAaa,WAAY,IAAKD,SAAU,IAAK3F,SAAA,CAC1L,UACI9B,EAAE,kCAIRyiC,IACCvgC,cAAA,OAAKuC,MAAO,CAAEoD,OAAQ,UAAW/F,SAC/BI,cAAC6+B,EAAqB,CACpBzJ,SAAUA,EACVc,YAAaA,EACbE,SAAUA,EACVC,YAAaA,EACbtjB,KAAMA,EACNujB,QAASA,EACTxN,eAAgBA,EAChB0N,kBAAmBA,EACnBE,iBAAkBA,EAClBC,oBAAqBA,EACrBvuB,QAASA,EACToxB,WAAYA,EACZd,gBAAiBA,EACjBe,mBAAoBA,EACpBlxB,SAxCiBi8B,KAEzBzF,MAwCQ3c,aAAcA,EACdwW,YAAaA,GACbD,gBAAiBA,GACjBmG,mBAAoBA,GACpBC,gBAAiBA,GACjBl0B,gBAAiBA,GACjByuB,kBAAmBA,QAKvBiH,IACF7gC,eAAA,OAAK6C,MAAO,CAAEoC,QAAS,WAAYqqB,SAAU,IAAKrpB,OAAQ,UAAW/F,SAAA,CAEnEI,cAAA,OAAKL,UAAU,kCAAkC4C,MAAO,CAAEkD,aAAc,IAAK7F,SAC/EI,cAACg2B,EAAsB,CACrBC,UAAWA,GACXb,SAAUA,EACVc,YAAaA,EACbC,UAAWA,GACXC,SAAUA,EACVC,YAAaA,EACbpT,MAAOA,GACPlQ,KAAMA,EACNujB,QAASA,EACTC,UAAWA,GACXzN,eAAgBA,EAChB0N,kBAAmBA,EACnBC,kBAAmBA,GACnBC,iBAAkBA,EAClBC,oBAAqBA,EACrBC,gBAAiBA,GACjBC,eAAgBA,EAChBC,kBAAmBA,EACnBC,eAAgBA,GAChBC,cAAeA,EACfC,iBAAkBA,EAClBC,aAAcA,EACdC,gBAAiBA,EACjBC,sBAAuBA,GACvBC,oBAAqBA,EACrBC,uBAAwBA,EACxBC,oBAAqBA,GACrBC,kBAAmBA,EACnBC,qBAAsBA,EACtBC,WAAYA,GACZC,UAAWA,EACXC,aAAcA,EACdC,oBAAqBA,EACrBC,uBAAwBA,MAIxBp4B,eAAA,OAAKC,UAAU,gCAAgC4C,MAAO,CAAEkD,aAAc,IAAK7F,SAAA,CACzEI,cAAA,OAAKL,UAAU,gBAAgB4C,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKC,aAAc,IAAK7F,SAAE9B,EAAE,8BAChGkC,cAAA,YACIL,UAAU,wBACZc,MAAO2H,EACP1H,SAAUC,GAAK64B,EAAW74B,EAAEG,OAAOL,OACnCsI,YAAajL,EAAE,kCACbyE,MAAO,CACL2C,MAAO,OACP4pB,UAAW,IACXvpB,SAAU,GACVZ,QAAS,YACTc,aAAc,GACdb,OAAQ,sBACRF,aAAc,GACdD,WAAY,oDACZiB,UAAW,mCACXF,WAAY,IACZF,MAAO,UACPm/B,QAAS,OACTlV,WAAY,gCAEdmF,QAAS/zB,GAAKA,EAAEG,OAAOyB,MAAMqC,OAAS,sBACtCgwB,OAAQj0B,GAAKA,EAAEG,OAAOyB,MAAMqC,OAAS,wBAEzClF,eAAA,OAAKC,UAAU,kBAAkB4C,MAAO,CAAEuC,QAAS,OAAQG,IAAK,GAAIoB,UAAW,GAAIzG,SAAA,CACjFI,cAAA,UACIL,UAAU,mCACZI,QAASg/B,GACP51B,UAAWf,EAAQK,QAAU2Z,EAC7B7f,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,QAASV,OAAQ,OAAQF,aAAc,GAAIc,WAAY,IAAKD,SAAU,GAAIZ,QAAS,SAAU0qB,KAAM,GAAIzvB,SAExK9B,EAAfskB,EAAiB,yBAA8B,8BAEpDpiB,cAAA,UACIL,UAAU,6BACZI,QAnaOwf,KACfia,EAAW,IACXC,EAAmB,IACnB52B,EAAS,IACT8G,EAAmB,MACnBw2B,EAAqB,IACrBrI,GAAuB,GACvBxe,GAAmB,GACnB+mB,GAAsB,IACtBvH,IAAuB,GACvBE,IAAkB,IA0ZRz2B,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,UAAWV,OAAQ,OAAQF,aAAc,GAAIc,WAAY,IAAKD,SAAU,GAAIZ,QAAS,SAAU0qB,KAAM,GAAIzvB,SAE3L9B,EAAE,6BAKN46B,GACCh5B,eAAA,OAAKC,UAAU,+CAA+C4C,MAAO,CAAEoS,SAAU,YAAa/U,SAAA,CAClGI,cAACs4B,EAAqB,CACpBI,gBAAiBA,EACjBC,gBAAiBA,GACjBC,YAAaA,GACbC,oBAAqBA,GACrBC,uBAAwBA,GACxBC,eAAgBA,GAChBC,kBAAmBA,GACnB5wB,QAASA,EACTgtB,SAAUA,EACVgB,SAAUA,EACVrjB,KAAMA,EACN+V,eAAgBA,EAChBmQ,gBAtamByL,IAAmB,IAADC,EACzC,OAAqD,QAA9CA,EAAA1O,GAAUz2B,KAAKszB,GAAKA,EAAEryB,QAAUikC,UAAc,IAAAC,OAAA,EAA9CA,EAAgDjjC,OAAQ,gBAsa3Dw3B,YAnae0L,IAAe,IAADrM,EACjC,OAA6C,QAAtCA,EAAAtV,GAAMzjB,KAAK1B,GAAKA,EAAE2C,QAAUmkC,UAAU,IAAArM,OAAA,EAAtCA,EAAwC72B,OAAQ,gBAmanDy3B,gBAhamB0L,IAAmB,IAADC,EACzC,OAAqD,QAA9CA,EAAAvO,GAAU/2B,KAAK+W,GAAKA,EAAE9V,QAAUokC,UAAc,IAAAC,OAAA,EAA9CA,EAAgDpjC,OAAQ,gBAga3DuhB,MAAOA,GACPsT,UAAWA,GACXN,UAAWA,GACXmD,iBAAkBnD,GAAUz2B,KAAKszB,GAAKA,EAAEryB,QAAU20B,GAC5CiE,YAAaA,GACnB3vB,gBAAiBA,EACjBmB,gBAAiBA,GACjByuB,kBAAmBA,GACnBE,WAAYA,EACZC,mBAAoBA,EACpBvD,YAAaA,EACbG,YAAaA,EACbC,QAASA,EACTE,kBAAmBA,EACnBG,oBAAqBA,EACrBG,kBAAmBA,EACnBG,iBAAkBA,EAClBK,uBAAwBA,EACxBG,qBAAsBA,EACtBG,aAAcA,EACdzB,UAAWA,GACXiB,sBAAuBA,GACvBG,oBAAqBA,GACrBG,WAAYA,KAIN13B,cAAC67B,EAAsB,CACrBzzB,QAASuwB,IAAmBD,EAC5BtD,SAAUA,EACV0G,iBAAkBA,CAAC1G,EAAUxsB,KAC3B7L,QAAQC,IAAI,6BAADI,OAA8Bg4B,EAAQ,KAAKxsB,IAGxDmzB,eAAgBA,CAAC3G,EAAUxyB,KACzB7F,QAAQ6F,MAAM,wBAADxF,OAAyBg4B,EAAQ,KAAKxyB,gBC3lCtDmiC,MA1JM9iC,IAAiD,IAAhD,KAAEytB,EAAI,YAAEwJ,EAAW,MAAEjW,EAAQ,GAAE,QAAEzL,GAASvV,EAC9D,MAAM,EAAEnE,GAAME,cACd,IAAK0xB,EAAM,OAAO,KAClB,MAAM,SACJ0F,EAAQ,SACRnkB,EAAQ,gBACR0nB,EAAe,SACfvC,EAAQ,KACRrjB,EAAI,eACJ+V,EAAc,UACdzgB,GACEqnB,EACEsV,EAAiBrM,GAAmB1nB,EACpCg0B,EAAUhiB,EAAMzjB,KAAK0lC,GAAMA,EAAGzkC,QAAUsS,GAG9C,IAAIoyB,EAAe,KAgInB,OA9HEA,EADe,aAAb/P,EAEA11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,UAAWC,aAAc,GAAIC,QAAS,GAAIoqB,WAAY,UAAWrpB,UAAW,4BAA6Bd,OAAQ,oBAAqBa,aAAc,GAAI7F,SAAA,CAChLF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIQ,aAAc,IAAK7F,SAAA,CAC/EI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,kDAAmDC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUM,MAAO,QAASC,SAAU,GAAIC,WAAY,IAAKE,UAAW,kCAAmC9F,SAAC,iBACxRF,eAAA,OAAK6C,MAAO,CAAE8sB,KAAM,GAAIzvB,SAAA,CACtBI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAI7F,SAAE9B,EAAE,8BACrF4B,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWR,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIrF,SAAA,CAC5FI,cAAA,QAAAJ,SAAO9B,EAAE,yBAA8BkC,cAAA,QAAAJ,SAAM,WAAQF,eAAA,QAAAE,SAAA,CAAOs5B,EAAcA,EAAYnmB,GAAQ,GAAG,IAAS,OAAPkyB,QAAO,IAAPA,OAAO,EAAPA,EAASjiB,SAAahjB,cAAA,QAAAJ,SAAM,WAAQI,cAAA,QAAAJ,SAAM,uBAGjJI,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEkC,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,UAAWmE,WAAY,GAAK,aAAW,QAAO7zB,SAAC,cAEhKI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIK,WAAY,IAAKN,MAAO,UAAW8qB,WAAY,WAAYyK,SAAU,aAAcp1B,aAAc,GAAId,QAAS,GAAIF,WAAY,QAASC,aAAc,EAAGE,OAAQ,qBAAsBhF,SAAEolC,IACpNtlC,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,gBAAiB81B,WAAY,GAAI11B,UAAW,oBAAqBG,SAAU,GAAID,MAAO,WAAY1F,SAAA,CACrKF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,IAAKrF,SAAA,CAC7DF,eAAA,QAAAE,SAAA,CAAM,gBAAI9B,EAAE,uBAA2B4B,eAAA,QAAAE,SAAA,CAAM,gBAAI9B,EAAE,0BAA8B4B,eAAA,QAAAE,SAAA,CAAM,gBAAI9B,EAAE,2BAE/F4B,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,WAAY1F,SAAA,CAAC,KAAG9B,EAAE,wBAAwB,aAAMA,EAAE,+BAIrE,cAAbs3B,EAEP11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,GAAIC,QAAS,EAAGoqB,WAAY,UAAWnqB,OAAQ,oBAAqBc,UAAW,4BAA6BspB,SAAU,IAAKrpB,OAAQ,UAAW/F,SAAA,CAC5LF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIN,QAAS,GAAI0uB,aAAc,qBAAsBzzB,SAAA,CAC7GI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,qFAAsFC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUM,MAAO,QAASC,SAAU,IAAK3F,SAAC,iBAC7PI,cAAA,OAAKuC,MAAO,CAAE8sB,KAAM,GAAIzvB,SAACI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,WAAY1F,SAAE9B,EAAE,gCAC7FkC,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEkC,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,UAAWmE,WAAY,GAAK,aAAW,QAAO7zB,SAAC,cAEhKI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,OAAQC,OAAQ,IAAKV,WAAY,kDAAmDK,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUO,SAAU,GAAID,MAAO,UAAW+tB,aAAc,qBAAsBzzB,SAAC,iBAC/OF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIN,QAAS,YAAa0uB,aAAc,qBAAsBzzB,SAAA,CACtHI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,GAAIkuB,WAAY,QAAS7zB,SAAC,oBAE7KF,eAAA,OAAK6C,MAAO,CAAEoC,QAAS,YAAaY,SAAU,GAAIK,WAAY,IAAKN,MAAO,UAAW8qB,WAAY,WAAYyK,SAAU,cAAej7B,SAAA,CACpIF,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,GAAI7F,SAAA,CAACI,cAAA,QAAMuC,MAAO,CAAEiD,WAAY,IAAKF,MAAO,WAAY1F,SAAE9B,EAAE,8BAAmCkC,cAAA,QAAMuC,MAAO,CAAEkxB,WAAY,GAAI7zB,SAAEolC,OAC5JhlC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIc,UAAW,EAAGT,WAAY,KAAMhG,SAAC,0DAC/EI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWe,UAAW,GAAIzG,SAAE9B,EAAE,8BAA+B,CAAEi9B,MAAO,YAIzF,aAAb3F,EAEP11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,GAAIC,QAAS,GAAIoqB,WAAY,UAAWnqB,OAAQ,qBAAsBhF,SAAA,CACpHF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIQ,aAAc,IAAK7F,SAAA,CAC/EI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,UAAWC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUM,MAAO,QAASC,SAAU,IAAK3F,SAAC,iBAClLF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAI7F,SAAC,cAClFI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAID,MAAO,OAAQG,aAAc,GAAI7F,SAAC,0BAC9DF,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,QAAS1F,SAAA,CAAC,cAAOs5B,EAAcA,EAAYnmB,GAAQ,GAAG,IAAS,OAAPkyB,QAAO,IAAPA,OAAO,EAAPA,EAASjiB,YAEtGhjB,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEkC,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,UAAWmE,WAAY,GAAK,aAAW,QAAO7zB,SAAC,cAEhKI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIK,WAAY,IAAKN,MAAO,UAAW8qB,WAAY,WAAYyK,SAAU,aAAcp1B,aAAc,IAAK7F,SAAEolC,IACpItlC,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAI61B,WAAY,GAAI11B,UAAW,oBAAqBG,SAAU,GAAID,MAAO,QAAS1F,SAAA,CAC1II,cAAA,QAAAJ,SAAM,sBAAcI,cAAA,QAAAJ,SAAM,yBAAiBI,cAAA,QAAAJ,SAAM,wBAAgBI,cAAA,QAAAJ,SAAM,4BAIvD,YAAbw1B,EAEP11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,GAAIC,QAAS,GAAIoqB,WAAY,UAAWnqB,OAAQ,qBAAsBhF,SAAA,CACpHF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIQ,aAAc,IAAK7F,SAAA,CAC/EI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,UAAWC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUM,MAAO,QAASC,SAAU,IAAK3F,SAAC,iBAClLF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAI7F,SAAE9B,EAAE,0BACrF4B,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWR,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIrF,SAAA,CAC5FF,eAAA,QAAAE,SAAA,CAAM,IAAE9B,EAAE,6BAAiCkC,cAAA,QAAAJ,SAAM,WAAQI,cAAA,QAAAJ,SAAO9B,EAAE,2BAGtEkC,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEkC,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,UAAWmE,WAAY,GAAK,aAAW,QAAO7zB,SAAC,cAEhKI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIK,WAAY,IAAKN,MAAO,UAAW8qB,WAAY,WAAYyK,SAAU,aAAcp1B,aAAc,IAAK7F,SAAEolC,IACpItlC,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,gBAAiB81B,WAAY,GAAI11B,UAAW,oBAAqBG,SAAU,GAAID,MAAO,WAAY1F,SAAA,CACrKI,cAAA,QAAAJ,SAAM,mBAAWI,cAAA,QAAAJ,SAAM,mBAAWI,cAAA,QAAAJ,SAAM,mBAAWI,cAAA,QAAAJ,SAAM,uBAIzC,WAAbw1B,EAEP11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,GAAIC,QAAS,EAAGoqB,WAAY,UAAWzpB,MAAO,QAASqP,SAAU,WAAYsa,SAAU,SAAUvpB,UAAW,6BAA8BspB,SAAU,IAAKrpB,OAAQ,UAAW/F,SAAA,CAC1NI,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEoS,SAAU,WAAY6a,IAAK,GAAIC,MAAO,GAAIhrB,WAAY,kBAAmBG,OAAQ,OAAQW,SAAU,GAAID,MAAO,OAAQgqB,OAAQ,UAAWsL,OAAQ,GAAK,aAAW,QAAOh7B,SAAC,WAC5MI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,OAAQC,OAAQ,IAAKV,WAAY,yCAA0CK,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUO,SAAU,GAAIoP,SAAU,YAAa/U,SACpMI,cAAA,OAAKuC,MAAO,CAAEoS,SAAU,WAAY6a,IAAK,MAAOc,KAAM,MAAOT,UAAW,uBAAwB3qB,MAAO,GAAIC,OAAQ,GAAIV,WAAY,wBAAyBC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUO,SAAU,GAAID,MAAO,WAAY1F,SAAC,mBAEtRF,eAAA,OAAK6C,MAAO,CAAEoS,SAAU,WAAY0b,OAAQ,EAAGC,KAAM,EAAGb,MAAO,EAAGhrB,WAAY,+CAAgDE,QAAS,uBAAwB/E,SAAA,CAC7JI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIK,WAAY,IAAKwqB,WAAY,WAAYyK,SAAU,aAAcp1B,aAAc,GAAIupB,SAAU,KAAMpvB,SAAEolC,IACjIhlC,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWG,aAAc,IAAK7F,SAAC,8CAEpEF,eAAA,OAAK6C,MAAO,CAAEoS,SAAU,WAAY6a,IAAK,GAAIc,KAAM,GAAIb,MAAO,GAAI3qB,QAAS,OAAQC,WAAY,SAAUC,eAAgB,iBAAkBpF,SAAA,CACzIF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIrF,SAAA,CAC5DI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,yCAA0CC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUO,SAAU,IAAK3F,SAAC,iBACjMF,eAAA,OAAAE,SAAA,CAAKI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKC,aAAc,GAAI7F,SAAC,kBAAmBI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAID,MAAO,QAAS1F,SAAC,yBAEvII,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,cAEjCF,eAAA,OAAK6C,MAAO,CAAEoS,SAAU,WAAY8a,MAAO,GAAIY,OAAQ,IAAKvrB,QAAS,OAAQ8qB,cAAe,SAAU7qB,WAAY,SAAUE,IAAK,IAAKrF,SAAA,CACpIF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAACI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIc,UAAW,GAAIzG,SAAC,SACzHF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAACI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIc,UAAW,GAAIzG,SAAC,SACzHF,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,UAAWjF,SAAA,CAACI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAC,iBAASI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIc,UAAW,GAAIzG,SAAC,mBAIzG,YAAbw1B,EAEP11B,eAAA,OAAK6C,MAAO,CAAEkC,WAAY,OAAQC,aAAc,GAAIC,QAAS,GAAIoqB,WAAY,0BAA2BnqB,OAAQ,qBAAsBhF,SAAA,CACpIF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIQ,aAAc,IAAK7F,SAAA,CAC/EI,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,GAAIC,OAAQ,GAAIV,WAAY,UAAWC,aAAc,MAAOI,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUM,MAAO,QAASC,SAAU,IAAK3F,SAAC,iBAClLF,eAAA,OAAAE,SAAA,CACEI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAI7F,SAAC,sBAClFF,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,WAAY1F,SAAA,CAAEyI,EAAY,IAAIM,KAAKN,GAAWsf,qBAAuB,GAAG,WAAIuR,EAAcA,EAAYnmB,GAAQ,GAAG,IAAS,OAAPkyB,QAAO,IAAPA,OAAO,EAAPA,EAASjiB,YAEjKhjB,cAAA,UAAQD,QAASyX,EAASjV,MAAO,CAAEkC,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,UAAWmE,WAAY,GAAK,aAAW,QAAO7zB,SAAC,cAEhKI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIK,WAAY,IAAKN,MAAO,UAAW8qB,WAAY,WAAYyK,SAAU,aAAcp1B,aAAc,IAAK7F,SAAEolC,IACpItlC,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAI61B,WAAY,GAAI11B,UAAW,oBAAqBG,SAAU,GAAID,MAAO,WAAY1F,SAAA,CAC7II,cAAA,QAAAJ,SAAM,mBAAWI,cAAA,QAAAJ,SAAM,mBAAWI,cAAA,QAAAJ,SAAM,4BAAoBI,cAAA,QAAAJ,SAAM,6BAOtEI,cAAA,OAAKuC,MAAO,CAAEoC,QAAS,GAAID,aAAc,EAAGD,WAAY,UAAWG,OAAQ,oBAAqBa,aAAc,GAAI7F,SAAEolC,IAKtHtlC,eAAA,OAAK6C,MAAO,CAAEysB,SAAU,IAAKrpB,OAAQ,SAAUgP,SAAU,YAAa/U,SAAA,CACnEulC,EACDnlC,cAAA,OAAKuC,MAAO,CAAEuC,QAAS,OAAQG,IAAK,EAAGoB,UAAW,GAAIrB,eAAgB,YAAapF,SACjFF,eAAA,UAAQK,QAASA,IAAMqJ,UAAUC,UAAUC,UAAU07B,GAAiBrlC,UAAU,aAAa4C,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,QAASV,OAAQ,OAAQF,aAAc,EAAGC,QAAS,WAAYY,SAAU,GAAIC,WAAY,IAAK0qB,SAAU,IAAKZ,OAAQ,UAAW5pB,UAAW,mCAAoC9F,SAAA,CAAC,gBAAI9B,EAAE,qCChK5W,MAAMmlB,EAAQ,CACZ,CAAExiB,MAAO,WAAYuiB,MAAO,WAAYthB,KAAM,gBAC9C,CAAEjB,MAAO,eAAgBuiB,MAAO,eAAgBthB,KAAM,gBACtD,CAAEjB,MAAO,UAAWuiB,MAAO,UAAWthB,KAAM,gBAC5C,CAAEjB,MAAO,SAAUuiB,MAAO,SAAUthB,KAAM,UAC1C,CAAEjB,MAAO,gBAAiBuiB,MAAO,gBAAiBthB,KAAM,iBAKpD0jC,EAAWnjC,IAAsF,IAArF,KAAE4R,EAAI,SAAEuhB,EAAQ,aAAEiQ,EAAY,cAAEC,EAAa,SAAEC,EAAQ,SAAEC,EAAQ,WAAEC,GAAYxjC,EAE/F,MAiBM,EAAEnE,GAAME,eAEPN,EAAUC,GAAeF,oBAAS,GACzCoB,oBAAU,KACR,MAAMC,EAAcA,IAAMnB,EAAYnB,OAAOuC,WAAa,KAG1D,OAFAD,IACAtC,OAAOwC,iBAAiB,SAAUF,GAC3B,IAAMtC,OAAOyC,oBAAoB,SAAUH,IACjD,IAwBH,OACEkB,cAAA,OACEL,UAAS,4BAAAvC,OAA8BmoC,EAAW,YAAc,IAChEhjC,MAAO,CACLkC,WAAY,OACZC,aAAc,GACdgB,UAAW6/B,EAAW,8BAAgC,6BACtD3gC,OAAO,aAADxH,OAAekoC,GAAiB,WACtC3gC,QAAS4gC,EAAW,EAAI,GACxBzW,UAAW,IACXna,SAAU,WACV4a,WAAY,kCACZD,OAAQ,UACRL,SAAU,SACVyW,WAAYH,EAAW,cAAWn0B,EAClCwpB,OAAQ2K,EAAW,GAAK,GAE1BvN,SAAU,EACV,gBAAeuN,EAAS3lC,SAEvB2lC,EACC7lC,eAAA,OAAK6C,MAAO,CAAEoC,QAAS,EAAGF,WAAY,UAAWC,aAAc,IAAK9E,SAAA,CAClEF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIN,QAAS,oBAAqB/E,SAAA,CAC1FI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAEylC,IAChCrlC,cAAA,QAAMuC,MAAO,CAAEiD,WAAY,IAAKF,MAAOggC,EAAe//B,SAAU,IAAK3F,SAAE9B,EAAE,yBAADV,OAA0Bg4B,KAAeA,IACjHp1B,cAAA,QAAMuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIkuB,WAAY,QAAS7zB,SAAE,IAAI+I,KAAKkL,EAAKxL,WAAWsf,uBAC/F3nB,cAAA,UAAQD,QAAS0lC,EAAYljC,MAAO,CAAEkxB,WAAY,GAAIhvB,WAAY,OAAQG,OAAQ,OAAQW,SAAU,GAAID,MAAO,UAAWgqB,OAAQ,WAAa,aAAW,WAAU1vB,SAAC,cAEvKI,cAAA,OAAKuC,MAAO,CAAEoC,QAAS,GAAIm2B,WAAY,GAAIl7B,SACzCI,cAAC+kC,EAAY,CACXrV,KAAM7b,EACNqlB,YA9CSnmB,IACD,CAChB4yB,SAAU,eACVC,aAAc,eACdC,QAAS,eACTxD,OAAQ,SACRyD,cAAe,gBAGA/yB,IAAS,gBAsChBkQ,MAAOA,EACPzL,QAASiuB,SAKf/lC,eAAAkU,WAAA,CAAAhU,SAAA,CACEF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,IAAKrF,SAAA,CAC7DI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,IAAK3F,SAAEylC,IAChCrlC,cAAA,QAAMuC,MAAO,CAAEiD,WAAY,IAAKF,MAAOggC,EAAe//B,SAAU,IAAK3F,SAAE9B,EAAE,yBAADV,OAA0Bg4B,KAAeA,IACjHp1B,cAAA,QAAMuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIkuB,WAAY,QAAS7zB,SAAE,IAAI+I,KAAKkL,EAAKxL,WAAWsf,0BAEjGjoB,eAAA,OAAK6C,MAAO,CAAEgD,SAAU,GAAID,MAAO,UAAWK,OAAQ,QAASwqB,UAAW,GAAIlB,SAAU,SAAU8W,aAAc,WAAYjhC,QAAS,cAAekhC,gBAAiB,EAAGC,gBAAiB,YAAarmC,SAAA,CAAEiU,EAAK5C,SAASlF,UAAU,EAAG,KAAK,SACxOrM,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQG,IAAK,EAAGoB,UAAW,QAASzG,SAAA,CACzDF,eAAA,UAAQK,QAASA,IAAMylC,EAAS3xB,EAAK6c,KAAO7c,EAAKrT,IAAKb,UAAU,aAAa4C,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,QAASV,OAAQ,OAAQF,aAAc,EAAGC,QAAS,WAAYY,SAAU,GAAIC,WAAY,IAAK6pB,KAAM,GAAIzvB,SAAA,CAAC,sBAAK9B,EAAE,2BAC9Q4B,eAAA,UAAQK,QAASA,IAAMqJ,UAAUC,UAAUC,UAAUuK,EAAK5C,UAAWtR,UAAU,aAAa4C,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,QAASV,OAAQ,OAAQF,aAAc,EAAGC,QAAS,WAAYY,SAAU,GAAIC,WAAY,IAAK6pB,KAAM,GAAIzvB,SAAA,CAAC,gBAAI9B,EAAE,wCA8IzRooC,MAtIgBA,KAC7B,MAAM,EAAEpoC,GAAME,eACP47B,EAAegH,GAAoBnjC,mBAAS,KAC5Co8B,EAAkBgH,GAAuBpjC,oBAAS,IAClDq8B,EAAcgH,GAAmBrjC,mBAAS,KAC1C0oC,EAAYC,GAAiB3oC,mBAAS,MAK7CoB,oBAAU,KACRylC,KACC,IAEH,MAAMA,EAAqBvhC,UACzB89B,GAAoB,GACpBC,EAAgB,IAChB,IACE,MAAM79B,QAAYC,MAAMtG,UAAUV,QAAU,iBACtCqH,QAAaN,EAAIO,OACnBD,EAAKE,QACPm9B,EAAiBr9B,EAAKghC,OAAS,IAE/BzD,EAAgBhjC,EAAE,6BAEtB,CAAE,MAAOgL,GACPg4B,EAAgBhjC,EAAE,6BACpB,CAAC,QACC+iC,GAAoB,EACtB,GAcIwF,EAAgB,CACpB3J,SAAU,eACVG,UAAW,eACXC,QAAS,eACTC,SAAU,eACV6C,OAAQ,eACRC,QAAS,gBAILyG,EAAiB,CACrB5J,SAAU,UACVG,UAAW,UACXC,QAAS,UACTC,SAAU,UACV6C,OAAQ,OACRC,QAAS,WAIX,OACEngC,eAAA,OAAKC,UAAU,sCAAsC4C,MAAO,CAAEusB,UAAW,QAASrqB,WAAY,oDAAqDE,QAAS,GAAI/E,SAAA,CAE9JF,eAAA,OAAK6C,MAAO,CACVoS,SAAU,SACV6a,IAAK,EACLoL,OAAQ,GACRn2B,WAAY,oDACZE,QAAS,sBACT4hC,uBAAwB,GACxBC,wBAAyB,GACzB9gC,UAAW,mCACXZ,QAAS,OACTC,WAAY,SACZC,eAAgB,iBAChBpF,SAAA,CACAI,cAACH,IAAI,CAACC,GAAG,gBAAgByC,MAAO,CAAE+C,MAAO,OAAQC,SAAU,GAAIoqB,eAAgB,OAAQnqB,WAAY,IAAKV,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIrF,SAAC,WAGzJF,eAAA,OAAK6C,MAAO,CAAE8sB,KAAM,EAAGxqB,UAAW,UAAWjF,SAAA,CAC3CI,cAAA,MAAIuC,MAAO,CAAE+C,MAAO,OAAQE,WAAY,IAAKD,SAAU,GAAII,OAAQ,GAAI/F,SAAE9B,EAAE,2BAC3EkC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIc,UAAW,GAAIzG,SAAE9B,EAAE,iCAEnEkC,cAAA,OAAKuC,MAAO,CAAE2C,MAAO,SAIvBlF,cAAA,OAAKuC,MAAO,CAAEoC,QAAS,WAAYqqB,SAAU,IAAKrpB,OAAQ,UAAW/F,SAClEi6B,EACC75B,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIZ,QAAS,SAAUE,UAAW,UAAWjF,SAAC,eACtFk6B,EACF95B,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIZ,QAAS,SAAUE,UAAW,UAAWjF,SAAEk6B,IAC9D,IAAzBF,EAAch7B,OAChBc,eAAA,OAAK6C,MAAO,CAAEsC,UAAW,SAAUF,QAAS,UAAW/E,SAAA,CACrDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIE,aAAc,IAAK7F,SAAC,iBAChDI,cAAA,OAAKuC,MAAO,CAAEgD,SAAU,GAAIC,WAAY,IAAKF,MAAO,UAAWG,aAAc,GAAI7F,SAAE9B,EAAE,4BACrFkC,cAAA,OAAKuC,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIE,aAAc,IAAK7F,SAAE9B,EAAE,wCACrE4B,eAACG,IAAI,CAACC,GAAG,gBAAgBH,UAAU,aAAa4C,MAAO,CAAEkC,WAAY,oDAAqDa,MAAO,QAASV,OAAQ,OAAQF,aAAc,EAAGC,QAAS,YAAaY,SAAU,GAAIC,WAAY,IAAKmqB,eAAgB,OAAQjqB,UAAW,qCAAsC9F,SAAA,CAAC,KACrS9B,EAAE,0BAITiN,OAAOC,QAxEiBxD,KAC9B,MAAMi/B,EAAU,CAAC,EAKjB,OAJCj/B,GAAW,IAAIuT,QAASlH,IAClB4yB,EAAQ5yB,EAAKuhB,YAAWqR,EAAQ5yB,EAAKuhB,UAAY,IACtDqR,EAAQ5yB,EAAKuhB,UAAU7a,KAAK1G,KAEvB4yB,GAkEc1M,CAAuBH,IAAgB74B,IAAIi6B,IAAA,IAAE5F,EAAUmP,GAAMvJ,EAAA,OAC1Et7B,eAAA,OAAoB6C,MAAO,CAAEkD,aAAc,IAAK7F,SAAA,CAC9CF,eAAA,OAAK6C,MAAO,CAAEuC,QAAS,OAAQC,WAAY,SAAUE,IAAK,GAAIQ,aAAc,IAAK7F,SAAA,CAC/EI,cAAA,QAAMuC,MAAO,CAAEgD,SAAU,GAAID,MAAOghC,EAAelR,IAAYx1B,SAAEymC,EAAcjR,KAC/Ep1B,cAAA,QAAMuC,MAAO,CAAEiD,WAAY,IAAKD,SAAU,GAAID,MAAO,WAAY1F,SAAE9B,EAAE,yBAADV,OAA0Bg4B,KAAeA,IAC7G11B,eAAA,QAAM6C,MAAO,CAAE+C,MAAO,UAAWC,SAAU,GAAIC,WAAY,IAAKiuB,WAAY,GAAI7zB,SAAA,CAAC,IAAE2kC,EAAM3lC,OAAO,QAAM2lC,EAAM3lC,OAAS,EAAI,IAAM,GAAG,UAEpIoB,cAAA,OAAKL,UAAU,YAAY4C,MAAO,CAAEuC,QAAS,OAAQe,oBAAqB,uCAAwCZ,IAAK,IAAKrF,SACzH2kC,EAAMxjC,IAAK8S,GACV7T,cAAColC,EAAQ,CAEPvxB,KAAMA,EACNuhB,SAAUA,EACViQ,aAAcgB,EAAcjR,GAC5BkQ,cAAegB,EAAelR,GAC9BmQ,SAAUY,KAAgBtyB,EAAK6c,KAAO7c,EAAKrT,IAC3CglC,SAAWhlC,GAAO4lC,EAAc5lC,GAChCilC,WAAYA,IAAMW,EAAc,OAP3BvyB,EAAK6c,KAAO7c,EAAKrT,SATpB40B,WCpMPsR,MA9BsBA,KACnC,MAAM,EAAE5oC,GAAME,cACd,OACEgC,cAAA,OAAKL,UAAU,sCAAsC4C,MAAO,CAAEusB,UAAW,QAASrqB,WAAY,oDAAqDE,QAAS,GAAI/E,SAC9JF,eAAA,OAAK6C,MAAO,CAAEysB,SAAU,IAAKrpB,OAAQ,YAAalB,WAAY,yBAA0BC,aAAc,GAAIgB,UAAW,8BAA+Bf,QAAS,GAAI/E,SAAA,CAC/JF,eAAA,OAAK6C,MAAO,CACVkC,WAAY,oDACZE,QAAS,sBACTgiC,oBAAqB,GACrBC,qBAAsB,GACtB/hC,UAAW,SACXS,MAAO,QACP1F,SAAA,CACAI,cAAA,MAAIuC,MAAO,CAAEiD,WAAY,IAAKD,SAAU,GAAII,OAAQ,GAAI/F,SAAE9B,EAAE,mCAC5DkC,cAAA,KAAGuC,MAAO,CAAEgD,SAAU,GAAII,OAAQ,aAAcL,MAAO,WAAY1F,SAAE9B,EAAE,yCAEzE4B,eAAA,OAAK6C,MAAO,CAAEoC,QAAS,IAAK/E,SAAA,CAC1BF,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,GAAIH,MAAO,UAAWC,SAAU,GAAIV,UAAW,UAAWjF,SAAA,CACnF9B,EAAE,sCAAsC,IAACkC,cAAA,SACzClC,EAAE,4CAA4C,IAACkC,cAAA,SAC/ClC,EAAE,yCAAyC,IAACkC,cAAA,SAC5ClC,EAAE,wCAAwC,OAE7CkC,cAAC67B,EAAsB,a,MCvBjC,MAAMgL,EAAY,CAChB,CAAE3+B,IAAK,WAAY/J,KAAM,WAAYuD,KAAM,eAAM4D,MAAO,WACxD,CAAE4C,IAAK,SAAU/J,KAAM,SAAUuD,KAAM,eAAM4D,MAAO,WACpD,CAAE4C,IAAK,UAAW/J,KAAM,UAAWuD,KAAM,eAAM4D,MAAO,WACtD,CAAE4C,IAAK,WAAY/J,KAAM,WAAYuD,KAAM,eAAM4D,MAAO,YAG3C,SAASwhC,IACtB,MAAM,EAAEhpC,GAAME,eACP4E,EAAOC,GAAYoyB,IAAMx3B,SAAS,IAMzC,OACEuC,cAAA,OAAKL,UAAU,WAAUC,SACvBF,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,MAAIL,UAAU,cAAaC,SAAE9B,EAAE,gBAAkB,4BACjDkC,cAAA,KAAGL,UAAU,iBAAgBC,SAAE9B,EAAE,mBAAqB,mCACrD8E,GAAS5C,cAAA,OAAKL,UAAU,cAAaC,SAAEgD,IACxC5C,cAAA,OAAKL,UAAU,kBAAiBC,SAC7BinC,EAAU9lC,IAAK+xB,GACdpzB,eAAA,UAEEC,UAAU,YACV4C,MAAO,CAAEkC,WAAYquB,EAAExtB,OACvBvF,QAASA,KAAMgnC,OAhBNjjC,EAgBkBgvB,EAAE5qB,SAfvC1L,OAAOC,SAASg/B,KAAO5+B,oBAAU,SAADO,OAAU0G,KADvBA,OAgByBlE,SAAA,CAElCI,cAAA,QAAML,UAAU,iBAAgBC,SAAEkzB,EAAEpxB,OACnC5D,EAAE,aAADV,OAAc01B,EAAE30B,QAAO,iBAAAf,OAAqB01B,EAAE30B,QAN3C20B,EAAE5qB,QAUblI,cAAA,OAAKL,UAAU,eAAcC,SAC3BF,eAAA,QAAAE,SAAA,CAAM,cAAWI,cAAA,KAAGy7B,KAAK,gCAAgC97B,UAAU,qBAAoBC,SAAC,6BAKlG,CCvCe,SAASonC,IACtB,MAAM,EAAElpC,GAAME,cACRipC,EAAWplB,eACVqlB,EAAMC,GAAW1pC,mBAAS,CAAEU,KAAM,GAAIipC,MAAO,GAAIC,SAAU,GAAIC,gBAAiB,MAChF1kC,EAAOC,GAAYpF,mBAAS,KAC5BgG,EAAS8jC,GAAc9pC,mBAAS,KAChCiF,EAASC,GAAclF,oBAAS,IAChC+pC,EAAcC,GAAmBhqC,oBAAS,IAC1CiqC,EAAqBC,GAA0BlqC,oBAAS,GAEzDmqC,EAAgBjnC,IACpBwmC,EAAO3iC,wBAAC,CAAC,EAAI0iC,GAAI,IAAE,CAACvmC,EAAEG,OAAO3C,MAAOwC,EAAEG,OAAOL,SAC7CoC,EAAS,IACT0kC,EAAW,KAmDb,OACEvnC,cAAA,OAAKL,UAAU,WAAUC,SACvBF,eAAA,QAAMC,UAAU,aAAYC,SAAA,CAC1BI,cAAA,MAAIL,UAAU,cAAaC,SAAE9B,EAAE,iBAAmB,wBAClDkC,cAAA,KAAGL,UAAU,iBAAgBC,SAAE9B,EAAE,oBAAsB,4BACtD8E,GAAS5C,cAAA,OAAKL,UAAU,cAAaC,SAAEgD,IACvCa,GAAWzD,cAAA,OAAKL,UAAU,gBAAeC,SAAE6D,IAC5C/D,eAAA,QAAM6I,SAnCSxF,UAEnB,GADApC,EAAE6H,iBApBG0+B,EAAKE,OAAUF,EAAKG,UAAaH,EAAKI,gBAItC,6BAA6Br5B,KAAKi5B,EAAKE,OAIxCF,EAAKG,SAASzoC,OAAS,GACzBiE,EAAS/E,EAAE,yBAA2B,2CAC/B,GAELopC,EAAKG,WAAaH,EAAKI,kBACzBzkC,EAAS/E,EAAE,8BAAgC,2BACpC,IATP+E,EAAS/E,EAAE,sBAAwB,yBAC5B,IALP+E,EAAS/E,EAAE,yBAA2B,oCAC/B,GAmBT,CACA6E,GAAW,GACXE,EAAS,IACT0kC,EAAW,IACX,IACE,MAAMtkC,QAAYC,MAAMrG,oBAAU,kBAAmB,CACnD4K,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE1J,KAAM+oC,EAAK/oC,KAAMipC,MAAOF,EAAKE,MAAOC,SAAUH,EAAKG,aAEtE9jC,QAAaN,EAAIO,OACnBP,EAAIE,IAAMI,EAAKE,SACjB8jC,EAAWzpC,EAAE,mBAAqB,qDAClCqpC,EAAQ,CAAEhpC,KAAM,GAAIipC,MAAO,GAAIC,SAAU,GAAIC,gBAAiB,KAC9Dp4B,WAAW,KACT+3B,EAAS,WACR,OAEHpkC,EAASU,EAAKX,OAAS9E,EAAE,wBAA0B,4BAEvD,CAAE,MAAOgL,GACPjG,EAAS/E,EAAE,wBAA0B,mCACvC,CACA6E,GAAW,EAvBY,GAiCWJ,MAAO,CAAE2C,MAAO,QAAU0lB,aAAa,MAAKhrB,SAAA,CACxEI,cAAA,OAAKuC,MAAO,CAAEkD,aAAc,IAAK7F,SAC/BI,cAAA,SACEkJ,KAAK,OACL/K,KAAK,OACLwB,UAAU,cACVoJ,YAAajL,EAAE,gBAAkB,kBACjC2C,MAAOymC,EAAK/oC,KACZuC,SAAUknC,EACVhd,aAAa,WAGjB5qB,cAAA,OAAKuC,MAAO,CAAEkD,aAAc,IAAK7F,SAC/BI,cAAA,SACEkJ,KAAK,QACL/K,KAAK,QACLwB,UAAU,cACVoJ,YAAajL,EAAE,iBAAmB,QAClC2C,MAAOymC,EAAKE,MACZ1mC,SAAUknC,EACVhd,aAAa,QACbtgB,UAAQ,MAGZ5K,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,GAAIkP,SAAU,YAAa/U,SAAA,CACrDI,cAAA,SACEkJ,KAAMs+B,EAAe,OAAS,WAC9BrpC,KAAK,WACLwB,UAAU,cACVoJ,YAAajL,EAAE,oBAAsB,WACrC2C,MAAOymC,EAAKG,SACZ3mC,SAAUknC,EACVhd,aAAa,eACbtgB,UAAQ,IAEVtK,cAAA,UACEkJ,KAAK,SACLvJ,UAAU,YACV4C,MAAO,CACLoS,SAAU,WACV8a,MAAO,EACPD,IAAK,EACL/qB,WAAY,OACZa,MAAO,UACPC,SAAU,GACVZ,QAAS,UACTC,OAAQ,OACR0qB,OAAQ,UACR5pB,UAAW,OACXR,MAAO,OACPgrB,SAAU,GAEZ8H,UAAW,EACXj4B,QAASA,IAAM0nC,EAAiBI,IAAOA,GAAGjoC,SAEzC4nC,EAAe,eAAO,0BAG3B9nC,eAAA,OAAK6C,MAAO,CAAEkD,aAAc,GAAIkP,SAAU,YAAa/U,SAAA,CACrDI,cAAA,SACEkJ,KAAMw+B,EAAsB,OAAS,WACrCvpC,KAAK,kBACLwB,UAAU,cACVoJ,YAAajL,EAAE,2BAA6B,mBAC5C2C,MAAOymC,EAAKI,gBACZ5mC,SAAUknC,EACVhd,aAAa,eACbtgB,UAAQ,IAEVtK,cAAA,UACEkJ,KAAK,SACLvJ,UAAU,YACV4C,MAAO,CACLoS,SAAU,WACV8a,MAAO,EACPD,IAAK,EACL/qB,WAAY,OACZa,MAAO,UACPC,SAAU,GACVZ,QAAS,UACTC,OAAQ,OACR0qB,OAAQ,UACR5pB,UAAW,OACXR,MAAO,OACPgrB,SAAU,GAEZ8H,UAAW,EACXj4B,QAASA,IAAM4nC,EAAwBE,IAAOA,GAAGjoC,SAEhD8nC,EAAsB,eAAO,0BAGlC1nC,cAAA,UACEkJ,KAAK,SACLvJ,UAAU,YACV4C,MAAO,CAAE2C,MAAO,OAAQT,WAAY,WACpC0E,SAAUzG,EAAQ9C,SAEjB8C,EAAU5E,EAAE,mBAAqB,gBAAkBA,EAAE,kBAAoB,eAG9EkC,cAAA,OAAKL,UAAU,eAAe4C,MAAO,CAAE8D,UAAW,IAAKzG,SACrDF,eAAA,QAAAE,SAAA,CACG9B,EAAE,uBAAyB,2BAA4B,IACxDkC,cAAA,KAAGy7B,KAAK,SAAS97B,UAAU,qBAAoBC,SAAE9B,EAAE,qBAAuB,oBAMtF,CCrHegqC,MAnCf,WACE,MAAM,gBAAEC,GAdV,WAEE,MAAOA,EAAiBC,GAAsB/S,IAAMx3B,UAAS,GAQ7D,OAPAw3B,IAAMp2B,UAAU,KAEdqE,MAAM,oBAAqB,CAAE+5B,YAAa,YACvCtrB,KAAK1O,GAAOA,EAAIO,QAChBmO,KAAKpO,GAAQykC,IAAqBzkC,EAAK0kC,OACvClgC,MAAM,IAAMigC,GAAmB,KACjC,IACI,CAAED,kBACX,CAG8BG,GAC5B,OACEloC,cAACmoC,IAAM,CAAAvoC,SACLF,eAAA,OAAKC,UAAU,MAAKC,SAAA,CAClBI,cAAC3C,EAAM,IACPqC,eAAC0oC,IAAM,CAAAxoC,SAAA,CACLI,cAACqoC,IAAK,CAACC,KAAK,SAASC,QAASvoC,cAAC8mC,EAAK,MACpC9mC,cAACqoC,IAAK,CAACC,KAAK,UAAUC,QAASvoC,cAACgnC,EAAM,MACtChnC,cAACqoC,IAAK,CAACC,KAAK,IAAIC,QAASvoC,cAACgB,EAAU,MACpChB,cAACqoC,IAAK,CAACC,KAAK,SAASC,QAASvoC,cAACuG,EAAI,MACnCvG,cAACqoC,IAAK,CAACC,KAAK,gBAAgBC,QAASvoC,cAACuJ,EAAW,MACjDvJ,cAACqoC,IAAK,CAACC,KAAK,gBAAgBC,QAASvoC,cAACge,EAAW,MACjDhe,cAACqoC,IAAK,CAACC,KAAK,SAASC,QAASvoC,cAACge,EAAW,MAC1Che,cAACqoC,IAAK,CAACC,KAAK,oBAAoBC,QAASvoC,cAAC4hB,EAAe,MACzD5hB,cAACqoC,IAAK,CAACC,KAAK,YAAYC,QAASvoC,cAAC4hB,EAAe,MACjD5hB,cAACqoC,IAAK,CAACC,KAAK,kBAAkBC,QAASvoC,cAAC+lB,EAAa,MACrD/lB,cAACqoC,IAAK,CAACC,KAAK,WAAWC,QAASvoC,cAAC+lB,EAAa,MAC9C/lB,cAACqoC,IAAK,CAACC,KAAK,gBAAgBC,QAASvoC,cAACyoB,EAAW,MACjDzoB,cAACqoC,IAAK,CAACC,KAAK,cAAcC,QAASvoC,cAACmtB,EAAS,MAC7CntB,cAACqoC,IAAK,CAACC,KAAK,QAAQC,QAASvoC,cAACmtB,EAAS,MACvCntB,cAACqoC,IAAK,CAACC,KAAK,mBAAmBC,QAASvoC,cAAC+wB,EAAQ,MACjD/wB,cAACqoC,IAAK,CAACC,KAAK,oBAAoBC,QAASvoC,cAACo0B,EAAuB,MACjEp0B,cAACqoC,IAAK,CAACC,KAAK,cAAcC,QAASvoC,cAAC80B,EAAS,MAC7C90B,cAACqoC,IAAK,CAACC,KAAK,gBAAgBC,QAASvoC,cAACggC,EAAe,MACrDhgC,cAACqoC,IAAK,CAACC,KAAK,wBAAwBC,QAASvoC,cAACkmC,EAAsB,MACpElmC,cAACqoC,IAAK,CAACC,KAAK,4BAA4BC,QAASvoC,cAAC0mC,EAA4B,MAE9E1mC,cAACqoC,IAAK,CAACC,KAAK,UAAUC,QAASR,EAAkB/nC,cAAC0mC,EAA4B,IAAM1mC,cAACwoC,IAAQ,CAAC1oC,GAAG,oBAK3G,E,4CC7DA/B,IACG0qC,IAAIC,MACJD,IAAIE,MACJC,KAAK,CACJC,UAAW,CACTC,GAAI,CAAEC,YAAaD,IACnBE,GAAI,CAAED,YAAaC,KAErBC,YAAa,KACbC,cAAe,CAAEC,aAAa,KAGnBprC,EAAI,ECbnBqrC,IAASC,OACPrpC,cAACi1B,IAAMqU,WAAU,CAAA1pC,SACfI,cAAC8nC,EAAG,MAENj2B,SAAS03B,eAAe,Q","file":"static/js/main.83a3f145.chunk.js","sourcesContent":["// API Configuration\nconst API_CONFIG = {\n  // Development environment\n  development: {\n    baseURL: 'http://localhost:3001/api',\n    timeout: 30000\n  },\n  // Production environment (Render backend)\n  production: {\n    baseURL: process.env.REACT_APP_API_URL || 'https://vmarketing-backend-server.onrender.com/api',\n    timeout: 30000\n  }\n};\n\n// Get current environment - force production if we're on Netlify\nconst isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\nconst environment = isNetlify ? 'production' : (process.env.NODE_ENV || 'development');\n\n// Export the appropriate config\nexport const apiConfig = API_CONFIG[environment];\n\n// Helper function to get full API URL\nexport const getApiUrl = (endpoint) => {\n  console.log('🔧 API Config Debug:', {\n    environment: process.env.NODE_ENV,\n    isNetlify: window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app'),\n    hostname: window.location.hostname,\n    baseURL: apiConfig.baseURL,\n    REACT_APP_API_URL: process.env.REACT_APP_API_URL,\n    selectedEnvironment: environment\n  });\n  \n  if (!apiConfig.baseURL || apiConfig.baseURL.includes('your-render-app')) {\n    console.warn('⚠️ API URL not configured. Please set REACT_APP_API_URL environment variable.');\n    return null;\n  }\n  return `${apiConfig.baseURL}${endpoint}`;\n};\n\n// Default export\nexport default apiConfig; ","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport './Header.css';\nimport { useTranslation } from 'react-i18next';\n\nconst Header = () => {\n    const location = useLocation();\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [isMobile, setIsMobile] = useState(false);\n    const [openDropdown, setOpenDropdown] = useState(null);\n    const { t, i18n } = useTranslation();\n\n    // Language configuration with flags\n    const languages = [\n        { code: 'en', name: t('english'), flag: '🇺🇸', shortName: 'EN', supported: true },\n        { code: 'vi', name: t('vietnamese'), flag: '🇻🇳', shortName: 'VI', supported: true },\n        { code: 'es', name: 'Español', flag: '🇪🇸', shortName: 'ES', supported: false },\n        { code: 'fr', name: 'Français', flag: '🇫🇷', shortName: 'FR', supported: false },\n        { code: 'de', name: 'Deutsch', flag: '🇩🇪', shortName: 'DE', supported: false },\n        { code: 'zh', name: '中文', flag: '🇨🇳', shortName: 'ZH', supported: false },\n        { code: 'ja', name: '日本語', flag: '🇯🇵', shortName: 'JA', supported: false },\n        { code: 'ko', name: '한국어', flag: '🇰🇷', shortName: 'KO', supported: false }\n    ];\n\n    // Filter to only show supported languages\n    const supportedLanguages = languages.filter(lang => lang.supported);\n\n    // Function to get flag emoji with fallback\n    const getFlagEmoji = (countryCode) => {\n        const flagMap = {\n            'en': '🇺🇸',\n            'vi': '🇻🇳',\n            'es': '🇪🇸',\n            'fr': '🇫🇷',\n            'de': '🇩🇪',\n            'zh': '🇨🇳',\n            'ja': '🇯🇵',\n            'ko': '🇰🇷'\n        };\n        \n        // Simple fallback check - if the flag renders as a single character, it's likely supported\n        const testFlag = flagMap[countryCode] || '🇺🇸';\n        \n        // Try to detect if emoji is supported by checking if it's a single character\n        // This is a simple heuristic that works in most cases\n        if (testFlag.length === 2) { // Flag emojis are typically 2 characters in JS\n            return flagMap[countryCode] || '🌐';\n        } else {\n            // Fallback to country codes if flags don't render properly\n            const codeMap = {\n                'en': '🇺🇸',\n                'vi': '🇻🇳',\n                'es': '🇪🇸',\n                'fr': '🇫🇷',\n                'de': '🇩🇪',\n                'zh': '🇨🇳',\n                'ja': '🇯🇵',\n                'ko': '🇰🇷'\n            };\n            return codeMap[countryCode] || '🌐';\n        }\n    };\n\n    // Check if screen is mobile size\n    useEffect(() => {\n        const checkMobile = () => {\n            setIsMobile(window.innerWidth <= 768);\n        };\n        \n        checkMobile();\n        window.addEventListener('resize', checkMobile);\n        \n        return () => window.removeEventListener('resize', checkMobile);\n    }, []);\n\n    const toggleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    };\n\n    const closeMenu = () => {\n        setIsMenuOpen(false);\n        setOpenDropdown(null);\n    };\n\n    const changeLanguage = (lng) => {\n        i18n.changeLanguage(lng);\n    };\n\n    // Dropdown handlers\n    const handleDropdownToggle = (dropdownName) => {\n        if (isMobile) {\n            setOpenDropdown(openDropdown === dropdownName ? null : dropdownName);\n        }\n    };\n\n    const handleDropdownHover = (dropdownName) => {\n        if (!isMobile) {\n            setOpenDropdown(dropdownName);\n        }\n    };\n\n    const handleDropdownLeave = () => {\n        if (!isMobile) {\n            setOpenDropdown(null);\n        }\n    };\n\n    // Get current language info\n    const currentLanguage = supportedLanguages.find(lang => lang.code === i18n.language) || supportedLanguages[0];\n\n    return (\n        <header className=\"header\">\n            <div className=\"header-content\">\n                <Link to=\"/\" className=\"logo\" onClick={closeMenu}>\n                    <span className=\"logo-icon\">⭐</span>\n                    <span className=\"logo-text\">Vmarketing</span>\n                </Link>\n                \n                {/* Mobile hamburger menu */}\n                <button \n                    className={`hamburger ${isMenuOpen ? 'active' : ''}`}\n                    onClick={toggleMenu}\n                    aria-label=\"Toggle navigation menu\"\n                >\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </button>\n                \n                <nav className={`nav-menu ${isMenuOpen ? 'active' : ''}`}>\n                    {/* Home */}\n                    <Link \n                        to=\"/\" \n                        className={`nav-link ${location.pathname === '/' ? 'active' : ''}`}\n                        onClick={closeMenu}\n                    >\n                        🏠 {t('menu.home')}\n                    </Link>\n                    \n                    {/* Content Generation Group */}\n                    <div \n                        className={`nav-group dropdown ${openDropdown === 'content' ? 'open' : ''}`}\n                        onMouseEnter={() => handleDropdownHover('content')}\n                        onMouseLeave={handleDropdownLeave}\n                    >\n                        <div \n                            className=\"nav-group-header\"\n                            onClick={() => handleDropdownToggle('content')}\n                        >\n                        <div className=\"nav-group-label\">Content Creation</div>\n                            <span className=\"dropdown-arrow\">▼</span>\n                        </div>\n                        <div className=\"dropdown-menu\">\n                        <Link \n                            to=\"/voice\" \n                            className={`nav-link ${location.pathname === '/voice' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            🎤 {t('menu.voice')}\n                        </Link>\n                        <Link \n                            to=\"/history\" \n                            className={`nav-link ${location.pathname === '/history' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            📚 {t('menu.history')}\n                        </Link>\n                        </div>\n                    </div>\n                    \n                    {/* AI & Tools Group */}\n                    <div \n                        className={`nav-group dropdown ${openDropdown === 'ai' ? 'open' : ''}`}\n                        onMouseEnter={() => handleDropdownHover('ai')}\n                        onMouseLeave={handleDropdownLeave}\n                    >\n                        <div \n                            className=\"nav-group-header\"\n                            onClick={() => handleDropdownToggle('ai')}\n                        >\n                        <div className=\"nav-group-label\">AI & Tools</div>\n                            <span className=\"dropdown-arrow\">▼</span>\n                        </div>\n                        <div className=\"dropdown-menu\">\n                        <Link \n                            to=\"/llama\" \n                            className={`nav-link ${location.pathname === '/llama' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            🤖 {t('menu.llama')}\n                        </Link>\n                        </div>\n                    </div>\n                    \n                    {/* Content Management Group */}\n                    <div \n                        className={`nav-group dropdown ${openDropdown === 'management' ? 'open' : ''}`}\n                        onMouseEnter={() => handleDropdownHover('management')}\n                        onMouseLeave={handleDropdownLeave}\n                    >\n                        <div \n                            className=\"nav-group-header\"\n                            onClick={() => handleDropdownToggle('management')}\n                        >\n                        <div className=\"nav-group-label\">Content Management</div>\n                            <span className=\"dropdown-arrow\">▼</span>\n                        </div>\n                        <div className=\"dropdown-menu\">\n                        <Link \n                            to=\"/blog\" \n                            className={`nav-link ${location.pathname.startsWith('/blog') && !location.pathname.includes('/blog-creator') ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            📝 {t('menu.blog')}\n                        </Link>\n                        <Link \n                            to=\"/blog-creator\" \n                            className={`nav-link ${location.pathname === '/blog-creator' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            ✍️ {t('menu.blogCreator')}\n                        </Link>\n                        <Link \n                            to=\"/social-media\" \n                            className={`nav-link ${location.pathname === '/social-media' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            📱 {t('menu.socialMedia')}\n                        </Link>\n                        <Link \n                            to=\"/social-media-history\" \n                            className={`nav-link ${location.pathname === '/social-media-history' ? 'active' : ''}`}\n                            onClick={closeMenu}\n                        >\n                            📚 {t('menu.socialMediaHistory') || 'Social Media History'}\n                        </Link>\n                            <Link \n                                to=\"/social-media-integration\" \n                                className={`nav-link ${location.pathname === '/social-media-integration' ? 'active' : ''}`}\n                                onClick={closeMenu}\n                            >\n                                🔗 {t('socialMedia.integration.title')}\n                            </Link>\n                        </div>\n                    </div>\n                    \n                    {/* Additional Services */}\n                    <Link \n                        to=\"/customer-service\" \n                        className={`nav-link ${location.pathname === '/customer-service' ? 'active' : ''}`}\n                        onClick={closeMenu}\n                    >\n                        👨‍💼 {t('menu.customerService')}\n                    </Link>\n                    <Link to=\"/login\" className=\"nav-link\">\n                        <span role=\"img\" aria-label=\"login\">🔑</span> {t('header.login') || 'Login'}\n                    </Link>\n                    <Link to=\"/signup\" className=\"nav-link\">\n                        <span role=\"img\" aria-label=\"signup\">🆕</span> {t('signup.submit') || 'Sign Up'}\n                    </Link>\n                </nav>\n            </div>\n            \n            {/* Mobile menu overlay */}\n            {isMenuOpen && (\n                <div className=\"mobile-overlay\" onClick={closeMenu}></div>\n            )}\n\n            <div className=\"language-selector\">\n                <label \n                    htmlFor=\"lang-switch\" \n                >\n                    {isMobile ? '🌐' : `${getFlagEmoji(currentLanguage.code)} ${t('language')}`}:\n                </label>\n                <select\n                    id=\"lang-switch\"\n                    value={i18n.language}\n                    onChange={e => changeLanguage(e.target.value)}\n                >\n                    {supportedLanguages.map(lang => (\n                        <option key={lang.code} value={lang.code}>\n                            {getFlagEmoji(lang.code)} {isMobile ? lang.shortName : lang.name}\n                        </option>\n                    ))}\n                </select>\n            </div>\n        </header>\n    );\n};\n\nexport default Header; ","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './HomeScreen.css';\nimport { useTranslation } from 'react-i18next';\n\nconst HomeScreen = () => {\n    const { t } = useTranslation();\n    const [currentFeature, setCurrentFeature] = useState(0);\n    const [isVisible, setIsVisible] = useState(false);\n\n    useEffect(() => {\n        setIsVisible(true);\n        const interval = setInterval(() => {\n            setCurrentFeature((prev) => (prev + 1) % 6);\n        }, 3000);\n        return () => clearInterval(interval);\n    }, []);\n\n    const features = [\n        { icon: '🎤', title: t('homeScreen.voiceRecognitionTitle'), desc: t('homeScreen.voiceRecognitionDescription'), link: '/voice-review' },\n        { icon: '✍️', title: t('homeScreen.reviewGeneratorTitle'), desc: t('homeScreen.reviewGeneratorDescription'), link: '/review-generator' },\n        { icon: '📝', title: t('homeScreen.blogCreatorTitle'), desc: t('homeScreen.blogCreatorDescription'), link: '/blog-creator' },\n        { icon: '📱', title: t('homeScreen.socialMediaPostsTitle'), desc: t('homeScreen.socialMediaPostsDescription'), link: '/social-media' },\n        { icon: '👨‍💼', title: t('homeScreen.customerServiceTitle'), desc: t('homeScreen.customerServiceDescription'), link: '/customer-service' },\n        { icon: '🚀', title: t('homeScreen.enhancedLLMTitle'), desc: t('homeScreen.enhancedLLMDescription'), link: '/enhanced-llm' }\n    ];\n\n    return (\n        <div className={`home-screen ${isVisible ? 'visible' : ''}`}>\n            {/* Hero Section */}\n            <section className=\"hero-section\">\n                <div className=\"hero-background\">\n                    <div className=\"hero-particles\"></div>\n                </div>\n                <div className=\"hero-content\">\n                    <div className=\"hero-badge\">\n                        <span className=\"badge-icon\">✨</span>\n                        <span className=\"badge-text\">AI-Powered Content Creation</span>\n                    </div>\n                    <h1 className=\"hero-title\">\n                        <span className=\"title-line\">Transform Your</span>\n                        <span className=\"title-highlight\">Voice & Ideas</span>\n                        <span className=\"title-line\">Into Amazing Content</span>\n                    </h1>\n                    <p className=\"hero-subtitle\">\n                        Create engaging reviews, blog posts, and social media content with the power of AI. \n                        From voice recognition to intelligent content generation - everything you need in one place.\n                    </p>\n                    <div className=\"hero-stats\">\n                        <div className=\"stat-item\">\n                            <span className=\"stat-number\">10K+</span>\n                            <span className=\"stat-label\">Content Created</span>\n                        </div>\n                        <div className=\"stat-item\">\n                            <span className=\"stat-number\">98%</span>\n                            <span className=\"stat-label\">Accuracy Rate</span>\n                        </div>\n                        <div className=\"stat-item\">\n                            <span className=\"stat-number\">24/7</span>\n                            <span className=\"stat-label\">AI Available</span>\n                        </div>\n                    </div>\n                    <div className=\"hero-actions\">\n                        <Link to=\"/voice-review\" className=\"hero-btn primary\">\n                            <span className=\"btn-icon\">🎤</span>\n                            <span className=\"btn-text\">Start with Voice</span>\n                            <span className=\"btn-arrow\">→</span>\n                        </Link>\n                        <Link to=\"/review-generator\" className=\"hero-btn secondary\">\n                            <span className=\"btn-icon\">✍️</span>\n                            <span className=\"btn-text\">Write Review</span>\n                        </Link>\n                        <Link to=\"/blog-creator\" className=\"hero-btn tertiary\">\n                            <span className=\"btn-icon\">📝</span>\n                            <span className=\"btn-text\">Create Blog</span>\n                        </Link>\n                    </div>\n                </div>\n            </section>\n\n            {/* Features Showcase */}\n            <section className=\"features-showcase\">\n                <div className=\"container\">\n                    <div className=\"section-header\">\n                        <h2 className=\"section-title\">Everything You Need to Create Amazing Content</h2>\n                        <p className=\"section-subtitle\">Powerful tools designed to make content creation effortless and engaging</p>\n                    </div>\n                    \n                    <div className=\"features-grid\">\n                        {features.map((feature, index) => (\n                            <div key={index} className={`feature-card ${index === currentFeature ? 'active' : ''}`}>\n                                <div className=\"feature-icon-wrapper\">\n                                    <span className=\"feature-icon\">{feature.icon}</span>\n                                </div>\n                                <div className=\"feature-content\">\n                                    <h3 className=\"feature-title\">{feature.title}</h3>\n                                    <p className=\"feature-description\">{feature.desc}</p>\n                                    <Link to={feature.link} className=\"feature-link\">\n                                        <span>Get Started</span>\n                                        <span className=\"link-arrow\">→</span>\n                                    </Link>\n                                </div>\n                                <div className=\"feature-bg\"></div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </section>\n\n            {/* How It Works */}\n            <section className=\"how-it-works\">\n                <div className=\"container\">\n                    <div className=\"section-header\">\n                        <h2 className=\"section-title\">How It Works</h2>\n                        <p className=\"section-subtitle\">Three simple steps to create professional content</p>\n                    </div>\n                    \n                    <div className=\"steps-container\">\n                        <div className=\"step-item\">\n                            <div className=\"step-number\">1</div>\n                            <div className=\"step-icon\">🎤</div>\n                            <h3 className=\"step-title\">Speak or Type</h3>\n                            <p className=\"step-description\">Use voice recognition or type your ideas. Our AI understands natural language.</p>\n                        </div>\n                        <div className=\"step-connector\"></div>\n                        <div className=\"step-item\">\n                            <div className=\"step-number\">2</div>\n                            <div className=\"step-icon\">🤖</div>\n                            <h3 className=\"step-title\">AI Processing</h3>\n                            <p className=\"step-description\">Advanced AI analyzes your content and enhances it for maximum engagement.</p>\n                        </div>\n                        <div className=\"step-connector\"></div>\n                        <div className=\"step-item\">\n                            <div className=\"step-number\">3</div>\n                            <div className=\"step-icon\">✨</div>\n                            <h3 className=\"step-title\">Perfect Content</h3>\n                            <p className=\"step-description\">Get polished, platform-optimized content ready to publish anywhere.</p>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            {/* Service Categories */}\n            <section className=\"service-categories\">\n                <div className=\"container\">\n                    <div className=\"section-header\">\n                        <h2 className=\"section-title\">Complete Content Creation Suite</h2>\n                        <p className=\"section-subtitle\">Everything you need for modern content marketing</p>\n                    </div>\n                    \n                    <div className=\"categories-grid\">\n                        <div className=\"category-card writing\">\n                            <div className=\"category-header\">\n                                <div className=\"category-icon\">📝</div>\n                                <h3 className=\"category-title\">Writing & Content</h3>\n                            </div>\n                            <ul className=\"category-features\">\n                                <li>Review Generation</li>\n                                <li>Blog Post Creation</li>\n                                <li>Social Media Content</li>\n                                <li>Product Descriptions</li>\n                            </ul>\n                            <div className=\"category-footer\">\n                                <span className=\"feature-count\">4 Tools</span>\n                            </div>\n                        </div>\n                        \n                        <div className=\"category-card voice\">\n                            <div className=\"category-header\">\n                                <div className=\"category-icon\">🎤</div>\n                                <h3 className=\"category-title\">Voice & Audio</h3>\n                            </div>\n                            <ul className=\"category-features\">\n                                <li>Voice-to-Text Conversion</li>\n                                <li>Audio Content Analysis</li>\n                                <li>Voice Review Generation</li>\n                                <li>Speech Enhancement</li>\n                            </ul>\n                            <div className=\"category-footer\">\n                                <span className=\"feature-count\">4 Tools</span>\n                            </div>\n                        </div>\n                        \n                        <div className=\"category-card ai\">\n                            <div className=\"category-header\">\n                                <div className=\"category-icon\">🤖</div>\n                                <h3 className=\"category-title\">AI Enhancement</h3>\n                            </div>\n                            <ul className=\"category-features\">\n                                <li>Content Quality Analysis</li>\n                                <li>Engagement Optimization</li>\n                                <li>Style & Tone Adjustment</li>\n                                <li>Multi-Platform Optimization</li>\n                            </ul>\n                            <div className=\"category-footer\">\n                                <span className=\"feature-count\">4 Tools</span>\n                            </div>\n                        </div>\n                        \n                        <div className=\"category-card business\">\n                            <div className=\"category-header\">\n                                <div className=\"category-icon\">💼</div>\n                                <h3 className=\"category-title\">Business Solutions</h3>\n                            </div>\n                            <ul className=\"category-features\">\n                                <li>Customer Service Responses</li>\n                                <li>Marketing Content</li>\n                                <li>Brand Voice Consistency</li>\n                                <li>Content Strategy</li>\n                            </ul>\n                            <div className=\"category-footer\">\n                                <span className=\"feature-count\">4 Tools</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            {/* Testimonials */}\n            <section className=\"testimonials\">\n                <div className=\"container\">\n                    <div className=\"section-header\">\n                        <h2 className=\"section-title\">Loved by Content Creators</h2>\n                        <p className=\"section-subtitle\">See what our users are saying</p>\n                    </div>\n                    \n                    <div className=\"testimonials-grid\">\n                        <div className=\"testimonial-card\">\n                            <div className=\"testimonial-content\">\n                                <p>\"This app has revolutionized how I create content. The voice recognition is incredibly accurate!\"</p>\n                            </div>\n                            <div className=\"testimonial-author\">\n                                <div className=\"author-avatar\">👩‍💼</div>\n                                <div className=\"author-info\">\n                                    <h4>Sarah Johnson</h4>\n                                    <span>Content Creator</span>\n                                </div>\n                                <div className=\"rating\">⭐⭐⭐⭐⭐</div>\n                            </div>\n                        </div>\n                        \n                        <div className=\"testimonial-card\">\n                            <div className=\"testimonial-content\">\n                                <p>\"The AI enhancement features are game-changing. My engagement rates have doubled!\"</p>\n                            </div>\n                            <div className=\"testimonial-author\">\n                                <div className=\"author-avatar\">👨‍💻</div>\n                                <div className=\"author-info\">\n                                    <h4>Mike Chen</h4>\n                                    <span>Digital Marketer</span>\n                                </div>\n                                <div className=\"rating\">⭐⭐⭐⭐⭐</div>\n                            </div>\n                        </div>\n                        \n                        <div className=\"testimonial-card\">\n                            <div className=\"testimonial-content\">\n                                <p>\"Perfect for creating consistent brand voice across all platforms. Highly recommended!\"</p>\n                            </div>\n                            <div className=\"testimonial-author\">\n                                <div className=\"author-avatar\">👩‍🎨</div>\n                                <div className=\"author-info\">\n                                    <h4>Emma Davis</h4>\n                                    <span>Brand Manager</span>\n                                </div>\n                                <div className=\"rating\">⭐⭐⭐⭐⭐</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            {/* CTA Section */}\n            <section className=\"cta-section\">\n                <div className=\"container\">\n                    <div className=\"cta-content\">\n                        <h2 className=\"cta-title\">Ready to Transform Your Content Creation?</h2>\n                        <p className=\"cta-subtitle\">Join thousands of creators who are already using our AI-powered tools</p>\n                        <div className=\"cta-actions\">\n                            <Link to=\"/voice-review\" className=\"cta-btn primary\">\n                                <span className=\"btn-icon\">🚀</span>\n                                <span className=\"btn-text\">Start Creating Now</span>\n                                <span className=\"btn-arrow\">→</span>\n                            </Link>\n                            <Link to=\"/social-media\" className=\"cta-btn secondary\">\n                                <span className=\"btn-icon\">📱</span>\n                                <span className=\"btn-text\">Try Social Media</span>\n                            </Link>\n                        </div>\n                        <div className=\"cta-features\">\n                            <div className=\"feature-tag\">✨ Free to Start</div>\n                            <div className=\"feature-tag\">🔒 Secure & Private</div>\n                            <div className=\"feature-tag\">📱 Mobile Optimized</div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </div>\n    );\n};\n\nexport default HomeScreen;","import React, { useState, useEffect } from 'react';\nimport apiConfig from '../config/api';\nimport { useTranslation } from 'react-i18next';\n\nconst EnhancedModelInfo = ({ style = {} }) => {\n  const [modelInfo, setModelInfo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    fetchModelInfo();\n  }, []);\n\n  const fetchModelInfo = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Force production URL if we're on Netlify\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n\n      const apiUrl = `${baseURL}/blog/model`;\n      console.log('🌐 Fetching enhanced model info from:', apiUrl);\n      \n      const res = await fetch(apiUrl);\n      \n      if (!res.ok) {\n        throw new Error(`HTTP ${res.status}: ${res.statusText}`);\n      }\n      \n      const data = await res.json();\n      \n      if (data.success) {\n        setModelInfo(data.model);\n      } else {\n        throw new Error(data.error || 'Failed to fetch model info');\n      }\n    } catch (error) {\n      console.error('❌ Failed to fetch enhanced model info:', error);\n      setError(error.message);\n      // Set fallback model info\n      setModelInfo({\n        name: 'NVIDIA Llama 3.3 Nemotron Super 49B',\n        description: 'Optimized for creating engaging, SEO-friendly blog content with detailed thinking',\n        strengths: ['Content Creation', 'SEO Optimization', 'Brand Voice', 'Engagement', 'Detailed Thinking'],\n        modelInfo: {\n          provider: 'NVIDIA',\n          modelType: 'nvidia/llama-3.3-nemotron-super-49b-v1',\n          parameters: '49B',\n          maxContextLength: '4096 tokens',\n          capabilities: [\n            'Long-form content generation',\n            'Detailed reasoning and analysis',\n            'SEO-optimized writing',\n            'Image integration and captioning',\n            'Multi-section blog structuring',\n            'Brand voice adaptation'\n          ],\n          performance: {\n            responseTime: 'Fast',\n            contentQuality: 'High',\n            consistency: 'Excellent',\n            creativity: 'Balanced'\n          }\n        }\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n        borderRadius: '16px',\n        padding: '24px',\n        border: '1px solid #bae6fd',\n        textAlign: 'center',\n        ...style\n      }}>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: '12px'\n        }}>\n          <div style={{\n            width: '24px',\n            height: '24px',\n            border: '3px solid #0ea5e9',\n            borderTop: '3px solid transparent',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite'\n          }}></div>\n          <span style={{ color: '#0c4a6e', fontSize: '16px', fontWeight: '600' }}>\n            {t('enhancedModelInfo.loading')}\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!modelInfo) {\n    return null;\n  }\n\n  return (\n    <div style={{\n      background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n      borderRadius: '16px',\n      padding: '24px',\n      border: '1px solid #bae6fd',\n      ...style\n    }}>\n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        marginBottom: '16px'\n      }}>\n        <div style={{\n          background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n          borderRadius: '12px',\n          width: '48px',\n          height: '48px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: '24px',\n          color: '#fff',\n          boxShadow: '0 4px 12px rgba(14, 165, 233, 0.3)'\n        }}>\n          🤖\n        </div>\n        <div>\n          <h3 style={{ \n            margin: '0 0 4px 0', \n            color: '#0c4a6e', \n            fontSize: '20px',\n            fontWeight: '700'\n          }}>\n            {modelInfo.name}\n          </h3>\n          <p style={{ \n            margin: '0', \n            color: '#0369a1', \n            fontSize: '14px',\n            fontWeight: '500'\n          }}>\n            {modelInfo.modelInfo?.provider} • {modelInfo.modelInfo?.parameters} • {modelInfo.modelInfo?.maxContextLength}\n          </p>\n        </div>\n      </div>\n\n      {/* Description */}\n      <p style={{ \n        margin: '0 0 16px 0', \n        color: '#0369a1', \n        lineHeight: '1.6',\n        fontSize: '14px'\n      }}>\n        {modelInfo.description}\n      </p>\n\n      {/* Capabilities */}\n      {modelInfo.modelInfo?.capabilities && (\n        <div style={{ marginBottom: '16px' }}>\n          <h4 style={{\n            margin: '0 0 12px 0',\n            color: '#0c4a6e',\n            fontSize: '16px',\n            fontWeight: '600'\n          }}>\n            🚀 {t('enhancedModelInfo.keyCapabilities')}\n          </h4>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '8px'\n          }}>\n            {modelInfo.modelInfo.capabilities.map((capability, index) => (\n              <div key={index} style={{\n                background: 'rgba(14, 165, 233, 0.1)',\n                border: '1px solid rgba(14, 165, 233, 0.2)',\n                borderRadius: '8px',\n                padding: '8px 12px',\n                fontSize: '12px',\n                color: '#0c4a6e',\n                fontWeight: '500'\n              }}>\n                ✓ {capability}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Performance Metrics */}\n      {modelInfo.modelInfo?.performance && (\n        <div style={{ marginBottom: '16px' }}>\n          <h4 style={{\n            margin: '0 0 12px 0',\n            color: '#0c4a6e',\n            fontSize: '16px',\n            fontWeight: '600'\n          }}>\n            📊 {t('enhancedModelInfo.performanceMetrics')}\n          </h4>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n            gap: '12px'\n          }}>\n            <div style={{\n              background: 'rgba(34, 197, 94, 0.1)',\n              border: '1px solid rgba(34, 197, 94, 0.2)',\n              borderRadius: '8px',\n              padding: '12px',\n              textAlign: 'center'\n            }}>\n              <div style={{ fontSize: '20px', marginBottom: '4px' }}>⚡</div>\n              <div style={{ fontSize: '12px', fontWeight: '600', color: '#166534' }}>\n                {modelInfo.modelInfo.performance.responseTime}\n              </div>\n              <div style={{ fontSize: '10px', color: '#16a34a' }}>{t('enhancedModelInfo.responseTime')}</div>\n            </div>\n            <div style={{\n              background: 'rgba(59, 130, 246, 0.1)',\n              border: '1px solid rgba(59, 130, 246, 0.2)',\n              borderRadius: '8px',\n              padding: '12px',\n              textAlign: 'center'\n            }}>\n              <div style={{ fontSize: '20px', marginBottom: '4px' }}>🎯</div>\n              <div style={{ fontSize: '12px', fontWeight: '600', color: '#1e40af' }}>\n                {modelInfo.modelInfo.performance.contentQuality}\n              </div>\n              <div style={{ fontSize: '10px', color: '#3b82f6' }}>{t('enhancedModelInfo.contentQuality')}</div>\n            </div>\n            <div style={{\n              background: 'rgba(168, 85, 247, 0.1)',\n              border: '1px solid rgba(168, 85, 247, 0.2)',\n              borderRadius: '8px',\n              padding: '12px',\n              textAlign: 'center'\n            }}>\n              <div style={{ fontSize: '20px', marginBottom: '4px' }}>🔄</div>\n              <div style={{ fontSize: '12px', fontWeight: '600', color: '#7c3aed' }}>\n                {modelInfo.modelInfo.performance.consistency}\n              </div>\n              <div style={{ fontSize: '10px', color: '#a855f7' }}>{t('enhancedModelInfo.consistency')}</div>\n            </div>\n            <div style={{\n              background: 'rgba(245, 158, 11, 0.1)',\n              border: '1px solid rgba(245, 158, 11, 0.2)',\n              borderRadius: '8px',\n              padding: '12px',\n              textAlign: 'center'\n            }}>\n              <div style={{ fontSize: '20px', marginBottom: '4px' }}>✨</div>\n              <div style={{ fontSize: '12px', fontWeight: '600', color: '#d97706' }}>\n                {modelInfo.modelInfo.performance.creativity}\n              </div>\n              <div style={{ fontSize: '10px', color: '#f59e0b' }}>{t('enhancedModelInfo.creativity')}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Technical Specifications */}\n      {modelInfo.parameters && (\n        <div style={{ marginBottom: '16px' }}>\n          <h4 style={{\n            margin: '0 0 12px 0',\n            color: '#0c4a6e',\n            fontSize: '16px',\n            fontWeight: '600'\n          }}>\n            ⚙️ {t('enhancedModelInfo.technicalSpecs')}\n          </h4>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n            gap: '8px'\n          }}>\n            <div style={{\n              background: 'rgba(107, 114, 128, 0.1)',\n              border: '1px solid rgba(107, 114, 128, 0.2)',\n              borderRadius: '6px',\n              padding: '8px 12px',\n              fontSize: '12px'\n            }}>\n              <div style={{ color: '#374151', fontWeight: '600' }}>{t('enhancedModelInfo.temperature')}</div>\n              <div style={{ color: '#6b7280' }}>{modelInfo.parameters.temperature}</div>\n            </div>\n            <div style={{\n              background: 'rgba(107, 114, 128, 0.1)',\n              border: '1px solid rgba(107, 114, 128, 0.2)',\n              borderRadius: '6px',\n              padding: '8px 12px',\n              fontSize: '12px'\n            }}>\n              <div style={{ color: '#374151', fontWeight: '600' }}>{t('enhancedModelInfo.maxTokens')}</div>\n              <div style={{ color: '#6b7280' }}>{modelInfo.parameters.maxTokens.toLocaleString()}</div>\n            </div>\n            <div style={{\n              background: 'rgba(107, 114, 128, 0.1)',\n              border: '1px solid rgba(107, 114, 128, 0.2)',\n              borderRadius: '6px',\n              padding: '8px 12px',\n              fontSize: '12px'\n            }}>\n              <div style={{ color: '#374151', fontWeight: '600' }}>{t('enhancedModelInfo.topP')}</div>\n              <div style={{ color: '#6b7280' }}>{modelInfo.parameters.topP}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Strengths */}\n      <div>\n        <h4 style={{\n          margin: '0 0 12px 0',\n          color: '#0c4a6e',\n          fontSize: '16px',\n          fontWeight: '600'\n        }}>\n          💪 {t('enhancedModelInfo.modelStrengths')}\n        </h4>\n        <div style={{\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '6px'\n        }}>\n          {modelInfo.strengths.map((strength, index) => (\n            <span key={index} style={{\n              background: '#0ea5e9',\n              color: '#fff',\n              padding: '4px 8px',\n              borderRadius: '12px',\n              fontSize: '11px',\n              fontWeight: '600'\n            }}>\n              {strength}\n            </span>\n          ))}\n        </div>\n      </div>\n\n      {error && (\n        <div style={{\n          marginTop: '16px',\n          padding: '12px',\n          background: '#fef2f2',\n          border: '1px solid #fecaca',\n          borderRadius: '8px',\n          fontSize: '12px',\n          color: '#dc2626'\n        }}>\n          <strong>{t('enhancedModelInfo.error')}:</strong> {error}\n        </div>\n      )}\n\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default EnhancedModelInfo; ","import React, { useState, useEffect } from 'react';\nimport './Llma.css';\nimport apiConfig from '../config/api';\nimport { useTranslation } from 'react-i18next';\nimport EnhancedModelInfo from './EnhancedModelInfo';\n\nconst Llma = () => {\n  const [inputText, setInputText] = useState('');\n  const [response, setResponse] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [conversationHistory, setConversationHistory] = useState([]);\n  const [modelInfo, setModelInfo] = useState(null);\n  const [availableModels, setAvailableModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState('auto');\n  const { t } = useTranslation();\n\n  // Load available models on component mount\n  useEffect(() => {\n    loadAvailableModels();\n  }, []);\n\n  const loadAvailableModels = async () => {\n    try {\n      const response = await fetch('/api/available-models');\n      const data = await response.json();\n      if (data.success) {\n        setAvailableModels(data.models);\n        setModelInfo(data);\n      }\n    } catch (error) {\n      console.warn('Failed to load available models:', error);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!inputText.trim()) {\n      setError(t('llma.enterText'));\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n    setResponse('');\n\n    try {\n      // Add user message to conversation history\n      const userMessage = { role: 'user', content: inputText, timestamp: new Date() };\n      setConversationHistory(prev => [...prev, userMessage]);\n\n      // Call API without API key (server handles it securely)\n      const result = await callLlamaAPI(inputText, conversationHistory);\n      setResponse(result);\n      \n      // Add AI response to conversation history\n      const aiMessage = { role: 'assistant', content: result, timestamp: new Date() };\n      setConversationHistory(prev => [...prev, aiMessage]);\n    } catch (err) {\n      setError(`Error: ${err.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const callLlamaAPI = async (text, history) => {\n    // Check if API URL is configured and force production URL if on Netlify\n    const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n    const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n    \n    if (!baseURL || baseURL.includes('your-render-app')) {\n      throw new Error('Backend API not configured. Please set up your Render backend and configure REACT_APP_API_URL.');\n    }\n    \n    const response = await fetch(`${baseURL}/llama`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        text: text,\n        conversationHistory: history\n      })\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || 'Failed to get response from Llama API');\n    }\n\n    const data = await response.json();\n    return data.response;\n  };\n\n  const examplePrompts = [\n    t('llma.example1'),\n    t('llma.example2'),\n    t('llma.example3'),\n    t('llma.example4')\n  ];\n\n  const handleExampleClick = (example) => {\n    setInputText(example);\n  };\n\n  const clearConversation = () => {\n    setConversationHistory([]);\n    setResponse('');\n    setError('');\n  };\n\n  return (\n    <div className=\"llma-container\">\n      <div className=\"llma-header\">\n        <h2>💬 {t('llma.chatWithAI')}</h2>\n        <p>{t('llma.naturalConversation')}</p>\n      </div>\n\n      <div className=\"llma-content\">\n        {/* Enhanced Model Information */}\n        <div className=\"model-info-section\">\n          <EnhancedModelInfo style={{ marginBottom: '24px' }} />\n        </div>\n\n        {/* Model Selection */}\n        <div className=\"model-selection-section\">\n          <h3>🤖 {t('llma.modelSelection')}</h3>\n          <div className=\"model-selection-grid\">\n            <div className=\"model-option active\">\n              <div className=\"model-icon\">🔄</div>\n              <div className=\"model-details\">\n                <h4>{t('llma.autoSelect')}</h4>\n                <p>{t('llma.autoSelectDescription')}</p>\n              </div>\n            </div>\n            {availableModels.map(model => (\n              <div key={model.key} className=\"model-option\">\n                <div className=\"model-icon\">🤖</div>\n                <div className=\"model-details\">\n                  <h4>{model.name}</h4>\n                  <p>{model.description}</p>\n                  <div className=\"model-strengths\">\n                    {model.strengths.slice(0, 3).map((strength, index) => (\n                      <span key={index} className=\"strength-tag\">{strength}</span>\n                    ))}\n                    {model.strengths.length > 3 && (\n                      <span className=\"strength-count\">+{model.strengths.length - 3} more</span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Conversation History */}\n        {conversationHistory.length > 0 && (\n          <div className=\"conversation-history\">\n            <div className=\"history-header\">\n              <h4>💬 {t('llma.conversation')}</h4>\n              <button onClick={clearConversation} className=\"clear-conversation-btn\">\n                🗑️ {t('llma.clearChat')}\n              </button>\n            </div>\n            <div className=\"messages-container\">\n              {conversationHistory.map((message, index) => (\n                <div key={index} className={`message ${message.role}`}>\n                  <div className=\"message-content\">\n                    {message.content}\n                  </div>\n                  <div className=\"message-timestamp\">\n                    {message.timestamp.toLocaleTimeString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"llma-form\">\n          <div className=\"input-section\">\n            <label htmlFor=\"userInput\">{t('llma.yourMessage')}</label>\n            <textarea\n              id=\"userInput\"\n              value={inputText}\n              onChange={(e) => setInputText(e.target.value)}\n              placeholder={t('llma.typeMessagePlaceholder')}\n              rows=\"3\"\n              className=\"text-input\"\n            />\n          </div>\n\n          <div className=\"example-prompts\">\n            <h4>💡 {t('llma.conversationStarters')}</h4>\n            <div className=\"prompt-buttons\">\n              {examplePrompts.map((prompt, index) => (\n                <button\n                  key={index}\n                  type=\"button\"\n                  onClick={() => handleExampleClick(prompt)}\n                  className=\"example-btn\"\n                >\n                  {prompt}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <button \n            type=\"submit\" \n            disabled={isLoading || !inputText.trim()}\n            className=\"submit-btn\"\n          >\n            {isLoading ? t('llma.thinking') : '💬 ' + t('llma.sendMessage')}\n          </button>\n        </form>\n\n        {error && (\n          <div className=\"error-message\">\n            <span className=\"error-icon\">⚠️</span>\n            {error}\n          </div>\n        )}\n\n        {isLoading && (\n          <div className=\"loading-indicator\">\n            <div className=\"loading-spinner\"></div>\n            <p>{t('llma.aiThinking')}</p>\n          </div>\n        )}\n\n        {response && conversationHistory.length === 0 && (\n          <div className=\"response-section\">\n            <h3>💬 {t('llma.aiResponse')}</h3>\n            <div className=\"response-content\">\n              <pre>{response}</pre>\n            </div>\n            <button \n              onClick={() => navigator.clipboard.writeText(response)}\n              className=\"copy-btn\"\n            >\n              📋 {t('llma.copyResponse')}\n            </button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"llma-info\">\n        <h4>ℹ️ {t('llma.aboutThisChat')}</h4>\n        <ul>\n          <li><strong>{t('llma.model')}</strong> NVIDIA Llama 3.3 Nemotron Super 49B</li>\n          <li><strong>{t('llma.style')}</strong> {t('llma.naturalStyle')}</li>\n          <li><strong>{t('llma.capabilities')}</strong> {t('llma.capabilitiesList')}</li>\n          <li><strong>{t('llma.tone')}</strong> {t('llma.friendlyTone')}</li>\n        </ul>\n        \n        <div className=\"api-info\">\n          <h5>🔧 {t('llma.chatConfig')}</h5>\n          <pre className=\"api-config\">\n{`{\n  \"model\": \"nvidia/llama-3.3-nemotron-super-49b-v1\",\n  \"temperature\": 0.7,\n  \"top_p\": 0.9,\n  \"max_tokens\": 4096,\n  \"style\": \"conversational\"\n}`}\n          </pre>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Llma;","import React, { useState, useEffect } from 'react';\nimport './EnhancedLLM.css';\nimport { useTranslation } from 'react-i18next';\n\nconst EnhancedLLM = () => {\n  const [input, setInput] = useState('');\n  const [response, setResponse] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [qualityAnalysis, setQualityAnalysis] = useState(null);\n  const [modelInfo, setModelInfo] = useState(null);\n  const [availableModels, setAvailableModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState('auto');\n  const [conversationHistory, setConversationHistory] = useState([]);\n  const { t } = useTranslation();\n\n  // Load available models on component mount\n  useEffect(() => {\n    loadAvailableModels();\n  }, []);\n\n  const loadAvailableModels = async () => {\n    try {\n      const response = await fetch('/api/available-models');\n      const data = await response.json();\n      if (data.success) {\n        setAvailableModels(data.models);\n        setModelInfo(data);\n      }\n    } catch (error) {\n      console.warn('Failed to load available models:', error);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) {\n      setError('Please provide input text');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setResponse('');\n    setQualityAnalysis(null);\n\n    try {\n      const requestBody = {\n        text: input,\n        conversationHistory: conversationHistory,\n        context: {\n          userIntent: 'general',\n          domain: 'general',\n          urgency: 'normal'\n        }\n      };\n\n      // Force specific model if selected\n      if (selectedModel !== 'auto') {\n        requestBody.context.forceModel = selectedModel;\n      }\n\n      const res = await fetch('/api/enhanced-llm', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(requestBody),\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        setResponse(data.response);\n        setQualityAnalysis(data.qualityAnalysis);\n        \n        // Update conversation history\n        const newHistory = [\n          ...conversationHistory,\n          { role: 'user', content: input },\n          { role: 'assistant', content: data.response }\n        ];\n        setConversationHistory(newHistory.slice(-10)); // Keep last 10 messages\n      } else {\n        setError(data.error || 'Failed to generate response');\n      }\n    } catch (err) {\n      setError('Network error: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const analyzeResponseQuality = async () => {\n    if (!response.trim()) {\n      setError('No response to analyze');\n      return;\n    }\n\n    try {\n      const res = await fetch('/api/analyze-response-quality', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          response: response,\n          contentType: 'general',\n          context: { input: input }\n        }),\n      });\n\n      const data = await res.json();\n      if (data.success) {\n        setQualityAnalysis(data.qualityAnalysis);\n      } else {\n        setError(data.error || 'Failed to analyze response quality');\n      }\n    } catch (err) {\n      setError('Network error: ' + err.message);\n    }\n  };\n\n  const compareModels = async () => {\n    if (!input.trim()) {\n      setError('Please provide input text');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const res = await fetch('/api/compare-models', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text: input,\n          context: { userIntent: 'general' }\n        }),\n      });\n\n      const data = await res.json();\n      if (data.success) {\n        // Display comparison results\n        console.log('Model comparison:', data.comparison);\n        alert(`Model comparison completed!\\nRecommended: ${data.comparison.recommendedModel}\\nConfidence: ${(data.comparison.confidence * 100).toFixed(1)}%`);\n      } else {\n        setError(data.error || 'Failed to compare models');\n      }\n    } catch (err) {\n      setError('Network error: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearConversation = () => {\n    setConversationHistory([]);\n    setResponse('');\n    setQualityAnalysis(null);\n    setError('');\n  };\n\n  const copyToClipboard = () => {\n    if (response) {\n      navigator.clipboard.writeText(response);\n      alert('Response copied to clipboard!');\n    }\n  };\n\n  const getQualityColor = (score) => {\n    if (score >= 0.8) return '#10b981'; // Green\n    if (score >= 0.6) return '#f59e0b'; // Yellow\n    return '#ef4444'; // Red\n  };\n\n  const getQualityLabel = (score) => {\n    if (score >= 0.8) return 'Excellent';\n    if (score >= 0.6) return 'Good';\n    if (score >= 0.4) return 'Fair';\n    return 'Poor';\n  };\n\n  return (\n    <div className=\"enhanced-llm-container\">\n      <div className=\"enhanced-llm-header\">\n        <h1>🚀 Enhanced LLM Service</h1>\n        <p>Multi-model AI with intelligent response quality analysis and pattern recognition</p>\n      </div>\n\n      <div className=\"enhanced-llm-content\">\n        {/* API Key is now handled securely on the server */}\n\n        {/* Model Selection */}\n        <div className=\"model-selection\">\n          <label>🤖 Model Selection:</label>\n          <select \n            value={selectedModel} \n            onChange={(e) => setSelectedModel(e.target.value)}\n            className=\"model-select\"\n          >\n            <option value=\"auto\">🔄 Auto-select (Recommended)</option>\n            {availableModels.map(model => (\n              <option key={model.key} value={model.key}>\n                {model.name} - {model.strengths.join(', ')}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Input Form */}\n        <form onSubmit={handleSubmit} className=\"input-form\">\n          <div className=\"input-section\">\n            <label>💬 Your Message:</label>\n            <textarea\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Enter your message here... The AI will analyze the content type and select the best model automatically.\"\n              rows={4}\n              className=\"input-textarea\"\n              required\n            />\n          </div>\n\n          <div className=\"button-group\">\n            <button type=\"submit\" disabled={loading} className=\"submit-btn\">\n              {loading ? '🔄 Generating...' : '🚀 Generate Enhanced Response'}\n            </button>\n            \n            <button \n              type=\"button\" \n              onClick={analyzeResponseQuality} \n              disabled={!response || loading}\n              className=\"analyze-btn\"\n            >\n              📊 Analyze Quality\n            </button>\n            \n            <button \n              type=\"button\" \n              onClick={compareModels} \n              disabled={!input || loading}\n              className=\"compare-btn\"\n            >\n              🔄 Compare Models\n            </button>\n            \n            <button \n              type=\"button\" \n              onClick={clearConversation}\n              className=\"clear-btn\"\n            >\n              🗑️ Clear\n            </button>\n          </div>\n        </form>\n\n        {/* Error Display */}\n        {error && (\n          <div className=\"error-message\">\n            <span>⚠️ {error}</span>\n          </div>\n        )}\n\n        {/* Response Display */}\n        {response && (\n          <div className=\"response-section\">\n            <div className=\"response-header\">\n              <h3>🤖 AI Response</h3>\n              <button onClick={copyToClipboard} className=\"copy-btn\">\n                📋 Copy\n              </button>\n            </div>\n            <div className=\"response-content\">\n              <pre>{response}</pre>\n            </div>\n          </div>\n        )}\n\n        {/* Quality Analysis */}\n        {qualityAnalysis && (\n          <div className=\"quality-analysis\">\n            <h3>📊 Response Quality Analysis</h3>\n            \n            <div className=\"quality-overview\">\n              <div className=\"quality-score\">\n                <span className=\"score-label\">Overall Quality:</span>\n                <span \n                  className=\"score-value\"\n                  style={{ color: getQualityColor(qualityAnalysis.overallScore) }}\n                >\n                  {getQualityLabel(qualityAnalysis.overallScore)} ({qualityAnalysis.overallScore.toFixed(2)})\n                </span>\n              </div>\n            </div>\n\n            <div className=\"quality-metrics\">\n              <h4>📈 Detailed Metrics</h4>\n              <div className=\"metrics-grid\">\n                {Object.entries(qualityAnalysis.metrics).map(([metric, score]) => (\n                  <div key={metric} className=\"metric-item\">\n                    <span className=\"metric-label\">{metric.charAt(0).toUpperCase() + metric.slice(1)}:</span>\n                    <span \n                      className=\"metric-score\"\n                      style={{ color: getQualityColor(score) }}\n                    >\n                      {(score * 100).toFixed(0)}%\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {qualityAnalysis.strengths.length > 0 && (\n              <div className=\"strengths-section\">\n                <h4>✅ Strengths</h4>\n                <ul>\n                  {qualityAnalysis.strengths.map((strength, index) => (\n                    <li key={index}>{strength}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {qualityAnalysis.weaknesses.length > 0 && (\n              <div className=\"weaknesses-section\">\n                <h4>⚠️ Areas for Improvement</h4>\n                <ul>\n                  {qualityAnalysis.weaknesses.map((weakness, index) => (\n                    <li key={index}>{weakness}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {qualityAnalysis.suggestions.length > 0 && (\n              <div className=\"suggestions-section\">\n                <h4>💡 Suggestions</h4>\n                <ul>\n                  {qualityAnalysis.suggestions.map((suggestion, index) => (\n                    <li key={index}>{suggestion}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            <div className=\"response-details\">\n              <h4>📋 Response Details</h4>\n              <div className=\"details-grid\">\n                <div className=\"detail-item\">\n                  <span>Sentiment:</span>\n                  <span className=\"detail-value\">{qualityAnalysis.sentiment}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span>Complexity:</span>\n                  <span className=\"detail-value\">{qualityAnalysis.complexity}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span>Key Points:</span>\n                  <span className=\"detail-value\">{qualityAnalysis.keyPoints.length}</span>\n                </div>\n                <div className=\"detail-item\">\n                  <span>Words:</span>\n                  <span className=\"detail-value\">{qualityAnalysis.structureAnalysis.words}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Conversation History */}\n        {conversationHistory.length > 0 && (\n          <div className=\"conversation-history\">\n            <h3>💬 Conversation History</h3>\n            <div className=\"history-list\">\n              {conversationHistory.map((msg, index) => (\n                <div key={index} className={`history-item ${msg.role}`}>\n                  <span className=\"role-label\">{msg.role === 'user' ? '👤 You:' : '🤖 AI:'}</span>\n                  <span className=\"message-content\">{msg.content.substring(0, 100)}...</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedLLM; ","import React, { useState, useEffect, useRef } from 'react';\nimport './VoiceRecognition.css';\nimport { useTranslation } from 'react-i18next';\n\nconst VoiceRecognition = ({ onTranscript, placeholder = \"Tap to start speaking...\", disabled = false, enableLLMEnhancement = true }) => {\n    const [isListening, setIsListening] = useState(false);\n    const [transcript, setTranscript] = useState('');\n    const [interimTranscript, setInterimTranscript] = useState('');\n    const [error, setError] = useState('');\n    const [isSupported, setIsSupported] = useState(false);\n    const [isInitialized, setIsInitialized] = useState(false);\n    const [isMobile, setIsMobile] = useState(false);\n    const [retryCount, setRetryCount] = useState(0);\n    const [browserInfo, setBrowserInfo] = useState('');\n    const [showManualInput, setShowManualInput] = useState(false);\n    const [manualText, setManualText] = useState('');\n    const [isEnhancing, setIsEnhancing] = useState(false);\n    const [enhancedTranscript, setEnhancedTranscript] = useState('');\n      // API key is now handled securely on the server\n    const recognitionRef = useRef(null);\n    const timeoutRef = useRef(null);\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        // Detect mobile device and browser\n        const checkDeviceAndBrowser = () => {\n            const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n            const isMobileDevice = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent.toLowerCase());\n            setIsMobile(isMobileDevice);\n            \n            // Detect browser\n            let browser = 'Unknown';\n            if (userAgent.includes('Chrome')) browser = 'Chrome';\n            else if (userAgent.includes('Safari')) browser = 'Safari';\n            else if (userAgent.includes('Firefox')) browser = 'Firefox';\n            else if (userAgent.includes('Edge')) browser = 'Edge';\n            \n            setBrowserInfo(`${browser} on ${isMobileDevice ? 'Mobile' : 'Desktop'}`);\n        };\n        \n        checkDeviceAndBrowser();\n        initializeSpeechRecognition();\n        \n        return () => {\n            if (recognitionRef.current) {\n                try {\n                    recognitionRef.current.abort();\n                } catch (e) {\n                    console.log('Cleanup error:', e);\n                }\n            }\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n            }\n        };\n    }, []);\n\n    // Monitor API key changes\n    useEffect(() => {\n        // API key is now handled securely on the server\n    }, []);\n\n    const initializeSpeechRecognition = () => {\n        try {\n            // Check for speech recognition support with fallbacks\n            const SpeechRecognition = window.SpeechRecognition || \n                                    window.webkitSpeechRecognition || \n                                    window.mozSpeechRecognition || \n                                    window.msSpeechRecognition;\n            \n            if (!SpeechRecognition) {\n                setError(`Speech recognition is not supported in ${browserInfo}. Please use Chrome, Edge, or Safari.`);\n                setIsSupported(false);\n                return;\n            }\n\n            // Create recognition instance\n            recognitionRef.current = new SpeechRecognition();\n            setupRecognition();\n            setIsSupported(true);\n            setIsInitialized(true);\n            setRetryCount(0);\n            \n        } catch (error) {\n            console.error('Failed to initialize speech recognition:', error);\n            setError('Failed to initialize speech recognition. Please refresh the page and try again.');\n            setIsSupported(false);\n        }\n    };\n\n    const setupRecognition = () => {\n        const recognition = recognitionRef.current;\n        \n        if (!recognition) return;\n\n        // Configure recognition settings\n        recognition.continuous = !isMobile; // Disable continuous on mobile for better performance\n        recognition.interimResults = true;\n        recognition.lang = 'en-US';\n        recognition.maxAlternatives = isMobile ? 3 : 1; // More alternatives for mobile\n\n        // Mobile-specific optimizations\n        if (isMobile) {\n            recognition.continuous = false;\n            recognition.maxAlternatives = 3;\n            // Add a timeout for mobile to prevent hanging\n            recognition.timeout = 10000; // 10 seconds\n        }\n\n        // Event handlers\n        recognition.onstart = () => {\n            console.log('Speech recognition started');\n            setIsListening(true);\n            setError('');\n            \n            // Set a timeout for mobile to auto-stop if no speech detected\n            if (isMobile) {\n                timeoutRef.current = setTimeout(() => {\n                    if (isListening && !interimTranscript) {\n                        console.log('Auto-stopping due to timeout');\n                        stopListening();\n                        setError('No speech detected. Please try speaking again.');\n                    }\n                }, 15000); // 15 seconds timeout\n            }\n        };\n\n        recognition.onresult = (event) => {\n            let finalTranscript = '';\n            let interimTranscript = '';\n\n            try {\n                for (let i = event.resultIndex; i < event.results.length; i++) {\n                    const resultTranscript = event.results[i][0].transcript;\n                    if (event.results[i].isFinal) {\n                        finalTranscript += resultTranscript;\n                    } else {\n                        interimTranscript += resultTranscript;\n                    }\n                }\n\n                console.log('Voice recognition result:', { finalTranscript, interimTranscript });\n\n                if (finalTranscript) {\n                    const newTranscript = transcript + finalTranscript;\n                    setInterimTranscript('');\n                    \n                    // Clear timeout since we got results\n                    if (timeoutRef.current) {\n                        clearTimeout(timeoutRef.current);\n                        timeoutRef.current = null;\n                    }\n                    \n                    // Process with LLM enhancement\n                    processTranscript(newTranscript, true);\n                } else {\n                    setInterimTranscript(interimTranscript);\n                }\n            } catch (error) {\n                console.error('Error processing speech recognition result:', error);\n                setError('Error processing speech. Please try again.');\n            }\n        };\n\n        recognition.onerror = (event) => {\n            console.error('Speech recognition error:', event.error);\n            setIsListening(false);\n            \n            // Clear timeout\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n                timeoutRef.current = null;\n            }\n            \n            let errorMessage = '';\n            switch (event.error) {\n                case 'no-speech':\n                    errorMessage = isMobile \n                        ? 'No speech detected. Please tap the microphone and try speaking again. Make sure to speak clearly and hold your device close.'\n                        : 'No speech detected. Please try speaking again.';\n                    break;\n                case 'audio-capture':\n                    errorMessage = isMobile\n                        ? 'Audio capture failed. Please check your microphone permissions in device settings and try again.'\n                        : 'Audio capture failed. Please check your microphone permissions and try again.';\n                    break;\n                case 'not-allowed':\n                    errorMessage = isMobile\n                        ? 'Microphone access denied. Please go to Settings > Privacy & Security > Microphone and enable access for this app, then refresh the page.'\n                        : 'Microphone access denied. Please allow microphone access in your browser settings and refresh the page.';\n                    break;\n                case 'network':\n                    errorMessage = 'Network error. Please check your internet connection and try again.';\n                    break;\n                case 'service-not-allowed':\n                    errorMessage = 'Speech recognition service not allowed. Please try a different browser.';\n                    break;\n                case 'bad-grammar':\n                    errorMessage = 'Speech recognition grammar error. Please try speaking more clearly.';\n                    break;\n                case 'language-not-supported':\n                    errorMessage = 'Language not supported. Please try speaking in English.';\n                    break;\n                case 'aborted':\n                    errorMessage = 'Speech recognition was interrupted. Please try again.';\n                    break;\n                default:\n                    errorMessage = `Speech recognition error: ${event.error}. Please try again.`;\n            }\n            \n            setError(errorMessage);\n            \n            // Increment retry count for auto-retry logic\n            setRetryCount(prev => prev + 1);\n        };\n\n        recognition.onend = () => {\n            console.log('Speech recognition ended');\n            setIsListening(false);\n            \n            // Clear timeout\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n                timeoutRef.current = null;\n            }\n            \n            // Auto-restart on mobile for better UX (but limit retries)\n            if (isMobile && retryCount < 2) {\n                setTimeout(() => {\n                    if (!isListening && retryCount < 2) {\n                        console.log('Auto-restarting speech recognition...');\n                        startListening();\n                    }\n                }, 500);\n            }\n        };\n\n        recognition.onaudiostart = () => {\n            console.log('Audio capturing started');\n        };\n\n        recognition.onaudioend = () => {\n            console.log('Audio capturing ended');\n        };\n\n        recognition.onsoundstart = () => {\n            console.log('Sound detected');\n        };\n\n        recognition.onsoundend = () => {\n            console.log('Sound ended');\n        };\n\n        recognition.onspeechstart = () => {\n            console.log('Speech started');\n        };\n\n        recognition.onspeechend = () => {\n            console.log('Speech ended');\n        };\n    };\n\n    const startListening = () => {\n        if (!isSupported || disabled || !isInitialized) {\n            console.log('Cannot start listening:', { isSupported, disabled, isInitialized });\n            return;\n        }\n        \n        try {\n            setError('');\n            console.log('Starting speech recognition...');\n            \n            // Reset retry count when manually starting\n            setRetryCount(0);\n            \n            recognitionRef.current.start();\n        } catch (error) {\n            console.error('Error starting speech recognition:', error);\n            setError('Failed to start speech recognition. Please try again.');\n            \n            // Try to reinitialize if there's an error\n            setTimeout(() => {\n                console.log('Attempting to reinitialize speech recognition...');\n                initializeSpeechRecognition();\n            }, 1000);\n        }\n    };\n\n    const stopListening = () => {\n        if (recognitionRef.current && isListening) {\n            try {\n                console.log('Stopping speech recognition...');\n                recognitionRef.current.stop();\n                \n                // Clear timeout\n                if (timeoutRef.current) {\n                    clearTimeout(timeoutRef.current);\n                    timeoutRef.current = null;\n                }\n            } catch (error) {\n                console.error('Error stopping speech recognition:', error);\n            }\n        }\n    };\n\n    const clearTranscript = () => {\n        setTranscript('');\n        setInterimTranscript('');\n        setEnhancedTranscript('');\n        if (onTranscript) {\n            onTranscript('');\n        }\n    };\n\n    const handleToggleListening = () => {\n        if (isListening) {\n            stopListening();\n        } else {\n            startListening();\n        }\n    };\n\n    const copyToClipboard = () => {\n        const textToCopy = transcript || interimTranscript;\n        if (textToCopy) {\n            navigator.clipboard.writeText(textToCopy).then(() => {\n                // Show a brief success message\n                const originalText = document.title;\n                document.title = 'Copied to clipboard!';\n                setTimeout(() => {\n                    document.title = originalText;\n                }, 1000);\n            }).catch(err => {\n                console.error('Failed to copy text: ', err);\n            });\n        }\n    };\n\n    const retryInitialization = () => {\n        setError('');\n        setIsInitialized(false);\n        setTimeout(() => {\n            initializeSpeechRecognition();\n        }, 500);\n    };\n\n    const handleManualInput = async () => {\n        if (manualText.trim()) {\n            const newTranscript = transcript + manualText;\n            setManualText('');\n            setShowManualInput(false);\n            \n            // Process with LLM enhancement\n            await processTranscript(newTranscript, true);\n        }\n    };\n\n    const toggleManualInput = () => {\n        setShowManualInput(!showManualInput);\n        if (showManualInput) {\n            setManualText('');\n        }\n    };\n\n    // LLM-powered voice recognition enhancement\n    const enhanceTranscriptWithLLM = async (rawTranscript) => {\n        console.log('LLM enhancement check:', {\n            enableLLMEnhancement,\n            hasApiKey: true, // API key is now handled securely on the server\n            hasTranscript: !!rawTranscript.trim(),\n            transcriptLength: rawTranscript.length\n        });\n\n        if (!enableLLMEnhancement || !rawTranscript.trim()) {\n            console.log('LLM enhancement skipped:', {\n                enableLLMEnhancement,\n                hasApiKey: true, // API key is now handled securely on the server\n                hasTranscript: !!rawTranscript.trim()\n            });\n            return rawTranscript;\n        }\n\n        setIsEnhancing(true);\n        setError('');\n\n        try {\n            const prompt = `Please improve and correct this voice-to-text transcript. Fix any spelling errors, grammar issues, and make it more coherent while preserving the original meaning and tone. Only return the corrected text, nothing else.\n\nOriginal transcript: \"${rawTranscript}\"\n\nCorrected transcript:`;\n\n            console.log('Sending LLM enhancement request:', { prompt });\n\n            const response = await fetch('/api/llama', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    prompt: prompt\n                })\n            });\n\n            console.log('LLM response status:', response.status);\n\n            if (!response.ok) {\n                throw new Error(`Failed to enhance transcript: ${response.status}`);\n            }\n\n            const data = await response.json();\n            console.log('LLM response data:', data);\n            \n            if (data.success && data.response) {\n                const enhanced = data.response.trim();\n                console.log('LLM enhanced transcript:', { original: rawTranscript, enhanced });\n                return enhanced;\n            } else {\n                console.warn('LLM enhancement failed, using original transcript:', data);\n                return rawTranscript;\n            }\n        } catch (error) {\n            console.error('LLM enhancement error:', error);\n            setError('Failed to enhance transcript with AI. Using original version.');\n            return rawTranscript;\n        } finally {\n            setIsEnhancing(false);\n        }\n    };\n\n    // Enhanced transcript processing\n    const processTranscript = async (newTranscript, isFinal = false) => {\n        if (isFinal && enableLLMEnhancement) {\n            // Store original transcript first\n            setTranscript(newTranscript);\n            \n            // Enhance final transcript with LLM\n            const enhanced = await enhanceTranscriptWithLLM(newTranscript);\n            \n            // Only set enhanced transcript if it's different from original\n            if (enhanced !== newTranscript) {\n                setEnhancedTranscript(enhanced);\n                console.log('Enhanced transcript available:', { original: newTranscript, enhanced });\n            } else {\n                setEnhancedTranscript('');\n            }\n            \n            // Always call onTranscript with the original first\n            if (onTranscript) {\n                onTranscript(newTranscript);\n            }\n        } else {\n            // Use original transcript\n            setTranscript(newTranscript);\n            setEnhancedTranscript('');\n            \n            if (onTranscript) {\n                onTranscript(newTranscript);\n            }\n        }\n    };\n\n    // Debug function for testing LLM enhancement\n    const debugLLMEnhancement = async () => {\n        console.log('=== LLM Enhancement Debug ===');\n        console.log('enableLLMEnhancement:', enableLLMEnhancement);\n        console.log('current transcript:', transcript);\n        \n        // API key is now handled securely on the server\n        \n        if (!transcript.trim()) {\n            console.error('❌ No transcript to enhance');\n            return;\n        }\n        \n        console.log('🧪 Testing LLM enhancement...');\n        const enhanced = await enhanceTranscriptWithLLM(transcript);\n        console.log('Enhanced result:', enhanced);\n    };\n\n    // Expose debug function to window for console access\n    useEffect(() => {\n        if (typeof window !== 'undefined') {\n            window.debugVoiceRecognition = debugLLMEnhancement;\n            console.log('Debug function available: window.debugVoiceRecognition()');\n        }\n    }, [transcript, enableLLMEnhancement]);\n\n    if (!isSupported) {\n        return (\n            <div className=\"voice-recognition-error\">\n                <div className=\"error-icon\">🎤</div>\n                <h3>{t('voiceRecognition.speechRecognitionNotSupported')}</h3>\n                <p>{error}</p>\n                <div className=\"error-actions\">\n                    <button onClick={retryInitialization} className=\"retry-btn\">\n                        🔄 {t('voiceRecognition.tryAgain')}\n                    </button>\n                </div>\n                <div className=\"mobile-tips\">\n                    <h4>{t('voiceRecognition.mobileTips')}:</h4>\n                    <ul>\n                        <li>{t('voiceRecognition.useChromeOrSafari')}</li>\n                        <li>{t('voiceRecognition.allowMicrophonePermissions')}</li>\n                        <li>{t('voiceRecognition.speakClearly')}</li>\n                        <li>{t('voiceRecognition.holdDeviceClose')}</li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n    const displayText = transcript || interimTranscript || placeholder;\n    const isActive = isListening || interimTranscript;\n\n    return (\n        <div className=\"voice-recognition\">\n            {/* LLM Enhancement Controls */}\n            {enableLLMEnhancement && (\n                <div className=\"llm-enhancement-controls\">\n                    <div className=\"enhancement-status\">\n                        <span className=\"enhancement-icon\">🤖</span>\n                        <span className=\"enhancement-text\">\n                            {isEnhancing ? 'AI Enhancing...' : 'AI Enhancement Ready'}\n                        </span>\n                        <span className=\"api-key-status\">\n                            🔑 API Key: Server Managed\n                        </span>\n                    </div>\n                    {transcript && !isEnhancing && (\n                        <button\n                            onClick={() => enhanceTranscriptWithLLM(transcript)}\n                            className=\"test-enhancement-btn\"\n                            title={t('voiceRecognition.testEnhancement')}\n                        >\n                            🧪 {t('voiceRecognition.testEnhancement')}\n                        </button>\n                    )}\n                </div>\n            )}\n\n            <div className=\"voice-controls\">\n                <button\n                    className={`voice-button ${isListening ? 'listening' : ''} ${disabled ? 'disabled' : ''}`}\n                    onClick={handleToggleListening}\n                    disabled={disabled}\n                    aria-label={isListening ? 'Stop listening' : 'Start listening'}\n                >\n                    <span className=\"mic-icon\">\n                        {isListening ? '🔴' : '🎤'}\n                    </span>\n                    <span className=\"button-text\">\n                        {isListening ? (isMobile ? 'Tap to Stop' : 'Click to Stop') : (isMobile ? 'Tap to Speak' : 'Click to Speak')}\n                    </span>\n                </button>\n                \n                <button\n                    onClick={toggleManualInput}\n                    className=\"action-btn manual-btn\"\n                    title={t('voiceRecognition.typeManually')}\n                    aria-label={t('voiceRecognition.typeTextManually')}\n                >\n                    ✏️ {t('voiceRecognition.type')}\n                </button>\n                \n                {(transcript || interimTranscript) && (\n                    <div className=\"voice-actions\">\n                        <button\n                            onClick={copyToClipboard}\n                            className=\"action-btn copy-btn\"\n                            title={t('voiceRecognition.copyToClipboard')}\n                            aria-label={t('voiceRecognition.copyTranscriptToClipboard')}\n                        >\n                            📋 {t('voiceRecognition.copy')}\n                        </button>\n                        <button\n                            onClick={clearTranscript}\n                            className=\"action-btn clear-btn\"\n                            title={t('voiceRecognition.clearTranscript')}\n                            aria-label={t('voiceRecognition.clearTranscript')}\n                        >\n                            🗑️ {t('voiceRecognition.clear')}\n                        </button>\n                    </div>\n                )}\n            </div>\n\n            {/* Manual Text Input */}\n            {showManualInput && (\n                <div className=\"manual-input-section\">\n                    <textarea\n                        value={manualText}\n                        onChange={(e) => setManualText(e.target.value)}\n                        placeholder={t('voiceRecognition.typeYourReviewHere')}\n                        className=\"manual-textarea\"\n                        rows=\"3\"\n                        autoFocus\n                    />\n                    <div className=\"manual-input-actions\">\n                        <button\n                            onClick={handleManualInput}\n                            className=\"action-btn add-btn\"\n                            disabled={!manualText.trim() || isEnhancing}\n                        >\n                            {isEnhancing ? '🤖 Enhancing...' : '➕ Add Text'}\n                        </button>\n                        <button\n                            onClick={toggleManualInput}\n                            className=\"action-btn cancel-btn\"\n                        >\n                            ❌ {t('voiceRecognition.cancel')}\n                        </button>\n                    </div>\n                </div>\n            )}\n\n            <div className={`transcript-area ${isActive ? 'active' : ''}`}>\n                <div className=\"transcript-content\">\n                    {displayText}\n                </div>\n                {isListening && (\n                    <div className=\"listening-indicator\">\n                        <div className=\"pulse-dot\"></div>\n                        <span>{t('voiceRecognition.listening')}</span>\n                    </div>\n                )}\n                {isEnhancing && (\n                    <div className=\"enhancing-indicator\">\n                        <div className=\"enhancing-spinner\"></div>\n                        <span>🤖 {t('voiceRecognition.aiIsEnhancingYourTranscript')}</span>\n                    </div>\n                )}\n            </div>\n\n            {/* Enhanced Transcript Display */}\n            {enhancedTranscript && enhancedTranscript !== transcript && (\n                <div className=\"enhanced-transcript-section\">\n                    <h4>🤖 AI Enhanced Version:</h4>\n                    <div className=\"enhanced-content\">\n                        {enhancedTranscript}\n                    </div>\n                    <div className=\"enhanced-actions\">\n                        <button\n                            onClick={() => {\n                                setTranscript(enhancedTranscript);\n                                if (onTranscript) onTranscript(enhancedTranscript);\n                            }}\n                            className=\"action-btn use-enhanced-btn\"\n                        >\n                            ✅ {t('voiceRecognition.useEnhancedVersion')}\n                        </button>\n                        <button\n                            onClick={() => setEnhancedTranscript('')}\n                            className=\"action-btn keep-original-btn\"\n                        >\n                            🔄 {t('voiceRecognition.keepOriginal')}\n                        </button>\n                    </div>\n                </div>\n            )}\n\n            {error && (\n                <div className=\"error-message\">\n                    <span className=\"error-icon\">⚠️</span>\n                    <span>{error}</span>\n                    <div className=\"error-actions\">\n                        <button onClick={retryInitialization} className=\"retry-link\">\n                            {t('voiceRecognition.tryAgain')}\n                        </button>\n                        <button onClick={toggleManualInput} className=\"manual-link\">\n                            {t('voiceRecognition.typeInstead')}\n                        </button>\n                    </div>\n                </div>\n            )}\n\n            {isMobile && (\n                <div className=\"mobile-hints\">\n                    <p>💡 <strong>{t('voiceRecognition.mobileTips')}:</strong> {t('voiceRecognition.speakClearly')}, {t('voiceRecognition.holdDeviceClose')} {t('voiceRecognition.andEnsureMicrophonePermissions')}.</p>\n                    <p>📝 <strong>{t('voiceRecognition.alternative')}:</strong> {t('voiceRecognition.ifVoiceDoesntWork')}</p>\n                    {enableLLMEnhancement && (\n                        <p>🤖 <strong>{t('voiceRecognition.aiEnhancement')}:</strong> {t('voiceRecognition.yourTranscriptWillBeAutomaticallyImprovedWithAIForBetterAccuracy')}</p>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default VoiceRecognition; ","import React, { useState, useEffect } from 'react';\nimport './VoiceAnalysis.css';\nimport { useTranslation } from 'react-i18next';\n\nconst VoiceAnalysis = ({ analysis, onGenerateReview, onSaveAnalysis, parentReviewType = 'general' }) => {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [isGeneratingReview, setIsGeneratingReview] = useState(false);\n    const [generatedReview, setGeneratedReview] = useState('');\n    const [reviewType, setReviewType] = useState(parentReviewType);\n    const { t } = useTranslation();\n\n    // Update reviewType when parentReviewType changes\n    useEffect(() => {\n        setReviewType(parentReviewType);\n    }, [parentReviewType]);\n\n    if (!analysis || !analysis.success) {\n        return (\n            <div className=\"voice-analysis-container\">\n                <div className=\"analysis-error\">\n                    <div className=\"error-icon\">⚠️</div>\n                    <h3>{t('voiceAnalysis.analysisFailed')}</h3>\n                    <p>{analysis?.error || 'Unable to analyze voice input'}</p>\n                </div>\n            </div>\n        );\n    }\n\n    const { analysis: data, provider, transcript: originalTranscript } = analysis;\n    const {\n        sentiment,\n        confidence,\n        keyPoints,\n        topics,\n        suggestions,\n        tone,\n        actionItems,\n        summary,\n        wordCount,\n        speakingPace\n    } = data;\n\n    const getSentimentColor = (sentiment) => {\n        switch (sentiment) {\n            case 'positive': return '#28a745';\n            case 'negative': return '#dc3545';\n            default: return '#6c757d';\n        }\n    };\n\n    const getConfidenceColor = (confidence) => {\n        if (confidence >= 0.8) return '#28a745';\n        if (confidence >= 0.6) return '#ffc107';\n        return '#dc3545';\n    };\n\n    const handleGenerateReview = async () => {\n        if (onGenerateReview) {\n            setIsGeneratingReview(true);\n            try {\n                console.log('VoiceAnalysis: Generating review with type:', reviewType);\n                console.log('VoiceAnalysis: Original transcript:', originalTranscript);\n                console.log('VoiceAnalysis: Analysis data:', data);\n                console.log('VoiceAnalysis: Full analysis object:', analysis);\n                \n                // Make sure we have a valid transcript\n                if (!originalTranscript || originalTranscript.trim().length === 0) {\n                    throw new Error('No transcript available for review generation');\n                }\n                \n                const review = await onGenerateReview(originalTranscript, data, reviewType);\n                setGeneratedReview(review);\n            } catch (error) {\n                console.error('VoiceAnalysis: Review generation failed:', error);\n                console.error('VoiceAnalysis: Error details:', {\n                    message: error.message,\n                    stack: error.stack\n                });\n                // Don't re-throw the error, just log it\n            } finally {\n                setIsGeneratingReview(false);\n            }\n        }\n    };\n\n    const handleSaveAnalysis = () => {\n        if (onSaveAnalysis) {\n            onSaveAnalysis(analysis);\n        }\n    };\n\n    return (\n        <div className=\"voice-analysis-container\">\n            <div className=\"analysis-header\">\n                <div className=\"provider-badge\">\n                    <span className=\"provider-icon\">🤖</span>\n                    {provider}\n                </div>\n                <div className=\"analysis-actions\">\n                    <button \n                        className=\"action-btn expand-btn\"\n                        onClick={() => setIsExpanded(!isExpanded)}\n                        title={isExpanded ? 'Collapse' : 'Expand'}\n                    >\n                        {isExpanded ? '📁' : '📂'}\n                    </button>\n                    <button \n                        className=\"action-btn save-btn\"\n                        onClick={handleSaveAnalysis}\n                        title=\"Save Analysis\"\n                    >\n                        💾\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"analysis-summary\">\n                <div className=\"sentiment-section\">\n                    <div className=\"sentiment-indicator\" style={{ backgroundColor: getSentimentColor(sentiment) }}>\n                        <span className=\"sentiment-emoji\">\n                            {sentiment === 'positive' ? '😊' : sentiment === 'negative' ? '😞' : '😐'}\n                        </span>\n                        <span className=\"sentiment-text\">{sentiment.toUpperCase()}</span>\n                    </div>\n                    <div className=\"confidence-meter\">\n                        <div className=\"confidence-label\">{t('voiceAnalysis.confidence')}</div>\n                        <div className=\"confidence-bar\">\n                            <div \n                                className=\"confidence-fill\" \n                                style={{ \n                                    width: `${confidence * 100}%`,\n                                    backgroundColor: getConfidenceColor(confidence)\n                                }}\n                            ></div>\n                        </div>\n                        <div className=\"confidence-value\">{Math.round(confidence * 100)}%</div>\n                    </div>\n                </div>\n\n                <div className=\"stats-grid\">\n                    <div className=\"stat-item\">\n                        <div className=\"stat-label\">{t('voiceAnalysis.words')}</div>\n                        <div className=\"stat-value\">{wordCount}</div>\n                    </div>\n                    <div className=\"stat-item\">\n                        <div className=\"stat-label\">{t('voiceAnalysis.pace')}</div>\n                        <div className=\"stat-value\">{speakingPace}</div>\n                    </div>\n                    <div className=\"stat-item\">\n                        <div className=\"stat-label\">{t('voiceAnalysis.tone')}</div>\n                        <div className=\"stat-value\">{tone}</div>\n                    </div>\n                    <div className=\"stat-item\">\n                        <div className=\"stat-label\">{t('voiceAnalysis.topics')}</div>\n                        <div className=\"stat-value\">{topics?.length || 0}</div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"analysis-content\">\n                <div className=\"content-section\">\n                    <h3>{t('voiceAnalysis.summary')}</h3>\n                    <p className=\"summary-text\">{summary}</p>\n                </div>\n\n                {keyPoints && keyPoints.length > 0 && (\n                    <div className=\"content-section\">\n                        <h3>{t('voiceAnalysis.keyPoints')}</h3>\n                        <ul className=\"key-points-list\">\n                            {keyPoints.map((point, index) => (\n                                <li key={index} className=\"key-point-item\">\n                                    <span className=\"point-bullet\">•</span>\n                                    {point}\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                )}\n\n                {topics && topics.length > 0 && (\n                    <div className=\"content-section\">\n                        <h3>{t('voiceAnalysis.topics')}</h3>\n                        <div className=\"topics-tags\">\n                            {topics.map((topic, index) => (\n                                <span key={index} className=\"topic-tag\">\n                                    {topic}\n                                </span>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {isExpanded && (\n                    <>\n                        {suggestions && suggestions.length > 0 && (\n                            <div className=\"content-section\">\n                                <h3>{t('voiceAnalysis.suggestions')}</h3>\n                                <ul className=\"suggestions-list\">\n                                    {suggestions.map((suggestion, index) => (\n                                        <li key={index} className=\"suggestion-item\">\n                                            <span className=\"suggestion-icon\">💡</span>\n                                            {suggestion}\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n\n                        {actionItems && actionItems.length > 0 && (\n                            <div className=\"content-section\">\n                                <h3>{t('voiceAnalysis.actionItems')}</h3>\n                                <ul className=\"action-items-list\">\n                                    {actionItems.map((item, index) => (\n                                        <li key={index} className=\"action-item\">\n                                            <span className=\"action-icon\">✅</span>\n                                            {item}\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n\n                        <div className=\"content-section\">\n                            <h3>{t('voiceAnalysis.originalTranscript')}</h3>\n                            <div className=\"transcript-display\">\n                                <p>{originalTranscript}</p>\n                            </div>\n                        </div>\n                    </>\n                )}\n            </div>\n\n            {/* Review Generation Section */}\n            <div className=\"review-generation-section\">\n                <div className=\"review-controls\">\n                    <select \n                        value={reviewType} \n                        onChange={(e) => setReviewType(e.target.value)}\n                        className=\"review-type-select\"\n                    >\n                        <option value=\"restaurant\">Restaurant</option>\n                        <option value=\"hotel\">Hotel</option>\n                        <option value=\"product\">Product</option>\n                        <option value=\"service\">Service</option>\n                        <option value=\"experience\">Experience</option>\n                        <option value=\"app\">App/Software</option>\n                        <option value=\"place\">Place/Location</option>\n                        <option value=\"general\">General</option>\n                    </select>\n                    <button \n                        onClick={handleGenerateReview}\n                        disabled={isGeneratingReview}\n                        className=\"generate-review-btn\"\n                    >\n                        {isGeneratingReview ? '🤖 Generating...' : '📝 Generate Review'}\n                    </button>\n                </div>\n\n                {generatedReview && (\n                    <div className=\"generated-review\">\n                        <h3>{t('voiceAnalysis.generatedReview')}</h3>\n                        <div className=\"review-content\">\n                            <p>{generatedReview}</p>\n                        </div>\n                        <button \n                            onClick={() => navigator.clipboard.writeText(generatedReview)}\n                            className=\"copy-review-btn\"\n                        >\n                            📋 Copy Review\n                        </button>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default VoiceAnalysis; ","class LocationService {\n    /**\n     * Get current location using browser geolocation API\n     * @param {Object} options - Geolocation options\n     * @returns {Promise<Object>} Location data\n     */\n    static async getCurrentLocation(options = {}) {\n        const defaultOptions = {\n            enableHighAccuracy: true,\n            timeout: 10000,\n            maximumAge: 60000\n        };\n\n        const finalOptions = { ...defaultOptions, ...options };\n\n        return new Promise((resolve, reject) => {\n            if (!navigator.geolocation) {\n                reject(new Error('Geolocation is not supported by this browser.'));\n                return;\n            }\n\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    const locationData = {\n                        latitude: position.coords.latitude,\n                        longitude: position.coords.longitude,\n                        accuracy: position.coords.accuracy,\n                        timestamp: new Date(position.timestamp).toISOString(),\n                        address: null\n                    };\n                    resolve(locationData);\n                },\n                (error) => {\n                    let errorMessage;\n                    switch (error.code) {\n                        case error.PERMISSION_DENIED:\n                            errorMessage = 'Location permission denied. Please enable location access in your browser settings.';\n                            break;\n                        case error.POSITION_UNAVAILABLE:\n                            errorMessage = 'Location information is unavailable.';\n                            break;\n                        case error.TIMEOUT:\n                            errorMessage = 'Location request timed out.';\n                            break;\n                        default:\n                            errorMessage = 'An unknown error occurred while getting location.';\n                    }\n                    reject(new Error(errorMessage));\n                },\n                finalOptions\n            );\n        });\n    }\n\n    /**\n     * Get address from coordinates using reverse geocoding\n     * @param {number} latitude - Latitude coordinate\n     * @param {number} longitude - Longitude coordinate\n     * @returns {Promise<string|null>} Address string or null\n     */\n    static async getAddressFromCoordinates(latitude, longitude) {\n        try {\n            const response = await fetch(\n                `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`\n            );\n            \n            if (!response.ok) {\n                throw new Error('Failed to fetch address');\n            }\n            \n            const data = await response.json();\n            return data.display_name || null;\n        } catch (error) {\n            console.warn('Could not fetch address:', error);\n            return null;\n        }\n    }\n\n    /**\n     * Check if geolocation is supported\n     * @returns {boolean} True if supported\n     */\n    static isSupported() {\n        return !!navigator.geolocation;\n    }\n\n    /**\n     * Check geolocation permission status\n     * @returns {Promise<string>} Permission status\n     */\n    static async getPermissionStatus() {\n        if (!navigator.permissions || !navigator.permissions.query) {\n            return 'prompt';\n        }\n\n        try {\n            const result = await navigator.permissions.query({ name: 'geolocation' });\n            return result.state;\n        } catch (error) {\n            console.warn('Could not check permission status:', error);\n            return 'prompt';\n        }\n    }\n\n    /**\n     * Format location data for display\n     * @param {Object} location - Location data object\n     * @returns {string} Formatted location string\n     */\n    static formatLocation(location) {\n        if (!location) return '';\n        \n        const coords = `${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`;\n        const accuracy = location.accuracy ? ` (±${Math.round(location.accuracy)}m)` : '';\n        const address = location.address ? `\\n${location.address}` : '';\n        \n        return `${coords}${accuracy}${address}`;\n    }\n\n    /**\n     * Calculate distance between two coordinates in meters\n     * @param {number} lat1 - First latitude\n     * @param {number} lon1 - First longitude\n     * @param {number} lat2 - Second latitude\n     * @param {number} lon2 - Second longitude\n     * @returns {number} Distance in meters\n     */\n    static calculateDistance(lat1, lon1, lat2, lon2) {\n        const R = 6371e3; // Earth's radius in meters\n        const φ1 = lat1 * Math.PI / 180;\n        const φ2 = lat2 * Math.PI / 180;\n        const Δφ = (lat2 - lat1) * Math.PI / 180;\n        const Δλ = (lon2 - lon1) * Math.PI / 180;\n\n        const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n                  Math.cos(φ1) * Math.cos(φ2) *\n                  Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n        return R * c;\n    }\n\n    /**\n     * Validate coordinates\n     * @param {number} latitude - Latitude to validate\n     * @param {number} longitude - Longitude to validate\n     * @returns {boolean} True if coordinates are valid\n     */\n    static validateCoordinates(latitude, longitude) {\n        return (\n            typeof latitude === 'number' &&\n            typeof longitude === 'number' &&\n            latitude >= -90 && latitude <= 90 &&\n            longitude >= -180 && longitude <= 180\n        );\n    }\n\n    /**\n     * Get location suggestions based on voice content\n     * @param {string} transcript - Voice transcript to analyze\n     * @param {string} apiKey - NVIDIA API key\n     * @param {Object} currentLocation - Current location data (optional)\n     * @returns {Promise<Object>} Location suggestions and analysis\n     */\n    static async getLocationSuggestions(transcript, currentLocation = null) {\n        try {\n            // Force production URL if we're on Netlify\n            const isNetlify = typeof window !== 'undefined' && (window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app'));\n            const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : 'http://localhost:10000/api';\n            \n            const response = await fetch(`${baseURL}/voice/suggest-location`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    transcript,\n                    currentLocation\n                })\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || 'Failed to get location suggestions');\n            }\n\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            console.error('Location suggestion error:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Search for locations using OpenStreetMap Nominatim\n     * @param {string} query - Search query\n     * @param {number} limit - Maximum number of results\n     * @returns {Promise<Array>} Array of location results\n     */\n    static async searchLocations(query, limit = 5) {\n        try {\n            const response = await fetch(\n                `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=${limit}&addressdetails=1`\n            );\n            \n            if (!response.ok) {\n                throw new Error('Failed to search locations');\n            }\n            \n            const data = await response.json();\n            return data.map(item => ({\n                name: item.display_name,\n                type: item.type,\n                latitude: parseFloat(item.lat),\n                longitude: parseFloat(item.lon),\n                address: item.display_name,\n                importance: item.importance\n            }));\n        } catch (error) {\n            console.warn('Could not search locations:', error);\n            return [];\n        }\n    }\n}\n\nexport default LocationService; ","import React, { useState, useEffect } from 'react';\nimport LocationService from '../services/locationService';\nimport './LocationSuggestions.css';\nimport { useTranslation } from 'react-i18next';\n\nconst LocationSuggestions = ({ \n    transcript, \n    currentLocation, \n    onLocationSelect, \n    onClose \n}) => {\n    const [suggestions, setSuggestions] = useState([]);\n    const [analysis, setAnalysis] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        if (transcript) {\n            getLocationSuggestions();\n        }\n    }, [transcript]);\n\n    const getLocationSuggestions = async () => {\n        if (!transcript) return;\n\n        setIsLoading(true);\n        setError('');\n\n        try {\n            const result = await LocationService.getLocationSuggestions(\n                transcript, \n         \n                currentLocation\n            );\n\n            if (result.success) {\n                setSuggestions(result.suggestions || []);\n                setAnalysis(result.analysis || {});\n                \n                // Auto-search if specific place is mentioned\n                if (result.analysis?.specificPlace) {\n                    setSearchQuery(result.analysis.specificPlace);\n                    searchLocations(result.analysis.specificPlace);\n                }\n            } else {\n                setError(result.error || 'Failed to get location suggestions');\n            }\n        } catch (error) {\n            console.error('Location suggestion error:', error);\n            setError(error.message || 'Failed to get location suggestions');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const searchLocations = async (query) => {\n        if (!query.trim()) {\n            setSearchResults([]);\n            return;\n        }\n\n        setIsSearching(true);\n        try {\n            const results = await LocationService.searchLocations(query, 5);\n            setSearchResults(results);\n        } catch (error) {\n            console.error('Location search error:', error);\n            setSearchResults([]);\n        } finally {\n            setIsSearching(false);\n        }\n    };\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        searchLocations(searchQuery);\n    };\n\n    const handleLocationSelect = (location) => {\n        onLocationSelect(location);\n        onClose();\n    };\n\n    const getLocationIcon = (type) => {\n        switch (type) {\n            case 'restaurant': return '🍽️';\n            case 'hotel': return '🏨';\n            case 'store': return '🛍️';\n            case 'attraction': return '🎯';\n            case 'service': return '🛠️';\n            default: return '📍';\n        }\n    };\n\n    const getConfidenceColor = (confidence) => {\n        if (confidence >= 0.8) return '#4CAF50';\n        if (confidence >= 0.6) return '#FF9800';\n        return '#F44336';\n    };\n\n    const getConfidenceText = (confidence) => {\n        if (confidence >= 0.8) return 'High';\n        if (confidence >= 0.6) return 'Medium';\n        return 'Low';\n    };\n\n    return (\n        <div className=\"location-suggestions\">\n            <div className=\"suggestions-header\">\n                <h3>📍 {t('locationSuggestions.suggestions')}</h3>\n                <button className=\"close-btn\" onClick={onClose}>\n                    ✕\n                </button>\n            </div>\n\n            {error && (\n                <div className=\"suggestions-error\">\n                    <span className=\"error-icon\">⚠️</span>\n                    {t('locationSuggestions.error')}\n                </div>\n            )}\n\n            {isLoading && (\n                <div className=\"suggestions-loading\">\n                    <div className=\"loading-spinner\"></div>\n                    <p>🤖 AI is analyzing your voice for location suggestions...</p>\n                </div>\n            )}\n\n            {analysis && !isLoading && (\n                <div className=\"analysis-summary\">\n                    <h4>📊 AI Analysis</h4>\n                    <div className=\"analysis-details\">\n                        <div className=\"analysis-item\">\n                            <span className=\"analysis-label\">{t('locationSuggestions.locationMentioned')}:</span>\n                            <span className={`analysis-value ${analysis.locationMentioned ? 'positive' : 'negative'}`}>\n                                {analysis.locationMentioned ? 'Yes' : 'No'}\n                            </span>\n                        </div>\n                        {analysis.locationType && analysis.locationType !== 'unknown' && (\n                            <div className=\"analysis-item\">\n                                <span className=\"analysis-label\">{t('locationSuggestions.type')}:</span>\n                                <span className=\"analysis-value\">\n                                    {getLocationIcon(analysis.locationType)} {analysis.locationType}\n                                </span>\n                            </div>\n                        )}\n                        {analysis.specificPlace && (\n                            <div className=\"analysis-item\">\n                                <span className=\"analysis-label\">{t('locationSuggestions.specificPlace')}:</span>\n                                <span className=\"analysis-value\">{analysis.specificPlace}</span>\n                            </div>\n                        )}\n                        {analysis.cityOrArea && (\n                            <div className=\"analysis-item\">\n                                <span className=\"analysis-label\">{t('locationSuggestions.area')}:</span>\n                                <span className=\"analysis-value\">{analysis.cityOrArea}</span>\n                            </div>\n                        )}\n                        <div className=\"analysis-item\">\n                            <span className=\"analysis-label\">{t('locationSuggestions.confidence')}:</span>\n                            <span \n                                className=\"analysis-value\"\n                                style={{ color: getConfidenceColor(analysis.confidence) }}\n                            >\n                                {getConfidenceText(analysis.confidence)} ({Math.round(analysis.confidence * 100)}%)\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {suggestions.length > 0 && !isLoading && (\n                <div className=\"ai-suggestions\">\n                    <h4>🤖 AI Suggestions</h4>\n                    <div className=\"suggestions-list\">\n                        {suggestions.map((suggestion, index) => (\n                            <div key={index} className=\"suggestion-item\">\n                                <div className=\"suggestion-header\">\n                                    <span className=\"suggestion-icon\">\n                                        {getLocationIcon(suggestion.type)}\n                                    </span>\n                                    <div className=\"suggestion-info\">\n                                        <h5 className=\"suggestion-name\">{suggestion.name}</h5>\n                                        <p className=\"suggestion-description\">{suggestion.description}</p>\n                                    </div>\n                                    <div className=\"suggestion-confidence\">\n                                        <span \n                                            className=\"confidence-badge\"\n                                            style={{ backgroundColor: getConfidenceColor(suggestion.confidence) }}\n                                        >\n                                            {Math.round(suggestion.confidence * 100)}%\n                                        </span>\n                                    </div>\n                                </div>\n                                {suggestion.address && (\n                                    <div className=\"suggestion-address\">\n                                        📍 {suggestion.address}\n                                    </div>\n                                )}\n                                {suggestion.keywords && suggestion.keywords.length > 0 && (\n                                    <div className=\"suggestion-keywords\">\n                                        {suggestion.keywords.map((keyword, idx) => (\n                                            <span key={idx} className=\"keyword-tag\">\n                                                {keyword}\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                                <button \n                                    className=\"select-location-btn\"\n                                    onClick={() => handleLocationSelect({\n                                        latitude: suggestion.coordinates?.latitude || 0,\n                                        longitude: suggestion.coordinates?.longitude || 0,\n                                        address: suggestion.address,\n                                        name: suggestion.name,\n                                        type: suggestion.type,\n                                        source: 'ai-suggestion'\n                                    })}\n                                >\n                                    {t('locationSuggestions.selectThisLocation')}\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n\n            <div className=\"manual-search\">\n                <h4>🔍 Manual Search</h4>\n                <form onSubmit={handleSearch} className=\"search-form\">\n                    <div className=\"search-input-group\">\n                        <input\n                            type=\"text\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            placeholder={t('locationSuggestions.searchForALocation')}\n                            className=\"search-input\"\n                        />\n                        <button \n                            type=\"submit\" \n                            className=\"search-btn\"\n                            disabled={isSearching || !searchQuery.trim()}\n                        >\n                            {isSearching ? '🔍' : t('locationSuggestions.search')}\n                        </button>\n                    </div>\n                </form>\n\n                {searchResults.length > 0 && (\n                    <div className=\"search-results\">\n                        <h5>Search Results</h5>\n                        <div className=\"results-list\">\n                            {searchResults.map((result, index) => (\n                                <div key={index} className=\"result-item\">\n                                    <div className=\"result-info\">\n                                        <h6 className=\"result-name\">{result.name}</h6>\n                                        <p className=\"result-type\">Type: {result.type}</p>\n                                    </div>\n                                    <button \n                                        className=\"select-result-btn\"\n                                        onClick={() => handleLocationSelect({\n                                            latitude: result.latitude,\n                                            longitude: result.longitude,\n                                            address: result.address,\n                                            name: result.name,\n                                            type: result.type,\n                                            source: 'manual-search'\n                                        })}\n                                    >\n                                        {t('locationSuggestions.select')}\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"suggestions-footer\">\n                <p className=\"suggestions-hint\">\n                    💡 AI analyzes your voice content to suggest relevant locations. You can also search manually.\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default LocationSuggestions; ","import React, { useState, useEffect } from 'react';\nimport LocationService from '../services/locationService';\nimport LocationSuggestions from './LocationSuggestions';\nimport './LocationAttachment.css';\nimport { useTranslation } from 'react-i18next';\n\nconst LocationAttachment = ({ \n    onLocationChange, \n    initialLocation = null, \n    transcript = null \n}) => {\n  const [location, setLocation] = useState(initialLocation);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [permissionStatus, setPermissionStatus] = useState('prompt');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // Check if geolocation is supported\n    if (!LocationService.isSupported()) {\n      setError('Geolocation is not supported by this browser.');\n      return;\n    }\n\n    // Check permission status\n    LocationService.getPermissionStatus().then(setPermissionStatus);\n  }, []);\n\n  const getCurrentLocation = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const locationData = await LocationService.getCurrentLocation();\n      setLocation(locationData);\n      onLocationChange(locationData);\n      \n      // Try to get address from coordinates\n      const address = await LocationService.getAddressFromCoordinates(\n        locationData.latitude, \n        locationData.longitude\n      );\n      \n      if (address) {\n        const updatedLocation = {\n          ...locationData,\n          address\n        };\n        setLocation(updatedLocation);\n        onLocationChange(updatedLocation);\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const clearLocation = () => {\n    setLocation(null);\n    onLocationChange(null);\n  };\n\n  const handleLocationSelect = (selectedLocation) => {\n    setLocation(selectedLocation);\n    onLocationChange(selectedLocation);\n  };\n\n  const getPermissionStatusText = () => {\n    switch (permissionStatus) {\n      case 'granted':\n        return 'Location access granted';\n      case 'denied':\n        return 'Location access denied';\n      case 'prompt':\n        return 'Location permission not set';\n      default:\n        return 'Checking location permission...';\n    }\n  };\n\n  const getPermissionStatusColor = () => {\n    switch (permissionStatus) {\n      case 'granted':\n        return '#4CAF50';\n      case 'denied':\n        return '#f44336';\n      case 'prompt':\n        return '#ff9800';\n      default:\n        return '#757575';\n    }\n  };\n\n  return (\n    <div className=\"location-attachment\">\n      <div className=\"location-header\">\n        <h3>📍 Location Attachment</h3>\n        <div \n          className=\"permission-status\"\n          style={{ color: getPermissionStatusColor() }}\n        >\n          {getPermissionStatusText()}\n        </div>\n      </div>\n\n      <div className=\"location-content\">\n        {location ? (\n          <div className=\"location-display\">\n            <div className=\"location-info\">\n              <div className=\"location-coordinates\">\n                <strong>Coordinates:</strong> {location.latitude.toFixed(6)}, {location.longitude.toFixed(6)}\n              </div>\n              {location.accuracy && (\n                <div className=\"location-accuracy\">\n                  <strong>Accuracy:</strong> ±{Math.round(location.accuracy)} meters\n                </div>\n              )}\n              {location.timestamp && (\n                <div className=\"location-timestamp\">\n                  <strong>Time:</strong> {new Date(location.timestamp).toLocaleString()}\n                </div>\n              )}\n              {location.address && (\n                <div className=\"location-address\">\n                  <strong>Address:</strong> {location.address}\n                </div>\n              )}\n              {location.name && (\n                <div className=\"location-name\">\n                  <strong>Name:</strong> {location.name}\n                </div>\n              )}\n              {location.type && (\n                <div className=\"location-type\">\n                  <strong>Type:</strong> {location.type}\n                </div>\n              )}\n              {location.source && (\n                <div className=\"location-source\">\n                  <strong>Source:</strong> {location.source === 'ai-suggestion' ? '🤖 AI Suggestion' : \n                                          location.source === 'manual-search' ? '🔍 Manual Search' : \n                                          '📍 GPS'}\n                </div>\n              )}\n            </div>\n            <div className=\"location-actions\">\n              <button \n                className=\"btn btn-secondary\"\n                onClick={clearLocation}\n              >\n                {t('locationAttachment.removeLocation')}\n              </button>\n              <button \n                className=\"btn btn-primary\"\n                onClick={getCurrentLocation}\n                disabled={isLoading}\n              >\n                {t('locationAttachment.updateLocation')}\n              </button>\n              {transcript && (\n                <button \n                  className=\"btn btn-suggest\"\n                  onClick={() => setShowSuggestions(true)}\n                >\n                  🤖 {t('locationAttachment.getAISuggestions')}\n                </button>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className=\"location-empty\">\n            <div className=\"location-placeholder\">\n              <span className=\"location-icon\">📍</span>\n              <p>{t('locationAttachment.noLocationAttached')}</p>\n              <p className=\"location-hint\">{t('locationAttachment.addCurrentLocationHint')}</p>\n            </div>\n            <div className=\"location-buttons\">\n              <button \n                className=\"btn btn-primary location-btn\"\n                onClick={getCurrentLocation}\n                disabled={isLoading || permissionStatus === 'denied'}\n              >\n                {isLoading ? t('locationAttachment.gettingLocation') : t('locationAttachment.attachCurrentLocation')}\n              </button>\n              {transcript && (\n                <button \n                  className=\"btn btn-suggest location-btn\"\n                  onClick={() => setShowSuggestions(true)}\n                >\n                  🤖 {t('locationAttachment.aiLocationSuggestions')}\n                </button>\n              )}\n            </div>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"location-error\">\n            <span className=\"error-icon\">⚠️</span>\n            <p>{error}</p>\n            {permissionStatus === 'denied' && (\n              <div className=\"permission-help\">\n                <p>{t('locationAttachment.enableLocationAccess')}</p>\n                <ul>\n                  <li>{t('locationAttachment.clickLocationIcon')}</li>\n                  <li>{t('locationAttachment.selectAllow')}</li>\n                  <li>{t('locationAttachment.refreshPage')} {t('locationAttachment.tryAgain')}</li>\n                </ul>\n              </div>\n            )}\n          </div>\n        )}\n\n        {isLoading && (\n          <div className=\"location-loading\">\n            <div className=\"loading-spinner\"></div>\n            <p>{t('locationAttachment.gettingLocation')}</p>\n          </div>\n        )}\n      </div>\n\n      {location && (\n        <div className=\"location-preview\">\n          <h4>Location Preview</h4>\n          <div className=\"location-text\">\n            {LocationService.formatLocation(location)}\n          </div>\n        </div>\n      )}\n\n      {/* Location Suggestions Modal */}\n      {showSuggestions && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <LocationSuggestions\n              transcript={transcript}\n              currentLocation={location}\n              onLocationSelect={handleLocationSelect}\n              onClose={() => setShowSuggestions(false)}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LocationAttachment; ","// Advanced function to clean and format AI responses for maximum clarity and focus\nfunction cleanAIResponse(response) {\n    if (!response || typeof response !== 'string') {\n        return response;\n    }\n    \n    // Remove common AI response artifacts\n    let cleaned = response\n        // Remove markdown code blocks\n        .replace(/```[\\s\\S]*?```/g, '')\n        // Remove asterisks used for emphasis\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1')\n        .replace(/\\*(.*?)\\*/g, '$1')\n        // Remove backticks\n        .replace(/`(.*?)`/g, '$1')\n        // Remove excessive newlines (more than 2 consecutive)\n        .replace(/\\n{3,}/g, '\\n\\n')\n        // Remove leading/trailing whitespace\n        .trim()\n        // Remove common AI prefixes\n        .replace(/^(Here's|Here is|I'll|I will|Let me|Based on|According to|As an AI|As a customer service representative|As a helpful assistant)[,\\s]*/gi, '')\n        // Remove common AI suffixes\n        .replace(/(I hope this helps|Let me know if you need anything else|Feel free to ask|Is there anything else I can help you with)[.!]*$/gi, '')\n        // Remove excessive punctuation\n        .replace(/[!]{2,}/g, '!')\n        .replace(/[?]{2,}/g, '?')\n        .replace(/[.]{2,}/g, '.')\n        // Remove emoji clusters (keep single emojis)\n        .replace(/([^\\s])\\1{2,}/g, '$1')\n        // Remove excessive spaces\n        .replace(/\\s{2,}/g, ' ')\n        // Remove quotes around the entire response\n        .replace(/^[\"']|[\"']$/g, '')\n        // Remove bullet points and numbering\n        .replace(/^[\\s]*[-*•]\\s*/gm, '')\n        .replace(/^[\\s]*\\d+[.)]\\s*/gm, '')\n        // Remove section headers\n        .replace(/^[A-Z][A-Z\\s]+:$/gm, '')\n        // Remove empty lines at start and end\n        .replace(/^\\s*\\n/, '')\n        .replace(/\\n\\s*$/, '');\n    \n    // Apply enhanced formatting for longer, more relevant responses\n    cleaned = formatForEnhancedDepthAndRelevance(cleaned);\n    \n    return cleaned;\n}\n\n// Enhanced formatting function for longer, more comprehensive, and topic-relevant responses\nfunction formatForEnhancedDepthAndRelevance(text) {\n    if (!text || typeof text !== 'string') {\n        return text;\n    }\n    \n    // Split into sentences and clean them\n    const sentences = text.split(/[.!?]+/)\n        .map(s => s.trim())\n        .filter(s => s.length > 0);\n    \n    // Enhanced content structure analysis\n    const structure = analyzeEnhancedContentStructure(sentences);\n    \n    // Format based on content type with enhanced depth\n    if (structure.type === 'review') {\n        return formatEnhancedReviewResponse(sentences, structure);\n    } else if (structure.type === 'analysis') {\n        return formatEnhancedAnalysisResponse(sentences, structure);\n    } else if (structure.type === 'conversation') {\n        return formatEnhancedConversationResponse(sentences, structure);\n    } else if (structure.type === 'customer_service') {\n        return formatEnhancedCustomerServiceResponse(sentences, structure);\n    } else {\n        return formatEnhancedGeneralResponse(sentences, structure);\n    }\n}\n\n// Enhanced content structure analysis for better topic relevance\nfunction analyzeEnhancedContentStructure(sentences) {\n    const text = sentences.join(' ').toLowerCase();\n    \n    // Enhanced content type detection\n    let type = 'general';\n    if (text.includes('rating') || text.includes('stars') || text.includes('recommend') || text.includes('experience') || text.includes('food') || text.includes('service') || text.includes('quality')) {\n        type = 'review';\n    } else if (text.includes('analysis') || text.includes('sentiment') || text.includes('key points') || text.includes('summary') || text.includes('findings') || text.includes('insights')) {\n        type = 'analysis';\n    } else if (text.includes('hello') || text.includes('hi') || text.includes('how are you') || text.includes('chat') || text.includes('conversation')) {\n        type = 'conversation';\n    } else if (text.includes('customer') || text.includes('service') || text.includes('apologize') || text.includes('resolve') || text.includes('issue') || text.includes('problem')) {\n        type = 'customer_service';\n    }\n    \n    // Enhanced key elements extraction\n    const keyPoints = sentences.filter(s => \n        s.toLowerCase().includes('important') || \n        s.toLowerCase().includes('key') || \n        s.toLowerCase().includes('main') ||\n        s.toLowerCase().includes('primary') ||\n        s.toLowerCase().includes('essential') ||\n        s.toLowerCase().includes('critical')\n    );\n    \n    const positiveAspects = sentences.filter(s => \n        s.toLowerCase().includes('like') || \n        s.toLowerCase().includes('love') || \n        s.toLowerCase().includes('good') ||\n        s.toLowerCase().includes('great') ||\n        s.toLowerCase().includes('amazing') ||\n        s.toLowerCase().includes('excellent') ||\n        s.toLowerCase().includes('outstanding') ||\n        s.toLowerCase().includes('fantastic')\n    );\n    \n    const negativeAspects = sentences.filter(s => \n        s.toLowerCase().includes('disappointing') ||\n        s.toLowerCase().includes('bad') ||\n        s.toLowerCase().includes('poor') ||\n        s.toLowerCase().includes('terrible') ||\n        s.toLowerCase().includes('awful') ||\n        s.toLowerCase().includes('horrible') ||\n        s.toLowerCase().includes('unacceptable')\n    );\n    \n    const suggestions = sentences.filter(s => \n        s.toLowerCase().includes('suggest') || \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('could') ||\n        s.toLowerCase().includes('should') ||\n        s.toLowerCase().includes('might') ||\n        s.toLowerCase().includes('consider')\n    );\n    \n    const questions = sentences.filter(s => s.includes('?'));\n    const statements = sentences.filter(s => !s.includes('?'));\n    \n    // Extract topic-specific keywords\n    const topics = extractTopicKeywords(text);\n    \n    return {\n        type,\n        keyPoints,\n        positiveAspects,\n        negativeAspects,\n        suggestions,\n        questions,\n        statements,\n        topics,\n        totalSentences: sentences.length\n    };\n}\n\n// Extract topic-specific keywords for better relevance\nfunction extractTopicKeywords(text) {\n    const topics = [];\n    \n    // Restaurant-related topics\n    if (text.includes('food') || text.includes('restaurant') || text.includes('dining') || text.includes('meal')) {\n        topics.push('restaurant', 'food', 'dining');\n    }\n    \n    // Hotel-related topics\n    if (text.includes('hotel') || text.includes('accommodation') || text.includes('room') || text.includes('stay')) {\n        topics.push('hotel', 'accommodation', 'travel');\n    }\n    \n    // Product-related topics\n    if (text.includes('product') || text.includes('item') || text.includes('purchase') || text.includes('buy')) {\n        topics.push('product', 'shopping', 'consumer');\n    }\n    \n    // Service-related topics\n    if (text.includes('service') || text.includes('support') || text.includes('help') || text.includes('assistance')) {\n        topics.push('service', 'support', 'customer care');\n    }\n    \n    // Technology-related topics\n    if (text.includes('app') || text.includes('software') || text.includes('technology') || text.includes('digital')) {\n        topics.push('technology', 'software', 'digital');\n    }\n    \n    return [...new Set(topics)]; // Remove duplicates\n}\n\n// Enhanced review response with comprehensive details\nfunction formatEnhancedReviewResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Comprehensive opening with context\n    const opening = sentences.find(s => \n        s.toLowerCase().includes('experience') || \n        s.toLowerCase().includes('visit') || \n        s.toLowerCase().includes('tried') ||\n        s.toLowerCase().includes('went') ||\n        s.toLowerCase().includes('recently') ||\n        s.toLowerCase().includes('last')\n    );\n    \n    if (opening) {\n        formatted += `📝 ${capitalizeFirst(opening)}.\\n\\n`;\n    }\n    \n    // Detailed positive aspects section\n    if (structure.positiveAspects.length > 0) {\n        formatted += '✨ What I Really Enjoyed:\\n';\n        structure.positiveAspects.slice(0, 4).forEach((aspect, index) => {\n            formatted += `   • ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Detailed negative aspects section\n    if (structure.negativeAspects.length > 0) {\n        formatted += '⚠️ Areas for Improvement:\\n';\n        structure.negativeAspects.slice(0, 3).forEach((aspect, index) => {\n            formatted += `   • ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Key highlights and memorable moments\n    const highlights = sentences.filter(s => \n        s.toLowerCase().includes('highlight') || \n        s.toLowerCase().includes('memorable') || \n        s.toLowerCase().includes('standout') ||\n        s.toLowerCase().includes('impressive') ||\n        s.toLowerCase().includes('notable')\n    );\n    \n    if (highlights.length > 0) {\n        formatted += '🌟 Memorable Highlights:\\n';\n        highlights.slice(0, 3).forEach((highlight, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(highlight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Detailed experience description\n    const experienceDetails = sentences.filter(s => \n        s.toLowerCase().includes('atmosphere') || \n        s.toLowerCase().includes('ambiance') || \n        s.toLowerCase().includes('environment') ||\n        s.toLowerCase().includes('setting') ||\n        s.toLowerCase().includes('vibe') ||\n        s.toLowerCase().includes('feel')\n    );\n    \n    if (experienceDetails.length > 0) {\n        formatted += '🏠 Atmosphere & Environment:\\n';\n        experienceDetails.slice(0, 2).forEach(detail => {\n            formatted += `   ${capitalizeFirst(detail)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Value and pricing considerations\n    const valueAspects = sentences.filter(s => \n        s.toLowerCase().includes('price') || \n        s.toLowerCase().includes('cost') || \n        s.toLowerCase().includes('value') ||\n        s.toLowerCase().includes('worth') ||\n        s.toLowerCase().includes('expensive') ||\n        s.toLowerCase().includes('affordable')\n    );\n    \n    if (valueAspects.length > 0) {\n        formatted += '💰 Value & Pricing:\\n';\n        valueAspects.slice(0, 2).forEach(aspect => {\n            formatted += `   ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Recommendations and suggestions\n    if (structure.suggestions.length > 0) {\n        formatted += '💡 Recommendations:\\n';\n        structure.suggestions.slice(0, 3).forEach((suggestion, index) => {\n            formatted += `   • ${capitalizeFirst(suggestion)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Comprehensive conclusion\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('return') || \n        s.toLowerCase().includes('worth') ||\n        s.toLowerCase().includes('overall') ||\n        s.toLowerCase().includes('conclusion') ||\n        s.toLowerCase().includes('final')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}.`;\n    } else {\n        // Generate a comprehensive conclusion based on sentiment\n        const positiveCount = structure.positiveAspects.length;\n        const negativeCount = structure.negativeAspects.length;\n        \n        if (positiveCount > negativeCount) {\n            formatted += `🎯 Overall, this was a positive experience that I would recommend to others.`;\n        } else if (negativeCount > positiveCount) {\n            formatted += `🎯 While there were some issues, there's potential for improvement with the right changes.`;\n        } else {\n            formatted += `🎯 This was a mixed experience with both positive and negative aspects to consider.`;\n        }\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced analysis response with detailed insights\nfunction formatEnhancedAnalysisResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Executive summary\n    const summary = sentences.find(s => \n        s.toLowerCase().includes('overall') || \n        s.toLowerCase().includes('summary') || \n        s.toLowerCase().includes('in conclusion') ||\n        s.toLowerCase().includes('main takeaway')\n    );\n    \n    if (summary) {\n        formatted += `📊 Executive Summary:\\n${capitalizeFirst(summary)}.\\n\\n`;\n    }\n    \n    // Detailed key findings with context\n    const findings = sentences.filter(s => \n        s.toLowerCase().includes('found') || \n        s.toLowerCase().includes('discovered') || \n        s.toLowerCase().includes('identified') ||\n        s.toLowerCase().includes('detected') ||\n        s.toLowerCase().includes('observed') ||\n        s.toLowerCase().includes('noticed')\n    );\n    \n    if (findings.length > 0) {\n        formatted += '🔍 Detailed Findings:\\n';\n        findings.slice(0, 5).forEach((finding, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(finding)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Sentiment analysis breakdown\n    const sentimentSentences = sentences.filter(s => \n        s.toLowerCase().includes('positive') || \n        s.toLowerCase().includes('negative') || \n        s.toLowerCase().includes('neutral') ||\n        s.toLowerCase().includes('sentiment') ||\n        s.toLowerCase().includes('emotion') ||\n        s.toLowerCase().includes('tone')\n    );\n    \n    if (sentimentSentences.length > 0) {\n        formatted += '😊 Sentiment Analysis:\\n';\n        sentimentSentences.slice(0, 3).forEach((sentiment, index) => {\n            formatted += `   • ${capitalizeFirst(sentiment)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Topic-specific insights\n    if (structure.topics.length > 0) {\n        formatted += `📋 ${structure.topics[0].charAt(0).toUpperCase() + structure.topics[0].slice(1)}-Specific Insights:\\n`;\n        const topicSentences = sentences.filter(s => \n            structure.topics.some(topic => s.toLowerCase().includes(topic))\n        );\n        topicSentences.slice(0, 3).forEach((insight, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Strategic recommendations\n    if (structure.suggestions.length > 0) {\n        formatted += '💡 Strategic Recommendations:\\n';\n        structure.suggestions.slice(0, 4).forEach((rec, index) => {\n            formatted += `   • ${capitalizeFirst(rec)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Action items and next steps\n    const actionItems = sentences.filter(s => \n        s.toLowerCase().includes('action') || \n        s.toLowerCase().includes('next') || \n        s.toLowerCase().includes('step') ||\n        s.toLowerCase().includes('plan') ||\n        s.toLowerCase().includes('implement') ||\n        s.toLowerCase().includes('improve')\n    );\n    \n    if (actionItems.length > 0) {\n        formatted += '🚀 Action Items & Next Steps:\\n';\n        actionItems.slice(0, 4).forEach((item, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(item)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Impact assessment\n    const impactSentences = sentences.filter(s => \n        s.toLowerCase().includes('impact') || \n        s.toLowerCase().includes('effect') || \n        s.toLowerCase().includes('result') ||\n        s.toLowerCase().includes('outcome') ||\n        s.toLowerCase().includes('consequence')\n    );\n    \n    if (impactSentences.length > 0) {\n        formatted += '📈 Impact Assessment:\\n';\n        impactSentences.slice(0, 2).forEach((impact, index) => {\n            formatted += `   • ${capitalizeFirst(impact)}.\\n`;\n        });\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced conversation response with more depth\nfunction formatEnhancedConversationResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Warm greeting or acknowledgment\n    const greeting = sentences.find(s => \n        s.toLowerCase().includes('hello') || \n        s.toLowerCase().includes('hi') || \n        s.toLowerCase().includes('hey') ||\n        s.toLowerCase().includes('thanks') ||\n        s.toLowerCase().includes('thank you') ||\n        s.toLowerCase().includes('appreciate')\n    );\n    \n    if (greeting) {\n        formatted += `${capitalizeFirst(greeting)}.\\n\\n`;\n    }\n    \n    // Main response with expanded context\n    const mainResponse = sentences.filter(s => \n        !greeting?.includes(s) &&\n        s.length > 10\n    );\n    \n    if (mainResponse.length > 0) {\n        formatted += '💭 My Thoughts:\\n';\n        mainResponse.slice(0, 4).forEach((response, index) => {\n            formatted += `   ${capitalizeFirst(response)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Personal insights or experiences\n    const personalInsights = sentences.filter(s => \n        s.toLowerCase().includes('think') || \n        s.toLowerCase().includes('believe') || \n        s.toLowerCase().includes('feel') ||\n        s.toLowerCase().includes('experience') ||\n        s.toLowerCase().includes('opinion') ||\n        s.toLowerCase().includes('view')\n    );\n    \n    if (personalInsights.length > 0) {\n        formatted += '🤔 Personal Perspective:\\n';\n        personalInsights.slice(0, 2).forEach((insight, index) => {\n            formatted += `   • ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Engaging follow-up questions\n    const followUp = sentences.find(s => \n        s.toLowerCase().includes('what about you') || \n        s.toLowerCase().includes('how about') || \n        s.toLowerCase().includes('what do you think') ||\n        s.toLowerCase().includes('any thoughts') ||\n        s.toLowerCase().includes('your experience') ||\n        s.toLowerCase().includes('your opinion')\n    );\n    \n    if (followUp) {\n        formatted += `💬 ${capitalizeFirst(followUp)}`;\n    } else {\n        // Generate engaging follow-up\n        formatted += `💬 What are your thoughts on this topic? I'd love to hear your perspective!`;\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced customer service response with comprehensive approach\nfunction formatEnhancedCustomerServiceResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Empathetic acknowledgment\n    const acknowledgment = sentences.find(s => \n        s.toLowerCase().includes('understand') || \n        s.toLowerCase().includes('apologize') || \n        s.toLowerCase().includes('sorry') ||\n        s.toLowerCase().includes('concern') ||\n        s.toLowerCase().includes('issue') ||\n        s.toLowerCase().includes('problem')\n    );\n    \n    if (acknowledgment) {\n        formatted += `🤝 ${capitalizeFirst(acknowledgment)}.\\n\\n`;\n    }\n    \n    // Detailed problem understanding\n    const problemAnalysis = sentences.filter(s => \n        s.toLowerCase().includes('situation') || \n        s.toLowerCase().includes('circumstance') || \n        s.toLowerCase().includes('experience') ||\n        s.toLowerCase().includes('issue') ||\n        s.toLowerCase().includes('problem') ||\n        s.toLowerCase().includes('concern')\n    );\n    \n    if (problemAnalysis.length > 0) {\n        formatted += '📋 Understanding Your Situation:\\n';\n        problemAnalysis.slice(0, 3).forEach((analysis, index) => {\n            formatted += `   • ${capitalizeFirst(analysis)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Immediate solutions and actions\n    const solutions = sentences.filter(s => \n        s.toLowerCase().includes('solution') || \n        s.toLowerCase().includes('resolve') || \n        s.toLowerCase().includes('fix') ||\n        s.toLowerCase().includes('address') ||\n        s.toLowerCase().includes('correct') ||\n        s.toLowerCase().includes('improve')\n    );\n    \n    if (solutions.length > 0) {\n        formatted += '🔧 Immediate Solutions:\\n';\n        solutions.slice(0, 4).forEach((solution, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(solution)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Long-term improvements\n    const improvements = sentences.filter(s => \n        s.toLowerCase().includes('improve') || \n        s.toLowerCase().includes('enhance') || \n        s.toLowerCase().includes('better') ||\n        s.toLowerCase().includes('upgrade') ||\n        s.toLowerCase().includes('develop') ||\n        s.toLowerCase().includes('advance')\n    );\n    \n    if (improvements.length > 0) {\n        formatted += '🚀 Long-term Improvements:\\n';\n        improvements.slice(0, 3).forEach((improvement, index) => {\n            formatted += `   • ${capitalizeFirst(improvement)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Compensation or goodwill gestures\n    const compensation = sentences.filter(s => \n        s.toLowerCase().includes('compensate') || \n        s.toLowerCase().includes('refund') || \n        s.toLowerCase().includes('discount') ||\n        s.toLowerCase().includes('credit') ||\n        s.toLowerCase().includes('offer') ||\n        s.toLowerCase().includes('gesture')\n    );\n    \n    if (compensation.length > 0) {\n        formatted += '🎁 Goodwill Gestures:\\n';\n        compensation.slice(0, 2).forEach((gesture, index) => {\n            formatted += `   • ${capitalizeFirst(gesture)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Follow-up and contact information\n    const followUp = sentences.find(s => \n        s.toLowerCase().includes('contact') || \n        s.toLowerCase().includes('reach') || \n        s.toLowerCase().includes('follow up') ||\n        s.toLowerCase().includes('get in touch') ||\n        s.toLowerCase().includes('available')\n    );\n    \n    if (followUp) {\n        formatted += `📞 ${capitalizeFirst(followUp)}`;\n    } else {\n        formatted += `📞 Please don't hesitate to reach out if you need any further assistance.`;\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced general response with comprehensive structure\nfunction formatEnhancedGeneralResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Main point with context\n    const mainPoint = sentences[0];\n    if (mainPoint) {\n        formatted += `📌 Main Point:\\n${capitalizeFirst(mainPoint)}.\\n\\n`;\n    }\n    \n    // Detailed explanation\n    const explanations = sentences.slice(1, 6);\n    if (explanations.length > 0) {\n        formatted += '📋 Detailed Explanation:\\n';\n        explanations.forEach((explanation, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(explanation)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Key insights and takeaways\n    const insights = sentences.filter(s => \n        s.toLowerCase().includes('important') || \n        s.toLowerCase().includes('key') || \n        s.toLowerCase().includes('essential') ||\n        s.toLowerCase().includes('critical') ||\n        s.toLowerCase().includes('significant') ||\n        s.toLowerCase().includes('notable')\n    );\n    \n    if (insights.length > 0) {\n        formatted += '💡 Key Insights:\\n';\n        insights.slice(0, 3).forEach((insight, index) => {\n            formatted += `   • ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Practical applications or examples\n    const applications = sentences.filter(s => \n        s.toLowerCase().includes('example') || \n        s.toLowerCase().includes('instance') || \n        s.toLowerCase().includes('case') ||\n        s.toLowerCase().includes('scenario') ||\n        s.toLowerCase().includes('situation') ||\n        s.toLowerCase().includes('application')\n    );\n    \n    if (applications.length > 0) {\n        formatted += '🔍 Practical Examples:\\n';\n        applications.slice(0, 2).forEach((app, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(app)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Comprehensive conclusion\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('therefore') || \n        s.toLowerCase().includes('thus') || \n        s.toLowerCase().includes('in summary') ||\n        s.toLowerCase().includes('overall') ||\n        s.toLowerCase().includes('conclusion') ||\n        s.toLowerCase().includes('final')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}`;\n    } else {\n        // Generate a comprehensive conclusion\n        formatted += `🎯 In summary, this topic encompasses multiple important aspects that deserve careful consideration and thoughtful discussion.`;\n    }\n    \n    return formatted.trim();\n}\n\n// Helper function to capitalize first letter\nfunction capitalizeFirst(str) {\n    if (!str || typeof str !== 'string') return str;\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n// Voice Service for handling voice analysis and review generation\nimport apiConfig from '../config/api';\n\nclass VoiceService {\n  constructor() {\n    // Force production URL if we're on Netlify\n    const isNetlify = typeof window !== 'undefined' && (window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app'));\n    this.baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n  }\n\n  // Analyze voice transcript using NVIDIA Llama\n  async analyzeVoice(transcript) {\n    try {\n      const response = await fetch(`${this.baseURL}/voice/analyze`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          transcript\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Failed to analyze voice input');\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Voice analysis error:', error);\n      throw error;\n    }\n  }\n\n  // Generate review from voice input and analysis\n  async generateReview(transcript, analysis, reviewType = 'general') {\n    try {\n      const requestBody = {\n        transcript,\n        analysis,\n        reviewType\n      };\n      \n      console.log('VoiceService: Sending request to backend:', {\n        url: `${this.baseURL}/voice/generate-review`,\n        requestBody\n      });\n      \n      const response = await fetch(`${this.baseURL}/voice/generate-review`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      console.log('VoiceService: Response status:', response.status);\n      console.log('VoiceService: Response ok:', response.ok);\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('VoiceService: Error response:', errorData);\n        throw new Error(errorData.error || 'Failed to generate review');\n      }\n\n      const data = await response.json();\n      console.log('VoiceService: Success response:', data);\n      // Clean the response before returning\n      return cleanAIResponse(data.review);\n    } catch (error) {\n      console.error('Review generation error:', error);\n      throw error;\n    }\n  }\n\n  // Get voice analysis with fallback\n  async getVoiceAnalysis(transcript) {\n    try {\n      return await this.analyzeVoice(transcript);\n    } catch (error) {\n      console.error('Voice analysis failed:', error);\n      \n      // Return fallback analysis\n      return {\n        success: false,\n        error: error.message,\n        analysis: {\n          sentiment: 'neutral',\n          confidence: 0.5,\n          keyPoints: ['Content could not be analyzed'],\n          topics: ['General'],\n          suggestions: ['Please try again or check your API key'],\n          tone: 'neutral',\n          actionItems: ['Review the transcript manually'],\n          summary: 'Analysis failed - please try again',\n          wordCount: transcript.split(' ').length,\n          speakingPace: 'normal'\n        },\n        provider: 'Fallback Analysis'\n      };\n    }\n  }\n}\n\nexport default new VoiceService(); ","import React, { useState } from 'react';\nimport VoiceRecognition from '../components/VoiceRecognition';\nimport VoiceAnalysis from '../components/VoiceAnalysis';\nimport LocationAttachment from '../components/LocationAttachment';\nimport VoiceService from '../services/VoiceService';\nimport './VoiceReview.css';\n\nconst VoiceReview = () => {\n    const [transcript, setTranscript] = useState('');\n    const [analysis, setAnalysis] = useState(null);\n    const [isAnalyzing, setIsAnalyzing] = useState(false);\n    const [reviewType, setReviewType] = useState('restaurant');\n    const [rating, setRating] = useState(5);\n    const [generatedReview, setGeneratedReview] = useState('');\n    const [savedReviews, setSavedReviews] = useState([]);\n    const [locationData, setLocationData] = useState(null);\n    const [error, setError] = useState('');\n    const [ratingAutoAdjusted, setRatingAutoAdjusted] = useState(false);\n\n    const handleTranscript = (newTranscript) => {\n        setTranscript(newTranscript);\n        setAnalysis(null); // Clear previous analysis when new transcript is added\n        setError('');\n        setRatingAutoAdjusted(false); // Reset auto-adjusted flag for new input\n    };\n\n    // Auto-adjust rating based on voice content and sentiment\n    const autoAdjustRating = (transcript, analysisData) => {\n        if (!transcript || !analysisData) return;\n        \n        const { sentiment, confidence, keyPoints, summary } = analysisData;\n        let suggestedRating = 3; // Default neutral rating\n        \n        // Base rating on sentiment\n        switch (sentiment) {\n            case 'positive':\n                suggestedRating = 4;\n                break;\n            case 'negative':\n                suggestedRating = 2;\n                break;\n            case 'neutral':\n                suggestedRating = 3;\n                break;\n        }\n        \n        // Adjust based on confidence\n        if (confidence >= 0.9) {\n            // High confidence - keep the sentiment-based rating\n        } else if (confidence >= 0.7) {\n            // Medium confidence - slightly adjust toward neutral\n            if (suggestedRating > 3) suggestedRating--;\n            else if (suggestedRating < 3) suggestedRating++;\n        } else {\n            // Low confidence - default to neutral\n            suggestedRating = 3;\n        }\n        \n        // Analyze key points for additional context\n        if (keyPoints && keyPoints.length > 0) {\n            const positiveKeywords = ['amazing', 'excellent', 'great', 'good', 'love', 'perfect', 'best', 'fantastic', 'wonderful', 'outstanding'];\n            const negativeKeywords = ['terrible', 'awful', 'bad', 'horrible', 'worst', 'disappointing', 'poor', 'mediocre', 'overpriced', 'scam'];\n            \n            const text = transcript.toLowerCase() + ' ' + keyPoints.join(' ').toLowerCase();\n            \n            const positiveCount = positiveKeywords.filter(word => text.includes(word)).length;\n            const negativeCount = negativeKeywords.filter(word => text.includes(word)).length;\n            \n            if (positiveCount > negativeCount && positiveCount >= 2) {\n                suggestedRating = Math.min(5, suggestedRating + 1);\n            } else if (negativeCount > positiveCount && negativeCount >= 2) {\n                suggestedRating = Math.max(1, suggestedRating - 1);\n            }\n        }\n        \n        // Special cases based on content\n        const text = transcript.toLowerCase();\n        if (text.includes('overpriced') || text.includes('scam') || text.includes('rip off')) {\n            suggestedRating = Math.max(1, suggestedRating - 1);\n        }\n        if (text.includes('worth it') || text.includes('recommend') || text.includes('love it')) {\n            suggestedRating = Math.min(5, suggestedRating + 1);\n        }\n        \n        return suggestedRating;\n    };\n\n    const analyzeVoiceInput = async (inputTranscript) => {\n        if (!inputTranscript || inputTranscript.trim().length === 0) {\n            setError('Please record some voice input first');\n            return;\n        }\n\n        // API key is now handled securely on the server\n\n        setIsAnalyzing(true);\n        setError('');\n\n        try {\n            console.log('Analyzing voice input:', inputTranscript.substring(0, 100) + '...');\n            const analysisResult = await VoiceService.getVoiceAnalysis(inputTranscript);\n            \n            // Add the original transcript to the analysis result\n            const analysisWithTranscript = {\n                ...analysisResult,\n                transcript: inputTranscript\n            };\n            \n            setAnalysis(analysisWithTranscript);\n            \n            // Auto-adjust rating based on analysis\n            if (analysisResult.success) {\n                const suggestedRating = autoAdjustRating(inputTranscript, analysisResult);\n                if (suggestedRating && suggestedRating !== rating) {\n                    setRating(suggestedRating);\n                    console.log(`Auto-adjusted rating from ${rating} to ${suggestedRating} based on voice content`);\n                    setRatingAutoAdjusted(true);\n                }\n            }\n            \n            if (!analysisResult.success) {\n                setError(analysisResult.error || 'Analysis failed');\n            }\n        } catch (error) {\n            console.error('Voice analysis error:', error);\n            setError(error.message || 'Failed to analyze voice input');\n        } finally {\n            setIsAnalyzing(false);\n        }\n    };\n\n    const handleGenerateReview = async (inputTranscript, analysisData, reviewTypeParam) => {\n        // API key is now handled securely on the server\n\n        try {\n            // Combine review type from component state and parameter\n            const finalReviewType = reviewTypeParam || reviewType;\n            \n            console.log('Generating review with:', {\n                transcript: inputTranscript ? inputTranscript.substring(0, 100) + '...' : 'undefined',\n                reviewType: finalReviewType,\n                rating,\n                hasLocation: !!locationData\n            });\n            \n            // Validate inputs before making the API call\n            if (!inputTranscript || inputTranscript.trim().length === 0) {\n                throw new Error('No transcript provided for review generation');\n            }\n            \n            if (!analysisData) {\n                throw new Error('No analysis data provided for review generation');\n            }\n            \n            const review = await VoiceService.generateReview(inputTranscript, analysisData, finalReviewType);\n            \n            let reviewText = review;\n            \n            // Add location information to the review if available\n            if (locationData) {\n                reviewText += `\\n\\n📍 Location: `;\n                if (locationData.address) {\n                    reviewText += locationData.address;\n                } else {\n                    reviewText += `${locationData.latitude.toFixed(6)}, ${locationData.longitude.toFixed(6)}`;\n                }\n                if (locationData.accuracy) {\n                    reviewText += ` (Accuracy: ±${Math.round(locationData.accuracy)}m)`;\n                }\n            }\n\n            // Add rating if specified\n            if (rating && rating > 0) {\n                reviewText += `\\n\\n⭐ Rating: ${rating}/5`;\n            }\n            \n            setGeneratedReview(reviewText);\n            \n            // Auto-save the generated review\n            const reviewData = {\n                id: Date.now(),\n                type: finalReviewType,\n                rating,\n                review: reviewText,\n                transcript: inputTranscript,\n                analysis: analysisData,\n                location: locationData,\n                timestamp: new Date().toISOString()\n            };\n            \n            console.log('Saving review data:', reviewData);\n            \n            setSavedReviews(prev => [reviewData, ...prev]);\n            \n            // Save to localStorage\n            const existingReviews = JSON.parse(localStorage.getItem('voiceReviews') || '[]');\n            const updatedReviews = [reviewData, ...existingReviews];\n            localStorage.setItem('voiceReviews', JSON.stringify(updatedReviews));\n            \n            console.log('Saved to localStorage. Total voice reviews:', updatedReviews.length);\n            console.log('Current localStorage voiceReviews:', localStorage.getItem('voiceReviews'));\n            \n            // Show success message\n            alert('✅ Review generated and saved successfully! Check the Review History to see your saved reviews.');\n            \n            return reviewText;\n        } catch (error) {\n            console.error('Review generation error:', error);\n            throw error;\n        }\n    };\n\n    const handleSaveAnalysis = (analysisData) => {\n        const analysisRecord = {\n            id: Date.now(),\n            analysis: analysisData,\n            timestamp: new Date().toISOString()\n        };\n        \n        // Save to localStorage\n        const existingAnalyses = JSON.parse(localStorage.getItem('voiceAnalyses') || '[]');\n        localStorage.setItem('voiceAnalyses', JSON.stringify([analysisRecord, ...existingAnalyses]));\n        \n        alert('Analysis saved successfully!');\n    };\n\n    const clearAll = () => {\n        setTranscript('');\n        setAnalysis(null);\n        setGeneratedReview('');\n        setLocationData(null);\n        setError('');\n        setRatingAutoAdjusted(false);\n    };\n\n    const handleLocationChange = (location) => {\n        setLocationData(location);\n    };\n\n    return (\n        <div className=\"voice-review\">\n            <div className=\"voice-review-container\">\n                <div className=\"voice-review-header\">\n                    <h1>🎤 AI Voice Review Generator</h1>\n                    <p>Speak your experience and let NVIDIA Llama AI analyze and generate a professional review</p>\n                </div>\n\n                <div className=\"voice-review-content\">\n                    {/* API Key is now handled securely on the server */}\n\n                    <div className=\"voice-input-section\">\n                        <h2>🎤 Voice Input</h2>\n                        <div className=\"voice-input-header\">\n                            <div className=\"review-type-selector\">\n                                <label htmlFor=\"reviewType\">Review Type:</label>\n                                <select \n                                    id=\"reviewType\"\n                                    value={reviewType} \n                                    onChange={(e) => setReviewType(e.target.value)}\n                                    className=\"review-type-input\"\n                                >\n                                    <option value=\"restaurant\">🍽️ Restaurant</option>\n                                    <option value=\"hotel\">🏨 Hotel</option>\n                                    <option value=\"product\">📱 Product</option>\n                                    <option value=\"service\">🛠️ Service</option>\n                                    <option value=\"experience\">🎯 Experience</option>\n                                    <option value=\"app\">💻 App/Software</option>\n                                    <option value=\"place\">📍 Place/Location</option>\n                                    <option value=\"general\">📝 General</option>\n                                </select>\n                            </div>\n                        </div>\n                        <VoiceRecognition\n                            onTranscript={handleTranscript}\n                            placeholder=\"Click the microphone and speak about your experience...\"\n                            enableLLMEnhancement={true}\n                        />\n                        \n                        {transcript && (\n                            <div className=\"transcript-display\">\n                                <h3>Your Voice Input:</h3>\n                                <p>{transcript}</p>\n                                <div className=\"transcript-actions\">\n                                    <button \n                                        onClick={() => analyzeVoiceInput(transcript)} \n                                        disabled={isAnalyzing}\n                                        className=\"analyze-btn\"\n                                    >\n                                        {isAnalyzing ? '🤖 Analyzing...' : '🔍 Analyze Voice'}\n                                    </button>\n                                    <button onClick={clearAll} className=\"clear-btn\">\n                                        🗑️ Clear All\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Rating Section */}\n                    <div className=\"rating-section\">\n                        <h2>⭐ Rating</h2>\n                        <div className=\"rating-container\">\n                            <div className=\"setting-group\">\n                                <label htmlFor=\"rating\">Rating: {rating}/5</label>\n                                <div className=\"rating-input\">\n                                    {[1, 2, 3, 4, 5].map(star => (\n                                        <button\n                                            key={star}\n                                            className={`star-btn ${star <= rating ? 'active' : ''}`}\n                                            onClick={() => {\n                                                setRating(star);\n                                                setRatingAutoAdjusted(false); // Clear auto-adjust flag when manually changed\n                                            }}\n                                        >\n                                            ⭐\n                                        </button>\n                                    ))}\n                                    {ratingAutoAdjusted && (\n                                        <span className=\"auto-adjusted-badge\">\n                                            🤖 AI Suggested\n                                        </span>\n                                    )}\n                                </div>\n                                {ratingAutoAdjusted && (\n                                    <small className=\"auto-adjusted-note\">\n                                        Rating was automatically adjusted based on your voice content. You can change it manually.\n                                    </small>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"location-section\">\n                        <LocationAttachment \n                            onLocationChange={handleLocationChange}\n                            initialLocation={locationData}\n                            transcript={transcript}\n                        />\n                    </div>\n\n                    {/* Error Display */}\n                    {error && (\n                        <div className=\"error-message\">\n                            <span className=\"error-icon\">⚠️</span>\n                            {error}\n                        </div>\n                    )}\n\n                    {/* Voice Analysis Section */}\n                    {analysis && (\n                        <div className=\"analysis-section\">\n                            <h2>📊 AI Analysis</h2>\n                            <VoiceAnalysis \n                                analysis={analysis}\n                                onGenerateReview={handleGenerateReview}\n                                onSaveAnalysis={handleSaveAnalysis}\n                                parentReviewType={reviewType}\n                            />\n                        </div>\n                    )}\n\n                    {/* Generated Review Display */}\n                    {generatedReview && (\n                        <div className=\"generated-review-section\">\n                            <h2>📝 Generated Review</h2>\n                            <div className=\"review-content\">\n                                <p>{generatedReview}</p>\n                            </div>\n                            <div className=\"review-actions\">\n                                <button \n                                    onClick={() => navigator.clipboard.writeText(generatedReview)}\n                                    className=\"copy-btn\"\n                                >\n                                    📋 Copy Review\n                                </button>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Instructions */}\n                    <div className=\"instructions\">\n                        <h3>💡 How to Use:</h3>\n                        <ol>\n                            <li>Click the microphone to start recording</li>\n                            <li>Speak about your experience clearly</li>\n                            <li>Select the review type and rating</li>\n                            <li>Optionally attach your location</li>\n                            <li>Click \"Analyze Voice\" to get AI insights</li>\n                            <li>Generate professional reviews from your voice input</li>\n                        </ol>\n                        \n                        <div className=\"tips\">\n                            <h4>🎯 Tips for Better Results:</h4>\n                            <ul>\n                                <li>Speak clearly and at a normal pace</li>\n                                <li>Use a quiet environment for better recognition</li>\n                                <li>Be specific about what you're reviewing</li>\n                                <li>Include both positive and negative points</li>\n                                <li>Mention specific features or experiences</li>\n                                <li>Describe the atmosphere, service, or quality</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default VoiceReview; ","// LLM Service for analyzing voice input\n// Supports multiple AI providers: OpenAI, Anthropic, and local fallback\n\n// Enhanced function to clean and format AI responses for longer, more relevant content\nfunction cleanAIResponse(response) {\n    if (!response || typeof response !== 'string') {\n        return response;\n    }\n    \n    // Remove common AI response artifacts\n    let cleaned = response\n        // Remove markdown code blocks\n        .replace(/```[\\s\\S]*?```/g, '')\n        // Remove asterisks used for emphasis\n        .replace(/\\*\\*(.*?)\\*\\*/g, '$1')\n        .replace(/\\*(.*?)\\*/g, '$1')\n        // Remove backticks\n        .replace(/`(.*?)`/g, '$1')\n        // Remove excessive newlines (more than 2 consecutive)\n        .replace(/\\n{3,}/g, '\\n\\n')\n        // Remove leading/trailing whitespace\n        .trim()\n        // Remove common AI prefixes\n        .replace(/^(Here's|Here is|I'll|I will|Let me|Based on|According to|As an AI|As a customer service representative|As a helpful assistant)[,\\s]*/gi, '')\n        // Remove common AI suffixes\n        .replace(/(I hope this helps|Let me know if you need anything else|Feel free to ask|Is there anything else I can help you with)[.!]*$/gi, '')\n        // Remove excessive punctuation\n        .replace(/[!]{2,}/g, '!')\n        .replace(/[?]{2,}/g, '?')\n        .replace(/[.]{2,}/g, '.')\n        // Remove emoji clusters (keep single emojis)\n        .replace(/([^\\s])\\1{2,}/g, '$1')\n        // Remove excessive spaces\n        .replace(/\\s{2,}/g, ' ')\n        // Remove quotes around the entire response\n        .replace(/^[\"']|[\"']$/g, '')\n        // Remove bullet points and numbering\n        .replace(/^[\\s]*[-*•]\\s*/gm, '')\n        .replace(/^[\\s]*\\d+[.)]\\s*/gm, '')\n        // Remove section headers\n        .replace(/^[A-Z][A-Z\\s]+:$/gm, '')\n        // Remove empty lines at start and end\n        .replace(/^\\s*\\n/, '')\n        .replace(/\\n\\s*$/, '');\n    \n    // Apply enhanced formatting for longer, more comprehensive, and topic-relevant responses\n    cleaned = formatForEnhancedDepthAndRelevance(cleaned);\n    \n    return cleaned;\n}\n\n// Enhanced formatting function for longer, more comprehensive, and topic-relevant responses\nfunction formatForEnhancedDepthAndRelevance(text) {\n    if (!text || typeof text !== 'string') {\n        return text;\n    }\n    \n    // Split into sentences and clean them\n    const sentences = text.split(/[.!?]+/)\n        .map(s => s.trim())\n        .filter(s => s.length > 0);\n    \n    // Enhanced content structure analysis\n    const structure = analyzeEnhancedContentStructure(sentences);\n    \n    // Format based on content type with enhanced depth\n    if (structure.type === 'review') {\n        return formatEnhancedReviewResponse(sentences, structure);\n    } else if (structure.type === 'analysis') {\n        return formatEnhancedAnalysisResponse(sentences, structure);\n    } else if (structure.type === 'conversation') {\n        return formatEnhancedConversationResponse(sentences, structure);\n    } else if (structure.type === 'customer_service') {\n        return formatEnhancedCustomerServiceResponse(sentences, structure);\n    } else {\n        return formatEnhancedGeneralResponse(sentences, structure);\n    }\n}\n\n// Analyze the structure of the content\nfunction analyzeContentStructure(sentences) {\n    const text = sentences.join(' ').toLowerCase();\n    \n    // Detect content type\n    let type = 'general';\n    if (text.includes('rating') || text.includes('stars') || text.includes('recommend') || text.includes('experience')) {\n        type = 'review';\n    } else if (text.includes('analysis') || text.includes('sentiment') || text.includes('key points') || text.includes('summary')) {\n        type = 'analysis';\n    } else if (text.includes('hello') || text.includes('hi') || text.includes('how are you') || text.includes('chat')) {\n        type = 'conversation';\n    }\n    \n    // Extract key elements\n    const keyPoints = sentences.filter(s => \n        s.toLowerCase().includes('important') || \n        s.toLowerCase().includes('key') || \n        s.toLowerCase().includes('main') ||\n        s.toLowerCase().includes('primary')\n    );\n    \n    const questions = sentences.filter(s => s.includes('?'));\n    const statements = sentences.filter(s => !s.includes('?'));\n    \n    return {\n        type,\n        keyPoints,\n        questions,\n        statements,\n        totalSentences: sentences.length\n    };\n}\n\n// Enhanced content structure analysis for better topic relevance\nfunction analyzeEnhancedContentStructure(sentences) {\n    const text = sentences.join(' ').toLowerCase();\n    \n    // Enhanced content type detection\n    let type = 'general';\n    if (text.includes('rating') || text.includes('stars') || text.includes('recommend') || text.includes('experience') || text.includes('food') || text.includes('service') || text.includes('quality')) {\n        type = 'review';\n    } else if (text.includes('analysis') || text.includes('sentiment') || text.includes('key points') || text.includes('summary') || text.includes('findings') || text.includes('insights')) {\n        type = 'analysis';\n    } else if (text.includes('hello') || text.includes('hi') || text.includes('how are you') || text.includes('chat') || text.includes('conversation')) {\n        type = 'conversation';\n    } else if (text.includes('customer') || text.includes('service') || text.includes('apologize') || text.includes('resolve') || text.includes('issue') || text.includes('problem')) {\n        type = 'customer_service';\n    }\n    \n    // Enhanced key elements extraction\n    const keyPoints = sentences.filter(s => \n        s.toLowerCase().includes('important') || \n        s.toLowerCase().includes('key') || \n        s.toLowerCase().includes('main') ||\n        s.toLowerCase().includes('primary') ||\n        s.toLowerCase().includes('essential') ||\n        s.toLowerCase().includes('critical')\n    );\n    \n    const positiveAspects = sentences.filter(s => \n        s.toLowerCase().includes('like') || \n        s.toLowerCase().includes('love') || \n        s.toLowerCase().includes('good') ||\n        s.toLowerCase().includes('great') ||\n        s.toLowerCase().includes('amazing') ||\n        s.toLowerCase().includes('excellent') ||\n        s.toLowerCase().includes('outstanding') ||\n        s.toLowerCase().includes('fantastic')\n    );\n    \n    const negativeAspects = sentences.filter(s => \n        s.toLowerCase().includes('disappointing') ||\n        s.toLowerCase().includes('bad') ||\n        s.toLowerCase().includes('poor') ||\n        s.toLowerCase().includes('terrible') ||\n        s.toLowerCase().includes('awful') ||\n        s.toLowerCase().includes('horrible') ||\n        s.toLowerCase().includes('unacceptable')\n    );\n    \n    const suggestions = sentences.filter(s => \n        s.toLowerCase().includes('suggest') || \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('could') ||\n        s.toLowerCase().includes('should') ||\n        s.toLowerCase().includes('might') ||\n        s.toLowerCase().includes('consider')\n    );\n    \n    const questions = sentences.filter(s => s.includes('?'));\n    const statements = sentences.filter(s => !s.includes('?'));\n    \n    // Extract topic-specific keywords\n    const topics = extractTopicKeywords(text);\n    \n    return {\n        type,\n        keyPoints,\n        positiveAspects,\n        negativeAspects,\n        suggestions,\n        questions,\n        statements,\n        topics,\n        totalSentences: sentences.length\n    };\n}\n\n// Extract topic-specific keywords for better relevance\nfunction extractTopicKeywords(text) {\n    const topics = [];\n    \n    // Restaurant-related topics\n    if (text.includes('food') || text.includes('restaurant') || text.includes('dining') || text.includes('meal')) {\n        topics.push('restaurant', 'food', 'dining');\n    }\n    \n    // Hotel-related topics\n    if (text.includes('hotel') || text.includes('accommodation') || text.includes('room') || text.includes('stay')) {\n        topics.push('hotel', 'accommodation', 'travel');\n    }\n    \n    // Product-related topics\n    if (text.includes('product') || text.includes('item') || text.includes('purchase') || text.includes('buy')) {\n        topics.push('product', 'shopping', 'consumer');\n    }\n    \n    // Service-related topics\n    if (text.includes('service') || text.includes('support') || text.includes('help') || text.includes('assistance')) {\n        topics.push('service', 'support', 'customer care');\n    }\n    \n    // Technology-related topics\n    if (text.includes('app') || text.includes('software') || text.includes('technology') || text.includes('digital')) {\n        topics.push('technology', 'software', 'digital');\n    }\n    \n    return [...new Set(topics)]; // Remove duplicates\n}\n\n// Format review responses with clear structure\nfunction formatReviewResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Opening statement\n    const opening = sentences.find(s => \n        s.toLowerCase().includes('experience') || \n        s.toLowerCase().includes('visit') || \n        s.toLowerCase().includes('tried') ||\n        s.toLowerCase().includes('went')\n    );\n    \n    if (opening) {\n        formatted += `📝 ${capitalizeFirst(opening)}.\\n\\n`;\n    }\n    \n    // Main points\n    const mainPoints = sentences.filter(s => \n        s.toLowerCase().includes('like') || \n        s.toLowerCase().includes('love') || \n        s.toLowerCase().includes('good') ||\n        s.toLowerCase().includes('great') ||\n        s.toLowerCase().includes('amazing') ||\n        s.toLowerCase().includes('disappointing') ||\n        s.toLowerCase().includes('bad') ||\n        s.toLowerCase().includes('poor')\n    );\n    \n    if (mainPoints.length > 0) {\n        formatted += '✨ Key Highlights:\\n';\n        mainPoints.slice(0, 3).forEach((point, index) => {\n            formatted += `   • ${capitalizeFirst(point)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Additional details\n    const details = sentences.filter(s => \n        !mainPoints.includes(s) && \n        !opening?.includes(s) &&\n        s.length > 20\n    );\n    \n    if (details.length > 0) {\n        formatted += '📋 Additional Details:\\n';\n        details.slice(0, 2).forEach(detail => {\n            formatted += `   ${capitalizeFirst(detail)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Conclusion\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('return') || \n        s.toLowerCase().includes('worth') ||\n        s.toLowerCase().includes('overall')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}.`;\n    }\n    \n    return formatted.trim();\n}\n\n// Format analysis responses with structured sections\nfunction formatAnalysisResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Summary section\n    const summary = sentences.find(s => \n        s.toLowerCase().includes('overall') || \n        s.toLowerCase().includes('summary') || \n        s.toLowerCase().includes('in conclusion')\n    );\n    \n    if (summary) {\n        formatted += `📊 Summary:\\n${capitalizeFirst(summary)}.\\n\\n`;\n    }\n    \n    // Key findings\n    const findings = sentences.filter(s => \n        s.toLowerCase().includes('found') || \n        s.toLowerCase().includes('discovered') || \n        s.toLowerCase().includes('identified') ||\n        s.toLowerCase().includes('detected')\n    );\n    \n    if (findings.length > 0) {\n        formatted += '🔍 Key Findings:\\n';\n        findings.slice(0, 3).forEach((finding, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(finding)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Recommendations\n    const recommendations = sentences.filter(s => \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('suggest') || \n        s.toLowerCase().includes('should') ||\n        s.toLowerCase().includes('could')\n    );\n    \n    if (recommendations.length > 0) {\n        formatted += '💡 Recommendations:\\n';\n        recommendations.slice(0, 3).forEach((rec, index) => {\n            formatted += `   • ${capitalizeFirst(rec)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Next steps\n    const nextSteps = sentences.filter(s => \n        s.toLowerCase().includes('next') || \n        s.toLowerCase().includes('action') || \n        s.toLowerCase().includes('step') ||\n        s.toLowerCase().includes('plan')\n    );\n    \n    if (nextSteps.length > 0) {\n        formatted += '🚀 Next Steps:\\n';\n        nextSteps.slice(0, 2).forEach((step, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(step)}.\\n`;\n        });\n    }\n    \n    return formatted.trim();\n}\n\n// Format conversation responses naturally\nfunction formatConversationResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Greeting or acknowledgment\n    const greeting = sentences.find(s => \n        s.toLowerCase().includes('hello') || \n        s.toLowerCase().includes('hi') || \n        s.toLowerCase().includes('hey') ||\n        s.toLowerCase().includes('thanks') ||\n        s.toLowerCase().includes('thank you')\n    );\n    \n    if (greeting) {\n        formatted += `${capitalizeFirst(greeting)}.\\n\\n`;\n    }\n    \n    // Main response\n    const mainResponse = sentences.filter(s => \n        !greeting?.includes(s) &&\n        s.length > 10\n    );\n    \n    if (mainResponse.length > 0) {\n        formatted += mainResponse.slice(0, 3).map(s => capitalizeFirst(s)).join(' ');\n        formatted += '\\n\\n';\n    }\n    \n    // Follow-up or engagement\n    const followUp = sentences.find(s => \n        s.toLowerCase().includes('what about you') || \n        s.toLowerCase().includes('how about') || \n        s.toLowerCase().includes('what do you think') ||\n        s.toLowerCase().includes('any thoughts')\n    );\n    \n    if (followUp) {\n        formatted += `💭 ${capitalizeFirst(followUp)}`;\n    }\n    \n    return formatted.trim();\n}\n\n// Format general responses with clear structure\nfunction formatGeneralResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Main point\n    const mainPoint = sentences[0];\n    if (mainPoint) {\n        formatted += `📌 ${capitalizeFirst(mainPoint)}.\\n\\n`;\n    }\n    \n    // Supporting points\n    const supportingPoints = sentences.slice(1, 4);\n    if (supportingPoints.length > 0) {\n        formatted += '📋 Details:\\n';\n        supportingPoints.forEach((point, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(point)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Conclusion or takeaway\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('therefore') || \n        s.toLowerCase().includes('thus') || \n        s.toLowerCase().includes('in summary') ||\n        s.toLowerCase().includes('overall')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}`;\n    }\n    \n    return formatted.trim();\n}\n\n// Helper function to capitalize first letter\nfunction capitalizeFirst(str) {\n    if (!str || typeof str !== 'string') return str;\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n// Enhanced review response with comprehensive details\nfunction formatEnhancedReviewResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Comprehensive opening with context\n    const opening = sentences.find(s => \n        s.toLowerCase().includes('experience') || \n        s.toLowerCase().includes('visit') || \n        s.toLowerCase().includes('tried') ||\n        s.toLowerCase().includes('went') ||\n        s.toLowerCase().includes('recently') ||\n        s.toLowerCase().includes('last')\n    );\n    \n    if (opening) {\n        formatted += `📝 ${capitalizeFirst(opening)}.\\n\\n`;\n    }\n    \n    // Detailed positive aspects section\n    if (structure.positiveAspects.length > 0) {\n        formatted += '✨ What I Really Enjoyed:\\n';\n        structure.positiveAspects.slice(0, 4).forEach((aspect, index) => {\n            formatted += `   • ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Detailed negative aspects section\n    if (structure.negativeAspects.length > 0) {\n        formatted += '⚠️ Areas for Improvement:\\n';\n        structure.negativeAspects.slice(0, 3).forEach((aspect, index) => {\n            formatted += `   • ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Key highlights and memorable moments\n    const highlights = sentences.filter(s => \n        s.toLowerCase().includes('highlight') || \n        s.toLowerCase().includes('memorable') || \n        s.toLowerCase().includes('standout') ||\n        s.toLowerCase().includes('impressive') ||\n        s.toLowerCase().includes('notable')\n    );\n    \n    if (highlights.length > 0) {\n        formatted += '🌟 Memorable Highlights:\\n';\n        highlights.slice(0, 3).forEach((highlight, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(highlight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Detailed experience description\n    const experienceDetails = sentences.filter(s => \n        s.toLowerCase().includes('atmosphere') || \n        s.toLowerCase().includes('ambiance') || \n        s.toLowerCase().includes('environment') ||\n        s.toLowerCase().includes('setting') ||\n        s.toLowerCase().includes('vibe') ||\n        s.toLowerCase().includes('feel')\n    );\n    \n    if (experienceDetails.length > 0) {\n        formatted += '🏠 Atmosphere & Environment:\\n';\n        experienceDetails.slice(0, 2).forEach(detail => {\n            formatted += `   ${capitalizeFirst(detail)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Value and pricing considerations\n    const valueAspects = sentences.filter(s => \n        s.toLowerCase().includes('price') || \n        s.toLowerCase().includes('cost') || \n        s.toLowerCase().includes('value') ||\n        s.toLowerCase().includes('worth') ||\n        s.toLowerCase().includes('expensive') ||\n        s.toLowerCase().includes('affordable')\n    );\n    \n    if (valueAspects.length > 0) {\n        formatted += '💰 Value & Pricing:\\n';\n        valueAspects.slice(0, 2).forEach(aspect => {\n            formatted += `   ${capitalizeFirst(aspect)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Recommendations and suggestions\n    if (structure.suggestions.length > 0) {\n        formatted += '💡 Recommendations:\\n';\n        structure.suggestions.slice(0, 3).forEach((suggestion, index) => {\n            formatted += `   • ${capitalizeFirst(suggestion)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Comprehensive conclusion\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('recommend') || \n        s.toLowerCase().includes('return') || \n        s.toLowerCase().includes('worth') ||\n        s.toLowerCase().includes('overall') ||\n        s.toLowerCase().includes('conclusion') ||\n        s.toLowerCase().includes('final')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}.`;\n    } else {\n        // Generate a comprehensive conclusion based on sentiment\n        const positiveCount = structure.positiveAspects.length;\n        const negativeCount = structure.negativeAspects.length;\n        \n        if (positiveCount > negativeCount) {\n            formatted += `🎯 Overall, this was a positive experience that I would recommend to others.`;\n        } else if (negativeCount > positiveCount) {\n            formatted += `🎯 While there were some issues, there's potential for improvement with the right changes.`;\n        } else {\n            formatted += `🎯 This was a mixed experience with both positive and negative aspects to consider.`;\n        }\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced analysis response with detailed insights\nfunction formatEnhancedAnalysisResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Executive summary\n    const summary = sentences.find(s => \n        s.toLowerCase().includes('overall') || \n        s.toLowerCase().includes('summary') || \n        s.toLowerCase().includes('in conclusion') ||\n        s.toLowerCase().includes('main takeaway')\n    );\n    \n    if (summary) {\n        formatted += `📊 Executive Summary:\\n${capitalizeFirst(summary)}.\\n\\n`;\n    }\n    \n    // Detailed key findings with context\n    const findings = sentences.filter(s => \n        s.toLowerCase().includes('found') || \n        s.toLowerCase().includes('discovered') || \n        s.toLowerCase().includes('identified') ||\n        s.toLowerCase().includes('detected') ||\n        s.toLowerCase().includes('observed') ||\n        s.toLowerCase().includes('noticed')\n    );\n    \n    if (findings.length > 0) {\n        formatted += '🔍 Detailed Findings:\\n';\n        findings.slice(0, 5).forEach((finding, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(finding)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Sentiment analysis breakdown\n    const sentimentSentences = sentences.filter(s => \n        s.toLowerCase().includes('positive') || \n        s.toLowerCase().includes('negative') || \n        s.toLowerCase().includes('neutral') ||\n        s.toLowerCase().includes('sentiment') ||\n        s.toLowerCase().includes('emotion') ||\n        s.toLowerCase().includes('tone')\n    );\n    \n    if (sentimentSentences.length > 0) {\n        formatted += '😊 Sentiment Analysis:\\n';\n        sentimentSentences.slice(0, 3).forEach((sentiment, index) => {\n            formatted += `   • ${capitalizeFirst(sentiment)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Topic-specific insights\n    if (structure.topics.length > 0) {\n        formatted += `📋 ${structure.topics[0].charAt(0).toUpperCase() + structure.topics[0].slice(1)}-Specific Insights:\\n`;\n        const topicSentences = sentences.filter(s => \n            structure.topics.some(topic => s.toLowerCase().includes(topic))\n        );\n        topicSentences.slice(0, 3).forEach((insight, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Strategic recommendations\n    if (structure.suggestions.length > 0) {\n        formatted += '💡 Strategic Recommendations:\\n';\n        structure.suggestions.slice(0, 4).forEach((rec, index) => {\n            formatted += `   • ${capitalizeFirst(rec)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Action items and next steps\n    const actionItems = sentences.filter(s => \n        s.toLowerCase().includes('action') || \n        s.toLowerCase().includes('next') || \n        s.toLowerCase().includes('step') ||\n        s.toLowerCase().includes('plan') ||\n        s.toLowerCase().includes('implement') ||\n        s.toLowerCase().includes('improve')\n    );\n    \n    if (actionItems.length > 0) {\n        formatted += '🚀 Action Items & Next Steps:\\n';\n        actionItems.slice(0, 4).forEach((item, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(item)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Impact assessment\n    const impactSentences = sentences.filter(s => \n        s.toLowerCase().includes('impact') || \n        s.toLowerCase().includes('effect') || \n        s.toLowerCase().includes('result') ||\n        s.toLowerCase().includes('outcome') ||\n        s.toLowerCase().includes('consequence')\n    );\n    \n    if (impactSentences.length > 0) {\n        formatted += '📈 Impact Assessment:\\n';\n        impactSentences.slice(0, 2).forEach((impact, index) => {\n            formatted += `   • ${capitalizeFirst(impact)}.\\n`;\n        });\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced conversation response with more depth\nfunction formatEnhancedConversationResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Warm greeting or acknowledgment\n    const greeting = sentences.find(s => \n        s.toLowerCase().includes('hello') || \n        s.toLowerCase().includes('hi') || \n        s.toLowerCase().includes('hey') ||\n        s.toLowerCase().includes('thanks') ||\n        s.toLowerCase().includes('thank you') ||\n        s.toLowerCase().includes('appreciate')\n    );\n    \n    if (greeting) {\n        formatted += `${capitalizeFirst(greeting)}.\\n\\n`;\n    }\n    \n    // Main response with expanded context\n    const mainResponse = sentences.filter(s => \n        !greeting?.includes(s) &&\n        s.length > 10\n    );\n    \n    if (mainResponse.length > 0) {\n        formatted += '💭 My Thoughts:\\n';\n        mainResponse.slice(0, 4).forEach((response, index) => {\n            formatted += `   ${capitalizeFirst(response)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Personal insights or experiences\n    const personalInsights = sentences.filter(s => \n        s.toLowerCase().includes('think') || \n        s.toLowerCase().includes('believe') || \n        s.toLowerCase().includes('feel') ||\n        s.toLowerCase().includes('experience') ||\n        s.toLowerCase().includes('opinion') ||\n        s.toLowerCase().includes('view')\n    );\n    \n    if (personalInsights.length > 0) {\n        formatted += '🤔 Personal Perspective:\\n';\n        personalInsights.slice(0, 2).forEach((insight, index) => {\n            formatted += `   • ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Engaging follow-up questions\n    const followUp = sentences.find(s => \n        s.toLowerCase().includes('what about you') || \n        s.toLowerCase().includes('how about') || \n        s.toLowerCase().includes('what do you think') ||\n        s.toLowerCase().includes('any thoughts') ||\n        s.toLowerCase().includes('your experience') ||\n        s.toLowerCase().includes('your opinion')\n    );\n    \n    if (followUp) {\n        formatted += `💬 ${capitalizeFirst(followUp)}`;\n    } else {\n        // Generate engaging follow-up\n        formatted += `💬 What are your thoughts on this topic? I'd love to hear your perspective!`;\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced customer service response with comprehensive approach\nfunction formatEnhancedCustomerServiceResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Empathetic acknowledgment\n    const acknowledgment = sentences.find(s => \n        s.toLowerCase().includes('understand') || \n        s.toLowerCase().includes('apologize') || \n        s.toLowerCase().includes('sorry') ||\n        s.toLowerCase().includes('concern') ||\n        s.toLowerCase().includes('issue') ||\n        s.toLowerCase().includes('problem')\n    );\n    \n    if (acknowledgment) {\n        formatted += `🤝 ${capitalizeFirst(acknowledgment)}.\\n\\n`;\n    }\n    \n    // Detailed problem understanding\n    const problemAnalysis = sentences.filter(s => \n        s.toLowerCase().includes('situation') || \n        s.toLowerCase().includes('circumstance') || \n        s.toLowerCase().includes('experience') ||\n        s.toLowerCase().includes('issue') ||\n        s.toLowerCase().includes('problem') ||\n        s.toLowerCase().includes('concern')\n    );\n    \n    if (problemAnalysis.length > 0) {\n        formatted += '📋 Understanding Your Situation:\\n';\n        problemAnalysis.slice(0, 3).forEach((analysis, index) => {\n            formatted += `   • ${capitalizeFirst(analysis)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Immediate solutions and actions\n    const solutions = sentences.filter(s => \n        s.toLowerCase().includes('solution') || \n        s.toLowerCase().includes('resolve') || \n        s.toLowerCase().includes('fix') ||\n        s.toLowerCase().includes('address') ||\n        s.toLowerCase().includes('correct') ||\n        s.toLowerCase().includes('improve')\n    );\n    \n    if (solutions.length > 0) {\n        formatted += '🔧 Immediate Solutions:\\n';\n        solutions.slice(0, 4).forEach((solution, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(solution)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Long-term improvements\n    const improvements = sentences.filter(s => \n        s.toLowerCase().includes('improve') || \n        s.toLowerCase().includes('enhance') || \n        s.toLowerCase().includes('better') ||\n        s.toLowerCase().includes('upgrade') ||\n        s.toLowerCase().includes('develop') ||\n        s.toLowerCase().includes('advance')\n    );\n    \n    if (improvements.length > 0) {\n        formatted += '🚀 Long-term Improvements:\\n';\n        improvements.slice(0, 3).forEach((improvement, index) => {\n            formatted += `   • ${capitalizeFirst(improvement)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Compensation or goodwill gestures\n    const compensation = sentences.filter(s => \n        s.toLowerCase().includes('compensate') || \n        s.toLowerCase().includes('refund') || \n        s.toLowerCase().includes('discount') ||\n        s.toLowerCase().includes('credit') ||\n        s.toLowerCase().includes('offer') ||\n        s.toLowerCase().includes('gesture')\n    );\n    \n    if (compensation.length > 0) {\n        formatted += '🎁 Goodwill Gestures:\\n';\n        compensation.slice(0, 2).forEach((gesture, index) => {\n            formatted += `   • ${capitalizeFirst(gesture)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Follow-up and contact information\n    const followUp = sentences.find(s => \n        s.toLowerCase().includes('contact') || \n        s.toLowerCase().includes('reach') || \n        s.toLowerCase().includes('follow up') ||\n        s.toLowerCase().includes('get in touch') ||\n        s.toLowerCase().includes('available')\n    );\n    \n    if (followUp) {\n        formatted += `📞 ${capitalizeFirst(followUp)}`;\n    } else {\n        formatted += `📞 Please don't hesitate to reach out if you need any further assistance.`;\n    }\n    \n    return formatted.trim();\n}\n\n// Enhanced general response with comprehensive structure\nfunction formatEnhancedGeneralResponse(sentences, structure) {\n    let formatted = '';\n    \n    // Main point with context\n    const mainPoint = sentences[0];\n    if (mainPoint) {\n        formatted += `📌 Main Point:\\n${capitalizeFirst(mainPoint)}.\\n\\n`;\n    }\n    \n    // Detailed explanation\n    const explanations = sentences.slice(1, 6);\n    if (explanations.length > 0) {\n        formatted += '📋 Detailed Explanation:\\n';\n        explanations.forEach((explanation, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(explanation)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Key insights and takeaways\n    const insights = sentences.filter(s => \n        s.toLowerCase().includes('important') || \n        s.toLowerCase().includes('key') || \n        s.toLowerCase().includes('essential') ||\n        s.toLowerCase().includes('critical') ||\n        s.toLowerCase().includes('significant') ||\n        s.toLowerCase().includes('notable')\n    );\n    \n    if (insights.length > 0) {\n        formatted += '💡 Key Insights:\\n';\n        insights.slice(0, 3).forEach((insight, index) => {\n            formatted += `   • ${capitalizeFirst(insight)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Practical applications or examples\n    const applications = sentences.filter(s => \n        s.toLowerCase().includes('example') || \n        s.toLowerCase().includes('instance') || \n        s.toLowerCase().includes('case') ||\n        s.toLowerCase().includes('scenario') ||\n        s.toLowerCase().includes('situation') ||\n        s.toLowerCase().includes('application')\n    );\n    \n    if (applications.length > 0) {\n        formatted += '🔍 Practical Examples:\\n';\n        applications.slice(0, 2).forEach((app, index) => {\n            formatted += `   ${index + 1}. ${capitalizeFirst(app)}.\\n`;\n        });\n        formatted += '\\n';\n    }\n    \n    // Comprehensive conclusion\n    const conclusion = sentences.find(s => \n        s.toLowerCase().includes('therefore') || \n        s.toLowerCase().includes('thus') || \n        s.toLowerCase().includes('in summary') ||\n        s.toLowerCase().includes('overall') ||\n        s.toLowerCase().includes('conclusion') ||\n        s.toLowerCase().includes('final')\n    );\n    \n    if (conclusion) {\n        formatted += `🎯 ${capitalizeFirst(conclusion)}`;\n    } else {\n        // Generate a comprehensive conclusion\n        formatted += `🎯 In summary, this topic encompasses multiple important aspects that deserve careful consideration and thoughtful discussion.`;\n    }\n    \n    return formatted.trim();\n}\n\nclass LLMService {\n    constructor() {\n        this.apiKey = process.env.REACT_APP_OPENAI_API_KEY || '';\n        this.anthropicKey = process.env.REACT_APP_ANTHROPIC_API_KEY || '';\n        this.useLocalFallback = true;\n    }\n\n    // Analyze voice input with sentiment, key points, and suggestions\n    async analyzeVoiceInput(transcript, context = {}) {\n        if (!transcript || transcript.trim().length === 0) {\n            return {\n                success: false,\n                error: 'No transcript provided'\n            };\n        }\n\n        try {\n            // Try OpenAI first\n            if (this.apiKey) {\n                const result = await this.analyzeWithOpenAI(transcript, context);\n                if (result.success) return result;\n            }\n\n            // Try Anthropic if OpenAI fails\n            if (this.anthropicKey) {\n                const result = await this.analyzeWithAnthropic(transcript, context);\n                if (result.success) return result;\n            }\n\n            // Fallback to local analysis\n            if (this.useLocalFallback) {\n                return this.analyzeLocally(transcript, context);\n            }\n\n            return {\n                success: false,\n                error: 'No AI service available'\n            };\n\n        } catch (error) {\n            console.error('LLM analysis error:', error);\n            return {\n                success: false,\n                error: error.message || 'Analysis failed'\n            };\n        }\n    }\n\n    // NVIDIA Llama 3.3 Nemotron Super Analysis with Enhanced Thinking and Structure\n    async analyzeWithOpenAI(transcript, context) {\n        try {\n            const response = await fetch('https://api.openai.com/v1/chat/completions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.apiKey}`\n                },\n                body: JSON.stringify({\n                    model: 'gpt-4',\n                    messages: [\n                        {\n                            role: 'system',\n                            content: `You are an expert voice analysis assistant with deep reasoning capabilities and excellent conversational understanding. \n\n**ENHANCED THINKING PROCESS**:\n1. **CONTEXTUAL UNDERSTANDING**: What is the person really saying in this specific context?\n2. **EMOTIONAL INTELLIGENCE**: How is the speaker feeling? What emotions are expressed?\n3. **INTENT ANALYSIS**: What is the speaker trying to accomplish or communicate?\n4. **STRUCTURAL ANALYSIS**: How is the content organized and what's the logical flow?\n5. **CONVERSATIONAL IMPACT**: How does this fit into a broader conversation or interaction?\n\n**STRUCTURED ANALYSIS APPROACH**:\n- Analyze both explicit content and implicit meanings\n- Consider emotional undertones and conversational nuances\n- Identify key themes and how they connect\n- Evaluate the effectiveness of communication\n- Provide insights that enhance conversational understanding\n\n**RESPONSE STRUCTURE**:\n- Organize findings in a logical, easy-to-follow format\n- Highlight the most important insights first\n- Connect related points to show understanding\n- Provide actionable suggestions that improve communication\n\nAnalyze the user's voice input and provide structured insights in JSON format:\n{\n    \"sentiment\": \"positive/negative/neutral\",\n    \"confidence\": 0.0-1.0,\n    \"keyPoints\": [\"point1\", \"point2\"],\n    \"topics\": [\"topic1\", \"topic2\"],\n    \"suggestions\": [\"suggestion1\", \"suggestion2\"],\n    \"tone\": \"professional/casual/emotional/etc\",\n    \"actionItems\": [\"action1\", \"action2\"],\n    \"summary\": \"brief summary\",\n    \"wordCount\": number,\n    \"speakingPace\": \"fast/normal/slow\",\n    \"conversationalFlow\": \"structured/rambling/focused\",\n    \"engagementLevel\": \"high/medium/low\"\n}`\n                        },\n                        {\n                            role: 'user',\n                            content: `Analyze this voice input with enhanced conversational understanding: \"${transcript}\"\n                            \nContext: ${JSON.stringify(context)}`\n                        }\n                    ],\n                    temperature: 0.4,\n                    max_tokens: 500\n                })\n            });\n\n            if (!response.ok) {\n                throw new Error(`OpenAI API error: ${response.status}`);\n            }\n\n            const data = await response.json();\n            const analysis = JSON.parse(data.choices[0].message.content);\n\n            return {\n                success: true,\n                provider: 'Meta Llama 3.1 70B Instruct',\n                analysis: {\n                    ...analysis,\n                    transcript: transcript,\n                    timestamp: new Date().toISOString()\n                }\n            };\n\n        } catch (error) {\n            console.error('NVIDIA Llama analysis failed:', error);\n            throw error;\n        }\n    }\n\n    // Anthropic Claude Analysis\n    async analyzeWithAnthropic(transcript, context) {\n        try {\n            const response = await fetch('https://api.anthropic.com/v1/messages', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-api-key': this.anthropicKey,\n                    'anthropic-version': '2023-06-01'\n                },\n                body: JSON.stringify({\n                    model: 'claude-3-sonnet-20240229',\n                    max_tokens: 500,\n                    messages: [\n                        {\n                            role: 'user',\n                            content: `Analyze this voice input and provide a JSON response with:\n- sentiment (positive/negative/neutral)\n- confidence (0.0-1.0)\n- keyPoints (array of main points)\n- topics (array of topics discussed)\n- suggestions (array of improvement suggestions)\n- tone (professional/casual/emotional/etc)\n- actionItems (array of next steps)\n- summary (brief summary)\n- wordCount (number)\n- speakingPace (fast/normal/slow)\n\nVoice input: \"${transcript}\"\nContext: ${JSON.stringify(context)}`\n                        }\n                    ]\n                })\n            });\n\n            if (!response.ok) {\n                throw new Error(`Anthropic API error: ${response.status}`);\n            }\n\n            const data = await response.json();\n            const analysis = JSON.parse(data.content[0].text);\n\n            return {\n                success: true,\n                provider: 'Anthropic Claude',\n                analysis: {\n                    ...analysis,\n                    transcript: transcript,\n                    timestamp: new Date().toISOString()\n                }\n            };\n\n        } catch (error) {\n            console.error('Anthropic analysis failed:', error);\n            throw error;\n        }\n    }\n\n    // Local fallback analysis (basic sentiment and key points)\n    analyzeLocally(transcript, context) {\n        const words = transcript.toLowerCase().split(/\\s+/);\n        const wordCount = words.length;\n\n        // Basic sentiment analysis\n        const positiveWords = ['good', 'great', 'excellent', 'amazing', 'wonderful', 'love', 'like', 'happy', 'satisfied', 'perfect'];\n        const negativeWords = ['bad', 'terrible', 'awful', 'hate', 'dislike', 'unhappy', 'disappointed', 'poor', 'worst', 'horrible'];\n        \n        let positiveCount = 0;\n        let negativeCount = 0;\n\n        words.forEach(word => {\n            if (positiveWords.includes(word)) positiveCount++;\n            if (negativeWords.includes(word)) negativeCount++;\n        });\n\n        let sentiment = 'neutral';\n        let confidence = 0.5;\n\n        if (positiveCount > negativeCount) {\n            sentiment = 'positive';\n            confidence = Math.min(0.9, 0.5 + (positiveCount - negativeCount) * 0.1);\n        } else if (negativeCount > positiveCount) {\n            sentiment = 'negative';\n            confidence = Math.min(0.9, 0.5 + (negativeCount - positiveCount) * 0.1);\n        }\n\n        // Extract key points (simple approach)\n        const sentences = transcript.split(/[.!?]+/).filter(s => s.trim().length > 0);\n        const keyPoints = sentences.slice(0, 3).map(s => s.trim());\n\n        // Determine speaking pace\n        const speakingPace = wordCount > 200 ? 'fast' : wordCount > 100 ? 'normal' : 'slow';\n\n        // Basic tone detection\n        const tone = this.detectTone(transcript);\n\n        return {\n            success: true,\n            provider: 'Local Analysis',\n            analysis: {\n                sentiment,\n                confidence,\n                keyPoints,\n                topics: this.extractTopics(transcript),\n                suggestions: this.generateSuggestions(sentiment, wordCount, tone),\n                tone,\n                actionItems: this.generateActionItems(transcript),\n                summary: sentences[0] || 'No clear summary available',\n                wordCount,\n                speakingPace,\n                transcript,\n                timestamp: new Date().toISOString()\n            }\n        };\n    }\n\n    // Helper methods for local analysis\n    detectTone(transcript) {\n        const text = transcript.toLowerCase();\n        \n        if (text.includes('!') || text.includes('amazing') || text.includes('wow')) {\n            return 'enthusiastic';\n        } else if (text.includes('please') || text.includes('thank you') || text.includes('appreciate')) {\n            return 'polite';\n        } else if (text.includes('problem') || text.includes('issue') || text.includes('concern')) {\n            return 'concerned';\n        } else if (text.includes('think') || text.includes('believe') || text.includes('consider')) {\n            return 'thoughtful';\n        } else {\n            return 'neutral';\n        }\n    }\n\n    extractTopics(transcript) {\n        const text = transcript.toLowerCase();\n        const topics = [];\n\n        if (text.includes('work') || text.includes('job') || text.includes('career')) {\n            topics.push('work/career');\n        }\n        if (text.includes('family') || text.includes('home') || text.includes('personal')) {\n            topics.push('personal/family');\n        }\n        if (text.includes('health') || text.includes('exercise') || text.includes('fitness')) {\n            topics.push('health/fitness');\n        }\n        if (text.includes('money') || text.includes('finance') || text.includes('budget')) {\n            topics.push('finance');\n        }\n        if (text.includes('travel') || text.includes('vacation') || text.includes('trip')) {\n            topics.push('travel');\n        }\n\n        return topics.length > 0 ? topics : ['general'];\n    }\n\n    generateSuggestions(sentiment, wordCount, tone) {\n        const suggestions = [];\n\n        if (wordCount < 10) {\n            suggestions.push('Try speaking for longer to provide more context');\n        }\n        if (wordCount > 200) {\n            suggestions.push('Consider breaking your thoughts into smaller segments');\n        }\n        if (sentiment === 'negative') {\n            suggestions.push('Consider focusing on positive aspects or solutions');\n        }\n        if (tone === 'concerned') {\n            suggestions.push('Try to balance concerns with potential solutions');\n        }\n\n        return suggestions.length > 0 ? suggestions : ['Your voice input was clear and well-structured'];\n    }\n\n    generateActionItems(transcript) {\n        const text = transcript.toLowerCase();\n        const actions = [];\n\n        if (text.includes('need to') || text.includes('should') || text.includes('must')) {\n            actions.push('Review and prioritize mentioned tasks');\n        }\n        if (text.includes('problem') || text.includes('issue')) {\n            actions.push('Address the mentioned concerns');\n        }\n        if (text.includes('plan') || text.includes('schedule')) {\n            actions.push('Create a plan based on your input');\n        }\n\n        return actions.length > 0 ? actions : ['Consider what next steps you\\'d like to take'];\n    }\n\n    // Generate review from voice input\n    async generateReviewFromVoice(transcript, reviewType = 'general', rating = 5) {\n        const analysis = await this.analyzeVoiceInput(transcript, { reviewType, rating });\n        \n        if (!analysis.success) {\n            return analysis;\n        }\n\n        // Generate review text based on analysis\n        const reviewText = this.formatReviewText(analysis.analysis, reviewType, rating);\n        \n        return {\n            ...analysis,\n            reviewText\n        };\n    }\n\n    formatReviewText(analysis, reviewType, rating) {\n        const { sentiment, keyPoints, tone, summary } = analysis;\n        \n        let reviewText = '';\n        \n        // Start with a natural opening based on sentiment and tone\n        if (sentiment === 'positive') {\n            if (tone === 'enthusiastic') {\n                reviewText += `Had an amazing time at this ${reviewType}! `;\n            } else if (tone === 'casual') {\n                reviewText += `Really enjoyed this ${reviewType}. `;\n            } else {\n                reviewText += `Great experience with this ${reviewType}. `;\n            }\n        } else if (sentiment === 'negative') {\n            if (tone === 'critical') {\n                reviewText += `Unfortunately, this ${reviewType} was disappointing. `;\n            } else {\n                reviewText += `Wasn't impressed with this ${reviewType}. `;\n            }\n        } else {\n            reviewText += `Mixed experience with this ${reviewType}. `;\n        }\n        \n        // Add key points naturally\n        if (keyPoints && keyPoints.length > 0) {\n            const points = keyPoints.slice(0, 2); // Limit to 2 main points\n            if (points.length === 1) {\n                reviewText += points[0];\n            } else {\n                reviewText += points.join(' ');\n            }\n        } else if (summary) {\n            reviewText += summary;\n        }\n        \n        // Add natural closing based on sentiment and tone\n        if (sentiment === 'positive') {\n            if (tone === 'enthusiastic') {\n                reviewText += ' Definitely worth checking out!';\n            } else if (tone === 'casual') {\n                reviewText += ' Would go back for sure.';\n            } else {\n                reviewText += ' Recommended.';\n            }\n        } else if (sentiment === 'negative') {\n            if (tone === 'critical') {\n                reviewText += ' Wouldn\\'t recommend.';\n            } else {\n                reviewText += ' Probably won\\'t return.';\n            }\n        } else {\n            reviewText += ' Decent option if you\\'re in the area.';\n        }\n        \n        // Add rating subtly at the end\n        if (rating && rating > 0) {\n            reviewText += `\\n\\nRating: ${rating}/5`;\n        }\n        \n        // Clean the response before returning\n        return cleanAIResponse(reviewText);\n    }\n}\n\nimport { getApiUrl } from '../config/api';\n/**\n * Get LLM-powered recommendations for a final post result using the Qwen model\n * @param {string} post - The final post content\n * @param {string} platform - The target platform (e.g., 'instagram', 'facebook')\n * @returns {Promise<string>} Recommendations string\n */\nexport async function getPostRecommendations(post, platform = '') {\n  try {\n    const url = getApiUrl('/enhanced-llm/recommendation');\n    const res = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ post, platform })\n    });\n    if (!res.ok) {\n      const err = await res.json().catch(() => ({}));\n      throw new Error(err.error || 'Failed to get recommendations');\n    }\n    const data = await res.json();\n    return data.recommendations;\n  } catch (error) {\n    throw new Error(error.message || 'Failed to get recommendations');\n  }\n}\n\nexport default new LLMService(); ","import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport VoiceAnalysis from '../components/VoiceAnalysis';\nimport VoiceRecognition from '../components/VoiceRecognition';\nimport LocationAttachment from '../components/LocationAttachment';\nimport llmService from '../services/llmService';\nimport apiConfig from '../config/api';\nimport './ReviewGenerator.css';\nimport { useTranslation } from 'react-i18next';\n\nconst ReviewGenerator = () => {\n    const navigate = useNavigate();\n    const [currentStep, setCurrentStep] = useState(0);\n    const [reviewData, setReviewData] = useState({\n        reviewType: 'restaurant',\n        rating: 5,\n        tone: 'professional',\n        pros: '',\n        cons: '',\n        experience: ''\n    });\n    const [generatedReview, setGeneratedReview] = useState('');\n    const [isGenerating, setIsGenerating] = useState(false);\n    const [analysis, setAnalysis] = useState(null);\n    const [isAnalyzing, setIsAnalyzing] = useState(false);\n    const [showAnalysis, setShowAnalysis] = useState(false);\n    const [locationData, setLocationData] = useState(null);\n    const [ratingAutoAdjusted, setRatingAutoAdjusted] = useState(false);\n    const [showQuickStart, setShowQuickStart] = useState(true);\n    const [isMobile, setIsMobile] = useState(false);\n    const [showVoiceInput, setShowVoiceInput] = useState(false);\n    const [voiceTranscript, setVoiceTranscript] = useState('');\n\n    const { t } = useTranslation();\n    const containerRef = useRef(null);\n\n    // Check if mobile on mount and resize\n    useEffect(() => {\n        const checkMobile = () => {\n            setIsMobile(window.innerWidth <= 768);\n        };\n        checkMobile();\n        window.addEventListener('resize', checkMobile);\n        return () => window.removeEventListener('resize', checkMobile);\n    }, []);\n\n    const reviewTypes = [\n        { value: 'restaurant', label: 'Restaurant', icon: '🍽️', color: '#ff6b6b', description: 'Food & dining experiences' },\n        { value: 'hotel', label: 'Hotel', icon: '🏨', color: '#20c997', description: 'Accommodation & hospitality' },\n        { value: 'product', label: 'Product', icon: '📱', color: '#f7b731', description: 'Physical goods & items' },\n        { value: 'service', label: 'Service', icon: '🛠️', color: '#4b7bec', description: 'Professional services' },\n        { value: 'experience', label: 'Experience', icon: '🎯', color: '#a55eea', description: 'Events & activities' },\n        { value: 'app', label: 'App/Software', icon: '💻', color: '#45aaf2', description: 'Digital products' },\n        { value: 'place', label: 'Place/Location', icon: '📍', color: '#26de81', description: 'Venues & destinations' },\n        { value: 'general', label: 'General', icon: '📝', color: '#778ca3', description: 'Other reviews' }\n    ];\n\n    const tones = [\n        { value: 'professional', label: 'Professional', icon: '👔', color: '#667eea', description: 'Formal & business-like' },\n        { value: 'casual', label: 'Casual', icon: '😊', color: '#ffa726', description: 'Friendly & relaxed' },\n        { value: 'enthusiastic', label: 'Enthusiastic', icon: '🎉', color: '#ff7043', description: 'Excited & positive' },\n        { value: 'critical', label: 'Critical', icon: '🤔', color: '#ef5350', description: 'Analytical & detailed' },\n        { value: 'balanced', label: 'Balanced', icon: '⚖️', color: '#66bb6a', description: 'Fair & objective' }\n    ];\n\n    const steps = [\n        { id: 0, title: 'Choose Type', icon: '🎯', description: 'Select what you\\'re reviewing' },\n        { id: 1, title: 'Set Tone', icon: '🎭', description: 'Choose your writing style' },\n        { id: 2, title: 'Add Details', icon: '✍️', description: 'Share your experience' },\n        { id: 3, title: 'Generate', icon: '✨', description: 'Create your review' }\n    ];\n\n    const handleInputChange = (field, value) => {\n        setReviewData(prev => {\n            const updatedData = {\n                ...prev,\n                [field]: value\n            };\n            \n            // Auto-adjust rating based on content for text fields\n            if (field === 'pros' || field === 'cons' || field === 'experience') {\n                const allContent = [\n                    updatedData.pros,\n                    updatedData.cons, \n                    updatedData.experience\n                ].filter(Boolean).join(' ');\n                \n                const suggestedRating = autoAdjustRating(allContent);\n                if (suggestedRating && suggestedRating !== updatedData.rating) {\n                    updatedData.rating = suggestedRating;\n                    setRatingAutoAdjusted(true);\n                }\n            }\n            \n            // Clear auto-adjusted flag when user manually changes rating\n            if (field === 'rating') {\n                setRatingAutoAdjusted(false);\n            }\n            \n            return updatedData;\n        });\n    };\n\n    const nextStep = () => {\n        if (currentStep < steps.length - 1) {\n            setCurrentStep(currentStep + 1);\n            // Scroll to top on mobile\n            if (isMobile && containerRef.current) {\n                containerRef.current.scrollIntoView({ behavior: 'smooth' });\n            }\n        }\n    };\n\n    const prevStep = () => {\n        if (currentStep > 0) {\n            setCurrentStep(currentStep - 1);\n            if (isMobile && containerRef.current) {\n                containerRef.current.scrollIntoView({ behavior: 'smooth' });\n            }\n        }\n    };\n\n    const goToStep = (step) => {\n        setCurrentStep(step);\n        if (isMobile && containerRef.current) {\n            containerRef.current.scrollIntoView({ behavior: 'smooth' });\n        }\n    };\n\n    const generateReview = async () => {\n        // Validate input\n        const hasContent = reviewData.pros.trim() || reviewData.cons.trim() || reviewData.experience.trim();\n        if (!hasContent) {\n            alert('Please provide some content in at least one field (pros, cons, or experience) before generating a review.');\n            return;\n        }\n\n        setIsGenerating(true);\n        \n        try {\n            const review = createReview(reviewData, locationData);\n            setGeneratedReview(review);\n            \n            // Save review to localStorage for history\n            const reviewHistory = JSON.parse(localStorage.getItem('reviewHistory') || '[]');\n            const newReview = {\n                id: Date.now(),\n                reviewType: reviewData.reviewType,\n                itemName: `${reviewData.reviewType.charAt(0).toUpperCase() + reviewData.reviewType.slice(1)} Review`,\n                category: reviewData.reviewType,\n                rating: reviewData.rating,\n                tone: reviewData.tone,\n                pros: reviewData.pros,\n                cons: reviewData.cons,\n                experience: reviewData.experience,\n                location: locationData,\n                review: review,\n                timestamp: new Date().toISOString()\n            };\n            reviewHistory.unshift(newReview);\n            localStorage.setItem('reviewHistory', JSON.stringify(reviewHistory.slice(0, 50)));\n            \n            // Auto-analyze the generated review\n            setTimeout(() => {\n                analyzeReview(review);\n            }, 500);\n        } catch (error) {\n            console.error('Review generation error:', error);\n            alert('Failed to generate review. Please try again.');\n        } finally {\n            setIsGenerating(false);\n        }\n    };\n\n    const analyzeReview = async (reviewText) => {\n        if (!reviewText || reviewText.trim().length === 0) {\n            return;\n        }\n\n        setIsAnalyzing(true);\n        try {\n            const result = await llmService.analyzeVoiceInput(reviewText, {\n                reviewType: reviewData.reviewType,\n                rating: reviewData.rating,\n                tone: reviewData.tone,\n                isGeneratedReview: true,\n                timestamp: new Date().toISOString()\n            });\n            \n            if (result.success) {\n                setAnalysis(result);\n                setShowAnalysis(true);\n            } else {\n                console.warn('Analysis returned with errors:', result.error);\n                setAnalysis({\n                    success: false,\n                    error: result.error || 'Analysis failed'\n                });\n            }\n        } catch (error) {\n            console.error('Review analysis failed:', error);\n            setAnalysis({\n                success: false,\n                error: error.message || 'Analysis failed'\n            });\n        } finally {\n            setIsAnalyzing(false);\n        }\n    };\n\n    const createReview = (data, location = null) => {\n        const { reviewType, rating, tone, pros, cons, experience } = data;\n        \n        // Define different sentence structures and formats for different review types\n        const reviewFormats = {\n            restaurant: {\n                openings: {\n                    positive: [\n                        \"Just had dinner at this place and it was absolutely fantastic!\",\n                        \"Visited this restaurant recently and wow, what an experience!\",\n                        \"Tried this spot for the first time and I'm already planning my next visit.\",\n                        \"Went here for a meal and left completely satisfied.\",\n                        \"Stopped by this restaurant and was blown away by the quality.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this restaurant didn't live up to expectations.\",\n                        \"Had high hopes for this place, but it fell short.\",\n                        \"Visited this restaurant and left disappointed.\",\n                        \"Tried this spot and it wasn't what I was looking for.\",\n                        \"Went here expecting great food, but that wasn't the case.\"\n                    ],\n                    neutral: [\n                        \"This restaurant was okay, nothing special.\",\n                        \"Had a decent meal here, but it wasn't memorable.\",\n                        \"Visited this place and it was just average.\",\n                        \"Tried this restaurant and it was fine, but not great.\",\n                        \"Went here and it was a mixed experience.\"\n                    ]\n                },\n                prosFormat: \"What really stood out was\",\n                consFormat: \"Areas that could use improvement include\",\n                experienceFormat: \"The overall dining experience was\"\n            },\n            hotel: {\n                openings: {\n                    positive: [\n                        \"Stayed at this hotel and it exceeded all expectations!\",\n                        \"Booked this accommodation and was thoroughly impressed.\",\n                        \"Checked into this hotel and immediately felt at home.\",\n                        \"Spent time at this property and it was exceptional.\",\n                        \"Chose this hotel and it was the perfect decision.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this hotel didn't meet our expectations.\",\n                        \"Booked this accommodation but was disappointed.\",\n                        \"Stayed here and it wasn't what we hoped for.\",\n                        \"Checked into this hotel and found several issues.\",\n                        \"Chose this property but wouldn't recommend it.\"\n                    ],\n                    neutral: [\n                        \"This hotel was adequate for our needs.\",\n                        \"Stayed here and it was okay, nothing special.\",\n                        \"Booked this accommodation and it was fine.\",\n                        \"Checked into this hotel and it was average.\",\n                        \"Spent time here and it was acceptable.\"\n                    ]\n                },\n                prosFormat: \"The highlights of our stay included\",\n                consFormat: \"Some areas that need attention are\",\n                experienceFormat: \"Our overall experience was\"\n            },\n            product: {\n                openings: {\n                    positive: [\n                        \"Purchased this product and it's been amazing!\",\n                        \"Bought this item and it exceeded expectations.\",\n                        \"Tried this product and I'm thoroughly impressed.\",\n                        \"Invested in this and it was worth every penny.\",\n                        \"Got this product and it's been a game-changer.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this product didn't live up to the hype.\",\n                        \"Bought this item but was disappointed.\",\n                        \"Tried this product and it fell short.\",\n                        \"Invested in this but it wasn't worth it.\",\n                        \"Got this product and it's been problematic.\"\n                    ],\n                    neutral: [\n                        \"This product is okay, nothing special.\",\n                        \"Bought this item and it's fine.\",\n                        \"Tried this product and it's adequate.\",\n                        \"Invested in this and it's acceptable.\",\n                        \"Got this product and it's decent.\"\n                    ]\n                },\n                prosFormat: \"What I love about this product is\",\n                consFormat: \"Some drawbacks I've noticed are\",\n                experienceFormat: \"My overall experience with this product has been\"\n            },\n            service: {\n                openings: {\n                    positive: [\n                        \"Used this service and it was excellent!\",\n                        \"Hired this company and they delivered beyond expectations.\",\n                        \"Tried this service and was thoroughly impressed.\",\n                        \"Engaged with this provider and it was outstanding.\",\n                        \"Worked with this service and it was exceptional.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this service didn't meet expectations.\",\n                        \"Hired this company but was disappointed.\",\n                        \"Tried this service and it fell short.\",\n                        \"Engaged with this provider but it was poor.\",\n                        \"Worked with this service and it was subpar.\"\n                    ],\n                    neutral: [\n                        \"This service was adequate for our needs.\",\n                        \"Hired this company and they were okay.\",\n                        \"Tried this service and it was fine.\",\n                        \"Engaged with this provider and it was acceptable.\",\n                        \"Worked with this service and it was decent.\"\n                    ]\n                },\n                prosFormat: \"The strengths of this service include\",\n                consFormat: \"Areas for improvement include\",\n                experienceFormat: \"My overall experience with this service was\"\n            },\n            experience: {\n                openings: {\n                    positive: [\n                        \"Had this experience and it was incredible!\",\n                        \"Tried this activity and it was unforgettable.\",\n                        \"Participated in this and it exceeded expectations.\",\n                        \"Experienced this and it was amazing.\",\n                        \"Did this and it was absolutely worth it.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this experience didn't live up to expectations.\",\n                        \"Tried this activity but was disappointed.\",\n                        \"Participated in this and it fell short.\",\n                        \"Experienced this and it wasn't great.\",\n                        \"Did this and it wasn't worth it.\"\n                    ],\n                    neutral: [\n                        \"This experience was okay, nothing special.\",\n                        \"Tried this activity and it was fine.\",\n                        \"Participated in this and it was adequate.\",\n                        \"Experienced this and it was acceptable.\",\n                        \"Did this and it was decent.\"\n                    ]\n                },\n                prosFormat: \"The highlights of this experience were\",\n                consFormat: \"Some areas that could be improved include\",\n                experienceFormat: \"My overall experience was\"\n            },\n            app: {\n                openings: {\n                    positive: [\n                        \"Downloaded this app and it's been fantastic!\",\n                        \"Tried this software and it exceeded expectations.\",\n                        \"Used this app and I'm thoroughly impressed.\",\n                        \"Installed this and it's been a game-changer.\",\n                        \"Started using this app and it's amazing.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this app didn't meet expectations.\",\n                        \"Tried this software but was disappointed.\",\n                        \"Used this app and it fell short.\",\n                        \"Installed this but it wasn't great.\",\n                        \"Started using this app and it's problematic.\"\n                    ],\n                    neutral: [\n                        \"This app is okay, nothing special.\",\n                        \"Tried this software and it's fine.\",\n                        \"Used this app and it's adequate.\",\n                        \"Installed this and it's acceptable.\",\n                        \"Started using this app and it's decent.\"\n                    ]\n                },\n                prosFormat: \"What I love about this app is\",\n                consFormat: \"Some issues I've encountered include\",\n                experienceFormat: \"My overall experience with this app has been\"\n            },\n            place: {\n                openings: {\n                    positive: [\n                        \"Visited this place and it was incredible!\",\n                        \"Went to this location and it exceeded expectations.\",\n                        \"Explored this venue and it was amazing.\",\n                        \"Checked out this place and it was outstanding.\",\n                        \"Stopped by this location and it was fantastic.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this place didn't meet expectations.\",\n                        \"Went to this location but was disappointed.\",\n                        \"Explored this venue and it fell short.\",\n                        \"Checked out this place and it wasn't great.\",\n                        \"Stopped by this location and it was poor.\"\n                    ],\n                    neutral: [\n                        \"This place was okay, nothing special.\",\n                        \"Went to this location and it was fine.\",\n                        \"Explored this venue and it was adequate.\",\n                        \"Checked out this place and it was acceptable.\",\n                        \"Stopped by this location and it was decent.\"\n                    ]\n                },\n                prosFormat: \"What makes this place special is\",\n                consFormat: \"Some areas that could be improved include\",\n                experienceFormat: \"My overall experience at this place was\"\n            },\n            general: {\n                openings: {\n                    positive: [\n                        \"Tried this and it was excellent!\",\n                        \"Experienced this and it exceeded expectations.\",\n                        \"Used this and I'm thoroughly impressed.\",\n                        \"Bought this and it was worth every penny.\",\n                        \"Visited this and it was amazing.\"\n                    ],\n                    negative: [\n                        \"Unfortunately, this didn't meet expectations.\",\n                        \"Experienced this but was disappointed.\",\n                        \"Used this and it fell short.\",\n                        \"Bought this but it wasn't worth it.\",\n                        \"Visited this and it wasn't great.\"\n                    ],\n                    neutral: [\n                        \"This was okay, nothing special.\",\n                        \"Experienced this and it was fine.\",\n                        \"Used this and it was adequate.\",\n                        \"Bought this and it was acceptable.\",\n                        \"Visited this and it was decent.\"\n                    ]\n                },\n                prosFormat: \"The positive aspects include\",\n                consFormat: \"Some drawbacks include\",\n                experienceFormat: \"My overall experience was\"\n            }\n        };\n\n        const format = reviewFormats[reviewType] || reviewFormats.general;\n        \n        // Determine sentiment based on rating and content\n        let sentiment = 'neutral';\n        if (rating >= 4) sentiment = 'positive';\n        else if (rating <= 2) sentiment = 'negative';\n        \n        // Select opening based on sentiment\n        const openings = format.openings[sentiment];\n        const opening = openings[Math.floor(Math.random() * openings.length)];\n        \n        // Build the review content\n        let reviewContent = opening + ' ';\n        \n        // Add pros if available\n        if (pros.trim()) {\n            reviewContent += format.prosFormat + ' ' + pros.trim() + '. ';\n        }\n        \n        // Add cons if available\n        if (cons.trim()) {\n            reviewContent += format.consFormat + ' ' + cons.trim() + '. ';\n        }\n        \n        // Add overall experience if available\n        if (experience.trim()) {\n            reviewContent += format.experienceFormat + ' ' + experience.trim() + '. ';\n        }\n        \n        // Add rating context\n        const ratingTexts = {\n            1: 'I would not recommend this.',\n            2: 'I would not recommend this.',\n            3: 'It was okay, but there are better options.',\n            4: 'I would recommend this.',\n            5: 'I highly recommend this!'\n        };\n        \n        reviewContent += ratingTexts[rating] || '';\n        \n        // Add location if available\n        if (location && location.name) {\n            reviewContent += ` Located at ${location.name}.`;\n        }\n        \n        return reviewContent.trim();\n    };\n\n    const copyToClipboard = () => {\n        if (generatedReview) {\n            navigator.clipboard.writeText(generatedReview);\n            alert('Review copied to clipboard!');\n        }\n    };\n\n    const resetReview = () => {\n        setReviewData({\n            reviewType: 'restaurant',\n            rating: 5,\n            tone: 'professional',\n            pros: '',\n            cons: '',\n            experience: ''\n        });\n        setGeneratedReview('');\n        setAnalysis(null);\n        setShowAnalysis(false);\n        setLocationData(null);\n        setRatingAutoAdjusted(false);\n        setCurrentStep(0);\n        setShowQuickStart(true);\n    };\n\n    const handleLocationChange = (location) => {\n        setLocationData(location);\n    };\n\n    const handleGenerateReviewFromAnalysis = async (transcript, analysisData) => {\n        // Implementation for generating review from voice analysis\n    };\n\n    const handleSaveAnalysis = (analysisData) => {\n        // Implementation for saving analysis\n    };\n\n    const autoAdjustRating = (content) => {\n        if (!content || content.trim().length === 0) return null;\n        \n        const positiveWords = ['great', 'excellent', 'amazing', 'fantastic', 'wonderful', 'perfect', 'love', 'awesome', 'outstanding', 'superb', 'brilliant', 'incredible', 'phenomenal', 'exceptional', 'marvelous', 'splendid', 'magnificent', 'terrific', 'fabulous', 'stellar'];\n        const negativeWords = ['terrible', 'awful', 'horrible', 'bad', 'poor', 'disappointing', 'worst', 'hate', 'disgusting', 'atrocious', 'dreadful', 'abysmal', 'appalling', 'deplorable', 'miserable', 'pathetic', 'shameful', 'unacceptable', 'inadequate', 'subpar'];\n        \n        const words = content.toLowerCase().split(/\\s+/);\n        let positiveCount = 0;\n        let negativeCount = 0;\n        \n        words.forEach(word => {\n            if (positiveWords.includes(word)) positiveCount++;\n            if (negativeWords.includes(word)) negativeCount++;\n        });\n        \n        if (positiveCount > negativeCount && positiveCount >= 2) return 5;\n        if (positiveCount > negativeCount) return 4;\n        if (negativeCount > positiveCount && negativeCount >= 2) return 1;\n        if (negativeCount > positiveCount) return 2;\n        return 3;\n    };\n\n    const generateAIReview = async () => {\n        // Implementation for AI-powered review generation\n    };\n\n    const handleVoiceTranscript = (transcript) => {\n        setVoiceTranscript(transcript);\n        // Auto-fill experience field with voice input\n        handleInputChange('experience', transcript);\n    };\n\n    const renderQuickStart = () => (\n        <div className=\"quick-start-overlay\">\n            <div className=\"quick-start-modal\">\n                <div className=\"quick-start-header\">\n                    <h2>🎯 Quick Start</h2>\n                    <p>Choose how you'd like to create your review</p>\n                </div>\n                <div className=\"quick-start-options\">\n                    <button \n                        className=\"quick-start-option\"\n                        onClick={() => {\n                            setShowQuickStart(false);\n                            setCurrentStep(0);\n                        }}\n                    >\n                        <span className=\"option-icon\">✍️</span>\n                        <div className=\"option-content\">\n                            <h3>Step-by-Step</h3>\n                            <p>Guided process with detailed options</p>\n                        </div>\n                    </button>\n                    <button \n                        className=\"quick-start-option\"\n                        onClick={() => {\n                            setShowQuickStart(false);\n                            setShowVoiceInput(true);\n                        }}\n                    >\n                        <span className=\"option-icon\">🎤</span>\n                        <div className=\"option-content\">\n                            <h3>Voice Input</h3>\n                            <p>Speak your review and let AI enhance it</p>\n                        </div>\n                    </button>\n                    <button \n                        className=\"quick-start-option\"\n                        onClick={() => {\n                            setShowQuickStart(false);\n                            setCurrentStep(2); // Skip to details step\n                        }}\n                    >\n                        <span className=\"option-icon\">⚡</span>\n                        <div className=\"option-content\">\n                            <h3>Quick Generate</h3>\n                            <p>Just add details and generate instantly</p>\n                        </div>\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n\n    const renderStepIndicator = () => (\n        <div className=\"step-indicator\">\n            {steps.map((step, index) => (\n                <div \n                    key={step.id}\n                    className={`step-item ${index <= currentStep ? 'active' : ''} ${index === currentStep ? 'current' : ''}`}\n                    onClick={() => goToStep(index)}\n                >\n                    <div className=\"step-number\">{index + 1}</div>\n                    <div className=\"step-info\">\n                        <div className=\"step-icon\">{step.icon}</div>\n                        <div className=\"step-title\">{step.title}</div>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    const renderStepContent = () => {\n        switch (currentStep) {\n            case 0:\n                return (\n                    <div className=\"step-content\">\n                        <div className=\"step-header\">\n                            <h2>🎯 What are you reviewing?</h2>\n                            <p>Select the type of item or experience you want to review</p>\n                        </div>\n                        <div className=\"type-grid\">\n                            {reviewTypes.map(type => (\n                                <button\n                                    key={type.value}\n                                    className={`type-card ${reviewData.reviewType === type.value ? 'active' : ''}`}\n                                    onClick={() => handleInputChange('reviewType', type.value)}\n                                >\n                                    <div className=\"type-icon\" style={{ backgroundColor: type.color }}>\n                                        {type.icon}\n                                    </div>\n                                    <div className=\"type-info\">\n                                        <h3>{type.label}</h3>\n                                        <p>{type.description}</p>\n                                    </div>\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                );\n            case 1:\n                return (\n                    <div className=\"step-content\">\n                        <div className=\"step-header\">\n                            <h2>🎭 Choose your tone</h2>\n                            <p>How would you like your review to sound?</p>\n                        </div>\n                        <div className=\"tone-grid\">\n                            {tones.map(tone => (\n                                <button\n                                    key={tone.value}\n                                    className={`tone-card ${reviewData.tone === tone.value ? 'active' : ''}`}\n                                    onClick={() => handleInputChange('tone', tone.value)}\n                                >\n                                    <div className=\"tone-icon\" style={{ backgroundColor: tone.color }}>\n                                        {tone.icon}\n                                    </div>\n                                    <div className=\"tone-info\">\n                                        <h3>{tone.label}</h3>\n                                        <p>{tone.description}</p>\n                                    </div>\n                                </button>\n                            ))}\n                        </div>\n                        <div className=\"rating-section\">\n                            <h3>⭐ Rating</h3>\n                            <div className=\"rating-container\">\n                                <div className=\"rating-stars\">\n                                    {[1, 2, 3, 4, 5].map(star => (\n                                        <button\n                                            key={star}\n                                            className={`star-btn ${reviewData.rating >= star ? 'active' : ''}`}\n                                            onClick={() => handleInputChange('rating', star)}\n                                        >\n                                            ⭐\n                                        </button>\n                                    ))}\n                                </div>\n                                <div className=\"rating-text\">\n                                    {reviewData.rating} out of 5 stars\n                                    {ratingAutoAdjusted && (\n                                        <span className=\"auto-adjusted-badge\">AI Adjusted</span>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n            case 2:\n                return (\n                    <div className=\"step-content\">\n                        <div className=\"step-header\">\n                            <h2>✍️ Share your experience</h2>\n                            <p>Tell us about your experience - what you liked, didn't like, and overall thoughts</p>\n                        </div>\n                        \n                        {showVoiceInput && (\n                            <div className=\"voice-input-section\">\n                                <h3>🎤 Voice Input</h3>\n                                <VoiceRecognition onTranscript={handleVoiceTranscript} />\n                                {voiceTranscript && (\n                                    <div className=\"voice-preview\">\n                                        <p><strong>Your voice input:</strong> {voiceTranscript}</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        <div className=\"content-grid\">\n                            <div className=\"content-field\">\n                                <label>\n                                    <span className=\"field-icon\">✅</span>\n                                    What you liked (Pros)\n                                </label>\n                                <textarea\n                                    value={reviewData.pros}\n                                    onChange={(e) => handleInputChange('pros', e.target.value)}\n                                    placeholder=\"What stood out positively? What did you enjoy?\"\n                                    className=\"content-textarea positive\"\n                                />\n                            </div>\n                            \n                            <div className=\"content-field\">\n                                <label>\n                                    <span className=\"field-icon\">❌</span>\n                                    What could be better (Cons)\n                                </label>\n                                <textarea\n                                    value={reviewData.cons}\n                                    onChange={(e) => handleInputChange('cons', e.target.value)}\n                                    placeholder=\"What didn't meet expectations? What could improve?\"\n                                    className=\"content-textarea negative\"\n                                />\n                            </div>\n                            \n                            <div className=\"content-field full-width\">\n                                <label>\n                                    <span className=\"field-icon\">💭</span>\n                                    Overall experience\n                                </label>\n                                <textarea\n                                    value={reviewData.experience}\n                                    onChange={(e) => handleInputChange('experience', e.target.value)}\n                                    placeholder=\"Describe your overall experience, feelings, and recommendations...\"\n                                    className=\"content-textarea experience\"\n                                    rows={4}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"location-section\">\n                            <h3>📍 Location (Optional)</h3>\n                            <LocationAttachment\n                                onLocationChange={handleLocationChange}\n                                initialLocation={locationData}\n                            />\n                        </div>\n                    </div>\n                );\n            case 3:\n                return (\n                    <div className=\"step-content\">\n                        <div className=\"step-header\">\n                            <h2>✨ Generate your review</h2>\n                            <p>Ready to create your review? Click generate to see the magic happen!</p>\n                        </div>\n                        \n                        <div className=\"generate-section\">\n                            <button\n                                className=\"generate-btn\"\n                                onClick={generateReview}\n                                disabled={isGenerating}\n                            >\n                                {isGenerating ? (\n                                    <>\n                                        <span className=\"loading-spinner\"></span>\n                                        Generating...\n                                    </>\n                                ) : (\n                                    <>\n                                        <span className=\"btn-icon\">✨</span>\n                                        Generate Review\n                                    </>\n                                )}\n                            </button>\n                        </div>\n\n                        {generatedReview && (\n                            <div className=\"result-section\">\n                                <div className=\"result-header\">\n                                    <h3>🎉 Your Generated Review</h3>\n                                    <div className=\"result-actions\">\n                                        <button onClick={copyToClipboard} className=\"action-btn\">\n                                            📋 Copy\n                                        </button>\n                                        <button onClick={() => setShowAnalysis(!showAnalysis)} className=\"action-btn\">\n                                            📊 Analyze\n                                        </button>\n                                        <button onClick={resetReview} className=\"action-btn\">\n                                            🆕 New Review\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"review-display\">\n                                    <pre>{generatedReview}</pre>\n                                </div>\n                                \n                                {showAnalysis && analysis && (\n                                    <VoiceAnalysis\n                                        analysis={analysis}\n                                        onGenerateReview={handleGenerateReviewFromAnalysis}\n                                        onSaveAnalysis={handleSaveAnalysis}\n                                    />\n                                )}\n                            </div>\n                        )}\n                    </div>\n                );\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"review-generator\" ref={containerRef}>\n            {showQuickStart && renderQuickStart()}\n            \n            <div className=\"review-container\">\n                <div className=\"review-header\">\n                    <div className=\"header-content\">\n                        <span className=\"header-icon\">✨</span>\n                        <h1>Review Generator</h1>\n                        <p>Create compelling, authentic reviews with AI assistance</p>\n                        <div className=\"header-features\">\n                            <span className=\"feature-badge\">🎯 Smart Templates</span>\n                            <span className=\"feature-badge\">🎤 Voice Input</span>\n                            <span className=\"feature-badge\">📊 Quality Analysis</span>\n                        </div>\n                    </div>\n                </div>\n\n                {!showQuickStart && (\n                    <>\n                        {renderStepIndicator()}\n                        \n                        <div className=\"review-form\">\n                            {renderStepContent()}\n                            \n                            <div className=\"step-navigation\">\n                                {currentStep > 0 && (\n                                    <button onClick={prevStep} className=\"nav-btn prev-btn\">\n                                        ← Back\n                                    </button>\n                                )}\n                                {currentStep < steps.length - 1 && currentStep !== 2 && (\n                                    <button onClick={nextStep} className=\"nav-btn next-btn\">\n                                        Next →\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ReviewGenerator; ","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ReviewHistory.css';\nimport { useTranslation } from 'react-i18next';\n\nconst ReviewHistory = () => {\n    const [reviews, setReviews] = useState([]);\n    const [filteredReviews, setFilteredReviews] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [filterType, setFilterType] = useState('all');\n    const [expandedReviews, setExpandedReviews] = useState(new Set());\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        loadReviews();\n    }, []);\n\n    useEffect(() => {\n        filterReviews();\n    }, [reviews, searchTerm, filterType]);\n\n    const loadReviews = () => {\n        // Load from old reviewHistory\n        const savedReviews = JSON.parse(localStorage.getItem('reviewHistory') || '[]');\n        \n        // Load from new voiceReviews\n        const voiceReviews = JSON.parse(localStorage.getItem('voiceReviews') || '[]');\n        \n        console.log('Loading reviews from localStorage:');\n        console.log('- reviewHistory:', savedReviews.length, 'reviews');\n        console.log('- voiceReviews:', voiceReviews.length, 'reviews');\n        console.log('- voiceReviews data:', voiceReviews);\n        \n        // Combine and format voice reviews to match the expected structure\n        const formattedVoiceReviews = voiceReviews.map(voiceReview => ({\n            id: voiceReview.id,\n            reviewType: voiceReview.type,\n            itemName: `${voiceReview.type.charAt(0).toUpperCase() + voiceReview.type.slice(1)} Review`,\n            category: voiceReview.type,\n            rating: voiceReview.rating,\n            tone: 'voice-generated',\n            pros: '',\n            cons: '',\n            experience: voiceReview.transcript || '',\n            review: voiceReview.review,\n            location: voiceReview.location,\n            timestamp: voiceReview.timestamp,\n            isVoiceReview: true\n        }));\n        \n        console.log('Formatted voice reviews:', formattedVoiceReviews);\n        \n        // Combine all reviews and sort by timestamp (newest first)\n        const allReviews = [...savedReviews, ...formattedVoiceReviews]\n            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n        \n        console.log('Total combined reviews:', allReviews.length);\n        \n        setReviews(allReviews);\n    };\n\n    const filterReviews = () => {\n        let filtered = reviews;\n\n        // Filter by type\n        if (filterType !== 'all') {\n            filtered = filtered.filter(review => review.reviewType === filterType);\n        }\n\n        // Filter by search term\n        if (searchTerm) {\n            filtered = filtered.filter(review => \n                review.itemName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                review.category.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                review.review.toLowerCase().includes(searchTerm.toLowerCase())\n            );\n        }\n\n        setFilteredReviews(filtered);\n    };\n\n    const deleteReview = (id) => {\n        if (window.confirm('Are you sure you want to delete this review?')) {\n            const updatedReviews = reviews.filter(review => review.id !== id);\n            setReviews(updatedReviews);\n            \n            // Separate reviews by type\n            const regularReviews = updatedReviews.filter(review => !review.isVoiceReview);\n            const voiceReviews = updatedReviews.filter(review => review.isVoiceReview);\n            \n            // Update both storage systems\n            localStorage.setItem('reviewHistory', JSON.stringify(regularReviews));\n            \n            // Convert voice reviews back to original format\n            const originalVoiceReviews = voiceReviews.map(review => ({\n                id: review.id,\n                type: review.reviewType,\n                rating: review.rating,\n                review: review.review,\n                transcript: review.experience,\n                analysis: review.analysis,\n                timestamp: review.timestamp\n            }));\n            localStorage.setItem('voiceReviews', JSON.stringify(originalVoiceReviews));\n        }\n    };\n\n    const copyReview = (review) => {\n        navigator.clipboard.writeText(review.review);\n        alert('Review copied to clipboard!');\n    };\n\n    const toggleReviewExpansion = (reviewId) => {\n        setExpandedReviews(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(reviewId)) {\n                newSet.delete(reviewId);\n            } else {\n                newSet.add(reviewId);\n            }\n            return newSet;\n        });\n    };\n\n    const formatDate = (timestamp) => {\n        return new Date(timestamp).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const getReviewTypeIcon = (type) => {\n        const icons = {\n            product: '📱',\n            restaurant: '🍽️',\n            hotel: '🏨',\n            movie: '🎬',\n            book: '📚',\n            service: '🛠️',\n            experience: '🎯',\n            app: '💻',\n            place: '📍',\n            general: '📝'\n        };\n        return icons[type] || '📝';\n    };\n\n    const getRatingStars = (rating) => {\n        return '⭐'.repeat(rating) + '☆'.repeat(5 - rating);\n    };\n\n    const formatLocation = (location) => {\n        if (!location) return null;\n        \n        if (location.address) {\n            return location.address;\n        } else if (location.latitude && location.longitude) {\n            return `${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`;\n        }\n        return null;\n    };\n\n    return (\n        <div className=\"review-history\">\n            <div className=\"history-container\">\n                <div className=\"history-header\">\n                    <h1>{t('reviewHistory.title')}</h1>\n                    <p>{t('reviewHistory.description')}</p>\n                    <button \n                        onClick={loadReviews} \n                        className=\"refresh-btn\"\n                        title={t('reviewHistory.refreshBtnTitle')}\n                    >\n                        🔄 {t('reviewHistory.refreshBtn')}\n                    </button>\n                </div>\n\n                <div className=\"filters-section\">\n                    <div className=\"search-box\">\n                        <input\n                            type=\"text\"\n                            placeholder={t('reviewHistory.searchPlaceholder')}\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                        />\n                        <span className=\"search-icon\">🔍</span>\n                    </div>\n\n                    <div className=\"filter-buttons\">\n                        <button\n                            className={`filter-btn ${filterType === 'all' ? 'active' : ''}`}\n                            onClick={() => setFilterType('all')}\n                        >\n                            {t('reviewHistory.allFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'restaurant' ? 'active' : ''}`}\n                            onClick={() => setFilterType('restaurant')}\n                        >\n                            🍽️ {t('reviewHistory.restaurantFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'hotel' ? 'active' : ''}`}\n                            onClick={() => setFilterType('hotel')}\n                        >\n                            🏨 {t('reviewHistory.hotelFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'product' ? 'active' : ''}`}\n                            onClick={() => setFilterType('product')}\n                        >\n                            📱 {t('reviewHistory.productFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'service' ? 'active' : ''}`}\n                            onClick={() => setFilterType('service')}\n                        >\n                            🛠️ {t('reviewHistory.serviceFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'experience' ? 'active' : ''}`}\n                            onClick={() => setFilterType('experience')}\n                        >\n                            🎯 {t('reviewHistory.experienceFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'app' ? 'active' : ''}`}\n                            onClick={() => setFilterType('app')}\n                        >\n                            💻 {t('reviewHistory.appFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'place' ? 'active' : ''}`}\n                            onClick={() => setFilterType('place')}\n                        >\n                            📍 {t('reviewHistory.placeFilter')}\n                        </button>\n                        <button\n                            className={`filter-btn ${filterType === 'general' ? 'active' : ''}`}\n                            onClick={() => setFilterType('general')}\n                        >\n                            📝 {t('reviewHistory.generalFilter')}\n                        </button>\n                    </div>\n                </div>\n\n                {filteredReviews.length === 0 ? (\n                    <div className=\"empty-state colorful\">\n                        <div className=\"empty-icon\">📝</div>\n                        <h3>{t('reviewHistory.noReviewsTitle')}</h3>\n                        <p>\n                            {reviews.length === 0 \n                                ? t('reviewHistory.noReviewsFirst')\n                                : t('reviewHistory.noReviewsSecond')\n                            }\n                        </p>\n                        {reviews.length === 0 && (\n                            <Link to=\"/generate\" className=\"cta-button\">✨ {t('reviewHistory.ctaButton')}</Link>\n                        )}\n                    </div>\n                ) : (\n                    <div className=\"reviews-grid\">\n                        {filteredReviews.map((review) => (\n                            <div key={review.id} className={`review-card review-type-${review.reviewType}`}>\n                                <div className=\"review-card-header\">\n                                    <span className=\"type-icon\" title={review.reviewType}>{getReviewTypeIcon(review.reviewType)}</span>\n                                    <span className=\"review-title\">{review.itemName}</span>\n                                    <span className=\"review-rating\" title={`Rating: ${review.rating}/5`}>\n                                        {getRatingStars(review.rating)} <span className=\"rating-num\">{review.rating}/5</span>\n                                    </span>\n                                    {review.isVoiceReview && <span className=\"voice-badge\" title=\"Voice Review\">🎤</span>}\n                                </div>\n                                <div className=\"review-card-body\">\n                                    <div className=\"review-preview-text\">\n                                        {review.review.length > 180 && !expandedReviews.has(review.id)\n                                            ? (\n                                                <>\n                                                    {review.review.substring(0, 180)}... \n                                                    <button onClick={() => toggleReviewExpansion(review.id)} className=\"expand-btn\" title={t('reviewHistory.readMore')}>{t('reviewHistory.readMore')}</button>\n                                                </>\n                                            )\n                                            : (\n                                                <>\n                                                    {review.review}\n                                                    {review.review.length > 180 && expandedReviews.has(review.id) && (\n                                                        <button onClick={() => toggleReviewExpansion(review.id)} className=\"collapse-btn\" title={t('reviewHistory.showLess')}>{t('reviewHistory.showLess')}</button>\n                                                    )}\n                                                </>\n                                            )\n                                        }\n                                    </div>\n                                    {review.location && (\n                                        <div className=\"review-location\">\n                                            <span className=\"location-icon\">📍</span>\n                                            <span className=\"location-text\">{formatLocation(review.location)}</span>\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"review-card-footer\">\n                                    <span className=\"review-date\">{formatDate(review.timestamp)}</span>\n                                    <span className=\"review-tone\">{review.tone}</span>\n                                    <div className=\"review-actions\">\n                                        <button onClick={() => copyReview(review)} className=\"action-btn copy\" title={t('reviewHistory.copyBtn')}>📋</button>\n                                        <button onClick={() => deleteReview(review.id)} className=\"action-btn delete\" title={t('reviewHistory.deleteBtn')}>🗑️</button>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n\n                {filteredReviews.length > 0 && (\n                    <div className=\"history-stats\">\n                        <p>\n                            {t('reviewHistory.showing')} {filteredReviews.length} {t('reviewHistory.of')} {reviews.length} {t('reviewHistory.reviews')}\n                        </p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ReviewHistory; ","import React, { useState, useEffect } from 'react';\nimport apiConfig from '../config/api';\nimport { useTranslation } from 'react-i18next';\nimport './BlogCreator.css';\n\nconst BlogCreator = () => {\n  const [blogData, setBlogData] = useState({\n    topic: '',\n    mainName: '', // generalized from restaurantName\n    type: 'business', // generalized from restaurantType\n    industry: '', // generalized from cuisine\n    location: '',\n    targetAudience: 'general',\n    tone: 'professional',\n    length: 'medium',\n    keyPoints: '',\n    specialFeatures: ''\n  });\n  const [generatedBlog, setGeneratedBlog] = useState('');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [error, setError] = useState('');\n  // API key is now handled securely on the server\n  \n  // Image upload states\n  const [images, setImages] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [imageAnalysis, setImageAnalysis] = useState(null);\n\n  const { t } = useTranslation();\n\n  // Image handling functions\n  const handleImageUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const validFiles = files.filter(file => {\n      const isValidType = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'].includes(file.type);\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB limit\n      \n      if (!isValidType) {\n        alert(t('invalidFileType', { fileName: file.name }));\n        return false;\n      }\n      \n      if (!isValidSize) {\n        alert(t('fileTooLarge', { fileName: file.name }));\n        return false;\n      }\n      \n      return true;\n    });\n\n    if (validFiles.length === 0) return;\n\n    setIsUploading(true);\n    setUploadProgress(0);\n\n    // Simulate upload progress\n    const progressInterval = setInterval(() => {\n      setUploadProgress(prev => {\n        if (prev >= 90) {\n          clearInterval(progressInterval);\n          return 90;\n        }\n        return prev + 10;\n      });\n    }, 100);\n\n    // Process images\n    const processImages = validFiles.map(file => {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const imageData = {\n            id: Date.now() + Math.random(),\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            dataUrl: e.target.result,\n            uploadedAt: new Date().toISOString()\n          };\n          resolve(imageData);\n        };\n        reader.readAsDataURL(file);\n      });\n    });\n\n    Promise.all(processImages).then(newImages => {\n      setImages(prev => [...prev, ...newImages]);\n      setUploadProgress(100);\n      setTimeout(() => {\n        setIsUploading(false);\n        setUploadProgress(0);\n      }, 500);\n    });\n  };\n\n  const removeImage = (imageId) => {\n    setImages(prev => prev.filter(img => img.id !== imageId));\n  };\n\n  const reorderImages = (fromIndex, toIndex) => {\n    const newImages = [...images];\n    const [movedImage] = newImages.splice(fromIndex, 1);\n    newImages.splice(toIndex, 0, movedImage);\n    setImages(newImages);\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const typeOptions = [\n    { value: 'business', label: t('typeBusiness'), icon: '🏢', color: '#667eea' },\n    { value: 'project', label: t('typeProject'), icon: '🛠️', color: '#4caf50' },\n    { value: 'event', label: t('typeEvent'), icon: '🎉', color: '#ff9800' },\n    { value: 'product', label: t('typeProduct'), icon: '📦', color: '#ff6b6b' },\n    { value: 'organization', label: t('typeOrganization'), icon: '🏛️', color: '#a55eea' },\n    { value: 'community', label: t('typeCommunity'), icon: '👥', color: '#20c997' },\n    { value: 'other', label: t('typeOther'), icon: '✨', color: '#9c27b0' }\n  ];\n\n  const targetAudiences = [\n    { value: 'general', label: t('targetAudienceGeneral'), icon: '👥', color: '#667eea' },\n    { value: 'customers', label: t('targetAudienceCustomers'), icon: '🛒', color: '#ff6b6b' },\n    { value: 'investors', label: t('targetAudienceInvestors'), icon: '💼', color: '#4b7bec' },\n    { value: 'partners', label: t('targetAudiencePartners'), icon: '🤝', color: '#20c997' },\n    { value: 'employees', label: t('targetAudienceEmployees'), icon: '👔', color: '#ffa726' },\n    { value: 'media', label: t('targetAudienceMedia'), icon: '📰', color: '#f7b731' },\n    { value: 'community', label: t('targetAudienceCommunity'), icon: '🏘️', color: '#a55eea' }\n  ];\n\n  const tones = [\n    { value: 'professional', label: t('toneProfessional'), icon: '👔', color: '#667eea' },\n    { value: 'casual', label: t('toneCasualFriendly'), icon: '😊', color: '#ffa726' },\n    { value: 'enthusiastic', label: t('toneEnthusiastic'), icon: '🎉', color: '#ff7043' },\n    { value: 'elegant', label: t('toneElegantSophisticated'), icon: '✨', color: '#9c27b0' },\n    { value: 'rustic', label: t('toneRusticCozy'), icon: '🏡', color: '#8d6e63' },\n    { value: 'modern', label: t('toneModernTrendy'), icon: '🚀', color: '#00bcd4' }\n  ];\n\n  const lengths = [\n    { value: 'short', label: t('short300500WordsLabel'), icon: '📝', color: '#4caf50' },\n    { value: 'medium', label: t('medium600800WordsLabel'), icon: '📄', color: '#ff9800' },\n    { value: 'long', label: t('long9001200WordsLabel'), icon: '📖', color: '#f44336' },\n    { value: 'extra_long', label: t('extraLong15003000WordsLabel'), icon: '📖', color: '#1976d2' }\n  ];\n\n  const handleInputChange = (field, value) => {\n    setBlogData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // API key is now handled securely on the server\n\n  const generateBlogPost = async () => {\n    // Validate input\n    if (!blogData.topic.trim()) {\n      setError(t('pleaseEnterBlogTopic'));\n      return;\n    }\n\n    if (!blogData.mainName.trim()) {\n      setError(t('pleaseEnterMainName'));\n      return;\n    }\n\n    // API key is now handled securely on the server\n\n    setIsGenerating(true);\n    setError('');\n    setGeneratedBlog('');\n\n    try {\n      // Force production URL if we're on Netlify\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      \n      // Prepare image data for the API\n      const imageData = images.map(img => ({\n        name: img.name,\n        type: img.type,\n        size: img.size,\n        dataUrl: img.dataUrl\n      }));\n\n      const res = await fetch(`${baseURL}/blog/generate`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...blogData,\n          images: imageData\n        }),\n      });\n\n      const data = await res.json();\n      if (data.success) {\n        setGeneratedBlog(data.blogPost);\n        setImageAnalysis(data.imageAnalysis);\n        \n        // Save to localStorage for history\n        const blogHistory = JSON.parse(localStorage.getItem('blogHistory') || '[]');\n        const newBlog = {\n          id: Date.now(),\n          ...blogData,\n          blogPost: data.blogPost,\n          images: images,\n          imageAnalysis: data.imageAnalysis,\n          model: data.model,\n          wordCount: data.wordCount,\n          metadata: data.metadata,\n          timestamp: new Date().toISOString()\n        };\n        blogHistory.unshift(newBlog);\n        localStorage.setItem('blogHistory', JSON.stringify(blogHistory.slice(0, 20))); // Keep last 20\n\n        // Save to backend database\n        try {\n          await fetch(`${baseURL}/blog/save`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              ...blogData,\n              blogPost: data.blogPost,\n              images: images,\n              imageAnalysis: data.imageAnalysis,\n              model: data.model,\n              wordCount: data.wordCount,\n              metadata: data.metadata\n            })\n          });\n        } catch (saveErr) {\n          // Optionally show a warning, but don't block UI\n          console.warn(t('failedToSaveBlogPostToBackend'), saveErr);\n        }\n      } else {\n        setError(data.error || t('failedToGenerateBlogPost'));\n      }\n    } catch (err) {\n      setError(t('networkError', { errorMessage: err.message }));\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const copyToClipboard = () => {\n    // Create a rich text version with image references\n    let richContent = generatedBlog;\n    \n    if (images.length > 0) {\n      richContent += '\\n\\n' + t('imagesSectionHeader') + '\\n';\n      images.forEach((image, index) => {\n        richContent += `\\n[Image ${index + 1}: ${image.name}]\\n`;\n      });\n      richContent += '\\n' + t('imagesEmbeddedNote');\n    }\n    \n    navigator.clipboard.writeText(richContent);\n    alert(t('blogPostCopiedToClipboard'));\n  };\n\n  const resetForm = () => {\n    setBlogData({\n      topic: '',\n      mainName: '',\n      type: 'business',\n      industry: '',\n      location: '',\n      targetAudience: 'general',\n      tone: 'professional',\n      length: 'medium',\n      keyPoints: '',\n      specialFeatures: ''\n    });\n    setGeneratedBlog('');\n    setError('');\n    setImages([]);\n    setImageAnalysis(null);\n  };\n\n  const getWordCount = () => {\n    if (!generatedBlog) return 0;\n    return generatedBlog.split(/\\s+/).length;\n  };\n\n  // Function to clean and format blog content\n  const cleanAndFormatBlogContent = (content) => {\n    if (!content) return '';\n    \n    let cleanedContent = content;\n    \n    // Remove image placement suggestions and technical instructions\n    cleanedContent = cleanedContent\n      // Remove image placement suggestions\n      .replace(/\\[Image \\d+: [^\\]]+\\]/g, '')\n      .replace(/\\[Place image here[^\\]]*\\]/g, '')\n      .replace(/\\[Insert image[^\\]]*\\]/g, '')\n      .replace(/\\[Add image[^\\]]*\\]/g, '')\n      .replace(/\\[Image placement[^\\]]*\\]/g, '')\n      .replace(/\\[Caption: [^\\]]+\\]/g, '')\n      .replace(/\\[Suggested caption[^\\]]*\\]/g, '')\n      // Remove technical image instructions\n      .replace(/Note: Images are embedded[^.]*\\./g, '')\n      .replace(/Images are embedded[^.]*\\./g, '')\n      .replace(/Image integration[^.]*\\./g, '')\n      .replace(/Image placement[^.]*\\./g, '')\n      // Remove markdown code blocks\n      .replace(/```[\\s\\S]*?```/g, '')\n      // Remove inline code blocks\n      .replace(/`([^`]+)`/g, '$1')\n      // Remove markdown links but keep text\n      .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n      // Remove markdown images but keep alt text\n      .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n      // Remove markdown emphasis but keep text\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n      .replace(/\\*([^*]+)\\*/g, '$1')\n      .replace(/__([^_]+)__/g, '$1')\n      .replace(/_([^_]+)_/g, '$1')\n      // Remove markdown strikethrough\n      .replace(/~~([^~]+)~~/g, '$1')\n      // Remove markdown blockquotes\n      .replace(/^>\\s*/gm, '')\n      // Remove markdown horizontal rules\n      .replace(/^[-*_]{3,}$/gm, '')\n      // Remove markdown table syntax\n      .replace(/^\\|.*\\|$/gm, '')\n      // Remove markdown list markers but keep content\n      .replace(/^[-*+]\\s+/gm, '• ')\n      .replace(/^\\d+\\.\\s+/gm, (match) => {\n        const num = match.match(/\\d+/)[0];\n        return `${num}. `;\n      });\n    \n    // Keep strategic emojis but remove excessive ones\n    // Define emojis to keep (food, quality, service, location, action, emotion)\n    const keepEmojis = /[🍽️🍕🍔🍜🍣🍰☕🍷🍺🥗🥩🍤⭐🌟💎👑🏆💫✨👨‍🍳👩‍🍳🛎️💁‍♂️💁‍♀️🤝📍🏙️🌆🏘️😋😍🤤😊😌🎉🎊🚀💪🎯🔥💡📸📷]/g;\n    \n    // Remove excessive emojis while preserving strategic ones\n    cleanedContent = cleanedContent\n      // Remove excessive decorative emojis\n      .replace(/[🔍🎯📝📊📈📉📋✅❌⚠️🚨💡💭💬💪🎈🎁🎂🎄🎃🎅🎆🎇🎈🎉🎊🎋🎌🎍🎎🎏🎐🎑🎒🎓🎔🎕🎖️🎗️🎘️🎙️🎚️🎛️🎜️🎝️🎞️🎟️🎠🎡🎢🎣🎤🎥🎦🎧🎨🎩🎪🎫🎬🎭🎮🎯🎰🎱🎲🎳🎴🎵🎶🎷🎸🎹🎺🎻🎼🎽🎾🎿🏀🏁🏂🏃🏄🏅🏆🏇🏈🏉🏊🏋️🏌️🏍️🏎️🏏🏐🏑🏒🏓🏔️🏕️🏖️🏗️🏘️🏙️🏚️🏛️🏜️🏝️🏞️🏟️🏠🏡🏢🏣🏤🏥🏦🏧🏨🏩🏪🏫🏬🏭🏮🏯🏰🏱🏲🏳️🏴🏵️🏷️🏸🏹🏺🏻🏼🏽🏾🏿]/g, '')\n      // Remove excessive decorative symbols\n      .replace(/[⚡✨🌟💫⭐]/g, '')\n      // Remove excessive food emojis but keep strategic ones\n      .replace(/[🍟🍖🍗🍘🍙🍚🍛🍝🍞🍟🍠🍡🍢🍤🍥🍦🍧🍨🍩🍪🍫🍬🍭🍮🍯🍱🍲🍳🍴🍵🍶🍸🍹🍻🍼🍾🍿]/g, '')\n      // Remove excessive building emojis\n      .replace(/[🏪🏫🏬🏭🏮🏯🏰🏱🏲🏳️🏴🏵️🏶🏷️🏸🏹🏺🏻🏼🏽🏾🏿]/g, '')\n      // Remove excessive device emojis\n      .replace(/[📱📲📳📴📵📶📷📹📺📻📼📽️📾📿]/g, '')\n      // Remove excessive communication emojis\n      .replace(/[💬💭💮💯💰💱💲💳💴💵💶💷💸💹💺💻💼💽💾💿📀]/g, '');\n    \n    // Clean up excessive punctuation\n    cleanedContent = cleanedContent\n      .replace(/\\.{3,}/g, '...')\n      .replace(/!{2,}/g, '!')\n      .replace(/\\?{2,}/g, '?')\n      .replace(/_{2,}/g, '_')\n      .replace(/\\*{3,}/g, '**');\n    \n    // Clean up excessive spacing\n    cleanedContent = cleanedContent\n      .replace(/\\n{3,}/g, '\\n\\n')\n      .replace(/ {2,}/g, ' ')\n      .replace(/\\t/g, ' ');\n    \n    // Enhanced heading hierarchy formatting\n    cleanedContent = cleanedContent\n      // Fix H1 headings (main title)\n      .replace(/^#\\s*(.+)$/gm, '# $1')\n      // Fix H2 headings (major sections)\n      .replace(/^##\\s*(.+)$/gm, '## $1')\n      // Fix H3 headings (subsections)\n      .replace(/^###\\s*(.+)$/gm, '### $1')\n      // Fix H4 headings (detailed points)\n      .replace(/^####\\s*(.+)$/gm, '#### $1')\n      // Convert ALL CAPS lines to H2 headings (if they look like headings)\n      .replace(/^([A-Z][A-Z\\s]+)$/gm, (match) => {\n        const trimmed = match.trim();\n        if (trimmed.length > 3 && trimmed.length < 60 && !trimmed.includes('.')) {\n          return `## ${trimmed}`;\n        }\n        return match;\n      })\n      // Convert Title Case lines to H3 headings (if they look like headings)\n      .replace(/^([A-Z][a-z\\s]+)$/gm, (match) => {\n        const trimmed = match.trim();\n        if (trimmed.length > 3 && trimmed.length < 50 && !trimmed.includes('.') && !trimmed.includes('!') && !trimmed.includes('?')) {\n          return `### ${trimmed}`;\n        }\n        return match;\n      });\n    \n    // Clean up bullet points and lists\n    cleanedContent = cleanedContent\n      .replace(/^[-*•]\\s*/gm, '• ')\n      .replace(/^[0-9]+\\.\\s*/gm, (match) => {\n        return match.replace(/^[0-9]+\\.\\s*/, (num) => `${num.split('.')[0]}. `);\n      });\n    \n    // Ensure proper spacing around headings\n    cleanedContent = cleanedContent\n      .replace(/([^\\n])\\n(#+\\s)/g, '$1\\n\\n$2')\n      .replace(/(#+\\s[^\\n]+)\\n([^\\n])/g, '$1\\n\\n$2');\n    \n    // Remove any remaining markdown artifacts\n    cleanedContent = cleanedContent\n      // Remove any remaining markdown syntax\n      .replace(/\\[([^\\]]+)\\]\\([^)]*\\)/g, '$1')\n      .replace(/!\\[([^\\]]*)\\]\\([^)]*\\)/g, '$1')\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n      .replace(/\\*([^*]+)\\*/g, '$1')\n      .replace(/__([^_]+)__/g, '$1')\n      .replace(/_([^_]+)_/g, '$1')\n      .replace(/~~([^~]+)~~/g, '$1')\n      .replace(/`([^`]+)`/g, '$1')\n      // Remove any remaining markdown list markers\n      .replace(/^[-*+]\\s+/gm, '• ')\n      // Remove any remaining markdown blockquotes\n      .replace(/^>\\s*/gm, '')\n      // Remove any remaining markdown horizontal rules\n      .replace(/^[-*_]{3,}$/gm, '')\n      // Remove any remaining markdown table syntax\n      .replace(/^\\|.*\\|$/gm, '');\n    \n    return cleanedContent.trim();\n  };\n\n  // Function to render hierarchical content with proper styling\n  const renderHierarchicalContent = (content) => {\n    if (!content) return null;\n\n    const lines = content.split('\\n');\n    \n    return lines.map((line, index) => {\n      const trimmedLine = line.trim();\n      \n      // H1 - Main title (usually not used in blog content, but handle it)\n      if (trimmedLine.startsWith('# ') && !trimmedLine.startsWith('##')) {\n        return (\n          <h1 key={index} className=\"blog-post-heading\">\n            {trimmedLine.substring(2)}\n          </h1>\n        );\n      }\n      \n      // H2 - Major sections\n      if (trimmedLine.startsWith('## ')) {\n        return (\n          <h2 key={index} className=\"blog-post-heading\">\n            {trimmedLine.substring(3)}\n          </h2>\n        );\n      }\n      \n      // H3 - Subsections\n      if (trimmedLine.startsWith('### ')) {\n        return (\n          <h3 key={index} className=\"blog-post-heading\">\n            {trimmedLine.substring(4)}\n          </h3>\n        );\n      }\n      \n      // H4 - Detailed points\n      if (trimmedLine.startsWith('#### ')) {\n        return (\n          <h4 key={index} className=\"blog-post-heading\">\n            {trimmedLine.substring(5)}\n          </h4>\n        );\n      }\n      \n      // Bullet points\n      if (trimmedLine.startsWith('• ')) {\n        return (\n          <div key={index} className=\"blog-post-list-item\">\n            <span className=\"list-bullet\">•</span>\n            <span className=\"list-text\">\n              {trimmedLine.substring(2)}\n            </span>\n          </div>\n        );\n      }\n      \n      // Numbered lists\n      if (/^\\d+\\.\\s/.test(trimmedLine)) {\n        return (\n          <div key={index} className=\"blog-post-list-item\">\n            <span className=\"list-number\">\n              {trimmedLine.match(/^\\d+/)[0]}.\n            </span>\n            <span className=\"list-text\">\n              {trimmedLine.replace(/^\\d+\\.\\s/, '')}\n            </span>\n          </div>\n        );\n      }\n      \n      // Bold text and key points highlighting\n      if (trimmedLine.includes('**')) {\n        const parts = trimmedLine.split('**');\n        return (\n          <p key={index} className=\"blog-post-paragraph\">\n            {parts.map((part, partIndex) => (\n              partIndex % 2 === 1 ? (\n                <strong key={partIndex} className=\"highlighted-text\">\n                  {part}\n                </strong>\n              ) : (\n                <span key={partIndex}>{part}</span>\n              )\n            ))}\n          </p>\n        );\n      }\n      \n      // Highlight important sentences and key points\n      if (trimmedLine.includes('✨') || trimmedLine.includes('💡') || trimmedLine.includes('🎯') || \n          trimmedLine.includes('⭐') || trimmedLine.includes('🔥') || trimmedLine.includes('💎')) {\n        return (\n          <div key={index} className=\"blog-post-highlight\">\n            <p className=\"highlighted-text\">\n              {trimmedLine}\n            </p>\n          </div>\n        );\n      }\n      \n      // Regular paragraphs\n      if (trimmedLine) {\n        return (\n          <p key={index} className=\"blog-post-paragraph\">\n            {trimmedLine}\n          </p>\n        );\n      }\n      \n      // Empty lines\n      return <div key={index} className=\"blog-post-empty-line\" />;\n    });\n  };\n\n  // Function to render blog content with embedded images\n  const renderBlogWithImages = () => {\n    // Clean and format the blog content\n    const cleanedContent = cleanAndFormatBlogContent(generatedBlog);\n    \n    if (!cleanedContent || !images.length) {\n      return (\n        <div className=\"blog-post-content\">\n          {renderHierarchicalContent(cleanedContent)}\n        </div>\n      );\n    }\n\n    // Split the blog content into paragraphs\n    const paragraphs = cleanedContent.split('\\n\\n').filter(p => p.trim());\n    \n    // Create image placement strategy\n    const imagePlacement = [];\n    if (images.length === 1) {\n      imagePlacement.push(0); // After first paragraph\n    } else if (images.length === 2) {\n      imagePlacement.push(0, Math.floor(paragraphs.length / 2));\n    } else if (images.length === 3) {\n      imagePlacement.push(0, Math.floor(paragraphs.length / 3), Math.floor(paragraphs.length * 2 / 3));\n    } else {\n      // For more images, distribute them evenly\n      for (let i = 0; i < images.length; i++) {\n        imagePlacement.push(Math.floor((paragraphs.length * i) / images.length));\n      }\n    }\n\n    return (\n      <div className=\"blog-post-content\">\n        {paragraphs.map((paragraph, index) => (\n          <div key={index}>\n            <div className=\"blog-post-paragraph-container\">\n              {renderHierarchicalContent(paragraph)}\n            </div>\n            \n            {/* Insert images at strategic points */}\n            {imagePlacement.includes(index) && (\n              <div className=\"blog-post-image-section\">\n                {images.slice(0, imagePlacement.filter(p => p <= index).length).map((image, imgIndex) => {\n                  if (imagePlacement.indexOf(index) === imgIndex) {\n                    return (\n                      <div key={image.id} className=\"blog-post-image-container\">\n                        <img\n                          src={image.dataUrl}\n                          alt={image.name}\n                          className=\"blog-post-image\"\n                        />\n                        <div className=\"blog-post-image-caption\">\n                          {image.name.replace(/\\.[^/.]+$/, '').replace(/[_-]/g, ' ')}\n                        </div>\n                      </div>\n                    );\n                  }\n                  return null;\n                })}\n              </div>\n            )}\n          </div>\n        ))}\n        \n        {/* Display remaining images at the end if any */}\n        {imagePlacement.length < images.length && (\n          <div className=\"blog-post-image-section\">\n\n            <div className=\"blog-post-image-grid\">\n              {images.slice(imagePlacement.length).map((image) => (\n                <div key={image.id} className=\"blog-post-image-container\">\n                  <img\n                    src={image.dataUrl}\n                    alt={image.name}\n                    className=\"blog-post-image\"\n                  />\n                  <div className=\"blog-post-image-caption\">\n                    {image.name.replace(/\\.[^/.]+$/, '').replace(/[_-]/g, ' ')}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"blogcreator-root\">\n      <header className=\"blogcreator-header\">\n        <span className=\"blogcreator-header-icon\">📝</span>\n        <h1 className=\"blogcreator-header-title\">{t('restaurantBlogCreator')}</h1>\n        <p className=\"blogcreator-header-desc\">{t('generateEngagingBlogContent')}</p>\n      </header>\n      <main className=\"blogcreator-main\">\n        <div className=\"blogcreator-main-grid\">\n          {/* Left: Form Section */}\n          <section className=\"blogcreator-form-panel\">\n            {!generatedBlog && (\n              <form className=\"blogcreator-form\" autoComplete=\"off\" onSubmit={e => { e.preventDefault(); generateBlogPost(); }}>\n                {/* Image Upload Section */}\n                <fieldset className=\"blogcreator-fieldset\">\n                  <legend className=\"blogcreator-legend\">{t('blogImages')}</legend>\n                  <div className=\"blogcreator-upload-area\">\n                    <input\n                      type=\"file\"\n                      multiple\n                      accept=\"image/*\"\n                      onChange={handleImageUpload}\n                      style={{ display: 'none' }}\n                      id=\"image-upload\"\n                    />\n                    <label htmlFor=\"image-upload\" className=\"blogcreator-upload-label\">\n                      <span className=\"blogcreator-upload-icon\">📤</span> {t('chooseImages')}\n                    </label>\n                    <span className=\"blogcreator-upload-support\">{t('supportsJpegPngGifWebp')}</span>\n                  </div>\n                  {isUploading && (\n                    <div className=\"blogcreator-upload-progress\">\n                      <div className=\"blogcreator-upload-bar-bg\">\n                        <div className=\"blogcreator-upload-bar\" style={{ width: `${uploadProgress}%` }}></div>\n                      </div>\n                    </div>\n                  )}\n                  {images.length > 0 && (\n                    <div className=\"blogcreator-image-grid\">\n                      {images.map((image, index) => (\n                        <div key={image.id} className=\"blogcreator-image-preview\">\n                          <img src={image.dataUrl} alt={image.name} />\n                          <div className=\"blogcreator-image-name\">{image.name.length > 12 ? image.name.substring(0, 12) + '...' : image.name}</div>\n                          <div className=\"blogcreator-image-size\">{formatFileSize(image.size)}</div>\n                          <div className=\"blogcreator-image-actions\">\n                            <button type=\"button\" className=\"remove\" onClick={() => removeImage(image.id)}>🗑️</button>\n                            {index > 0 && <button type=\"button\" onClick={() => reorderImages(index, index - 1)}>⬆️</button>}\n                            {index < images.length - 1 && <button type=\"button\" onClick={() => reorderImages(index, index + 1)}>⬇️</button>}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </fieldset>\n\n                {/* Basic Information */}\n                <fieldset className=\"blogcreator-fieldset\">\n                  <legend className=\"blogcreator-legend\">{t('basicInformation')}</legend>\n                  <label className=\"blogcreator-label\" htmlFor=\"topic\">{t('blogTopic')} *</label>\n                  <input\n                    id=\"topic\"\n                    className=\"blogcreator-input\"\n                    type=\"text\"\n                    value={blogData.topic}\n                    onChange={e => handleInputChange('topic', e.target.value)}\n                    placeholder={t('e.g.,OurNewSeasonalMenuBehindTheScenesLocalIngredients')}\n                    required\n                  />\n                  <label className=\"blogcreator-label\" htmlFor=\"mainName\">Project/Business/Topic Name *</label>\n                  <input\n                    id=\"mainName\"\n                    className=\"blogcreator-input\"\n                    type=\"text\"\n                    value={blogData.mainName}\n                    onChange={e => handleInputChange('mainName', e.target.value)}\n                    placeholder=\"Project/Business/Topic Name\"\n                    required\n                  />\n                  <label className=\"blogcreator-label\" htmlFor=\"type\">Type or Category (e.g., business, event, product)</label>\n                  <input\n                    id=\"type\"\n                    className=\"blogcreator-input\"\n                    type=\"text\"\n                    value={blogData.type}\n                    onChange={e => handleInputChange('type', e.target.value)}\n                    placeholder=\"e.g., Business, Event, Product\"\n                  />\n                  <label className=\"blogcreator-label\" htmlFor=\"industry\">Industry or Field (e.g., technology, education)</label>\n                  <input\n                    id=\"industry\"\n                    className=\"blogcreator-input\"\n                    type=\"text\"\n                    value={blogData.industry}\n                    onChange={e => handleInputChange('industry', e.target.value)}\n                    placeholder=\"e.g., Technology, Education, Food, Art\"\n                  />\n                  <label className=\"blogcreator-label\" htmlFor=\"location\">{t('location')}</label>\n                  <input\n                    id=\"location\"\n                    className=\"blogcreator-input\"\n                    type=\"text\"\n                    value={blogData.location}\n                    onChange={e => handleInputChange('location', e.target.value)}\n                    placeholder={t('e.g.,DowntownSeattleWestVillageEtc')}\n                  />\n                </fieldset>\n\n                {/* Content Preferences */}\n                <fieldset className=\"blogcreator-fieldset\">\n                  <legend className=\"blogcreator-legend\">{t('contentPreferences')}</legend>\n                  <div className=\"blogcreator-choice-group\">\n                    <span className=\"blogcreator-label\">{t('targetAudience')}</span>\n                    <div className=\"blogcreator-choice-row\">\n                      {targetAudiences.map(audience => (\n                        <button\n                          key={audience.value}\n                          type=\"button\"\n                          className={`blogcreator-choice-btn${blogData.targetAudience === audience.value ? ' selected' : ''}`}\n                          onClick={() => handleInputChange('targetAudience', audience.value)}\n                          aria-pressed={blogData.targetAudience === audience.value}\n                        >\n                          <span className=\"blogcreator-choice-icon\">{audience.icon}</span>\n                          <span>{audience.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  <div className=\"blogcreator-choice-group\">\n                    <span className=\"blogcreator-label\">{t('writingTone')}</span>\n                    <div className=\"blogcreator-choice-row\">\n                      {tones.map(tone => (\n                        <button\n                          key={tone.value}\n                          type=\"button\"\n                          className={`blogcreator-choice-btn${blogData.tone === tone.value ? ' selected' : ''}`}\n                          onClick={() => handleInputChange('tone', tone.value)}\n                          aria-pressed={blogData.tone === tone.value}\n                        >\n                          <span className=\"blogcreator-choice-icon\">{tone.icon}</span>\n                          <span>{tone.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  <div className=\"blogcreator-choice-group\">\n                    <span className=\"blogcreator-label\">{t('blogLength')}</span>\n                    <div className=\"blogcreator-choice-row\">\n                      {lengths.map(length => (\n                        <button\n                          key={length.value}\n                          type=\"button\"\n                          className={`blogcreator-choice-btn${blogData.length === length.value ? ' selected' : ''}`}\n                          onClick={() => handleInputChange('length', length.value)}\n                          aria-pressed={blogData.length === length.value}\n                        >\n                          <span className=\"blogcreator-choice-icon\">{length.icon}</span>\n                          <span>{length.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </fieldset>\n\n                {/* Additional Details */}\n                <fieldset className=\"blogcreator-fieldset\">\n                  <legend className=\"blogcreator-legend\">{t('additionalDetails')}</legend>\n                  <label className=\"blogcreator-label\" htmlFor=\"keyPoints\">{t('keyPointsToInclude')}</label>\n                  <textarea\n                    id=\"keyPoints\"\n                    className=\"blogcreator-input\"\n                    value={blogData.keyPoints}\n                    onChange={e => handleInputChange('keyPoints', e.target.value)}\n                    placeholder={t('listSpecificPointsEventsOrFeaturesYouWantHighlightedInTheBlogPost')}\n                    rows={3}\n                  />\n                  <label className=\"blogcreator-label\" htmlFor=\"specialFeatures\">{t('specialFeaturesOrHighlights')}</label>\n                  <textarea\n                    id=\"specialFeatures\"\n                    className=\"blogcreator-input\"\n                    value={blogData.specialFeatures}\n                    onChange={e => handleInputChange('specialFeatures', e.target.value)}\n                    placeholder={t('mentionAnySpecialFeaturesAwardsUniqueAspectsOrRecentNewsAboutYourRestaurant')}\n                    rows={3}\n                  />\n                </fieldset>\n\n                <div className=\"blogcreator-form-actions\">\n                  <button\n                    type=\"submit\"\n                    className=\"blogcreator-submit-btn\"\n                    disabled={isGenerating || !blogData.topic.trim() || !blogData.mainName.trim()}\n                  >\n                    {isGenerating ? (\n                      <span className=\"blogcreator-spinner\"></span>\n                    ) : (\n                      <span className=\"blogcreator-submit-label\">🚀 {t('generateBlogPost')}</span>\n                    )}\n                  </button>\n                </div>\n              </form>\n            )}\n          </section>\n          {/* Right: Preview Section */}\n          <section className=\"blogcreator-preview-panel\">\n            {generatedBlog && (\n              <div className=\"blogcreator-preview-card\">\n                <header className=\"blogcreator-preview-header\">\n                  <span className=\"blogcreator-preview-icon\">✨</span>\n                  <h2 className=\"blogcreator-preview-title\">{t('yourGeneratedBlogPost')}</h2>\n                </header>\n                <div className=\"blogcreator-preview-content-scroll\">\n                  <div className=\"blogcreator-preview-content\">\n                    {renderHierarchicalContent(generatedBlog)}\n                  </div>\n                </div>\n                <footer className=\"blogcreator-preview-info\">\n                  <span className=\"blogcreator-preview-info-item\">\n                    <span className=\"blogcreator-preview-info-icon\">📊</span> {t('wordCount')}: {getWordCount()} {t('words')}\n                  </span>\n                  <span className=\"blogcreator-preview-info-item\">\n                    <span className=\"blogcreator-preview-info-icon\">📸</span> {t('images')}: {images.length}\n                  </span>\n                  <span className=\"blogcreator-preview-info-item\">\n                    <span className=\"blogcreator-preview-info-icon\">🤖</span> {t('model')}: NVIDIA Llama 3.3 Nemotron Super 49B\n                  </span>\n                  <span className=\"blogcreator-preview-info-item\">\n                    <span className=\"blogcreator-preview-info-icon\">📅</span> {t('generated')}: {new Date().toLocaleString()}\n                  </span>\n                </footer>\n                {imageAnalysis && (\n                  <div className=\"blogcreator-preview-image-analysis\">\n                    <h4 className=\"blogcreator-preview-image-analysis-title\">\n                      <span className=\"blogcreator-preview-info-icon\">📸</span> {t('imageIntegrationAnalysis')}\n                    </h4>\n                    <div className=\"blogcreator-preview-image-analysis-grid\">\n                      {imageAnalysis.imageDetails.map((img, index) => (\n                        <div key={index} className=\"blogcreator-preview-image-analysis-item\">\n                          <div className=\"blogcreator-preview-image-analysis-name\">{img.name}</div>\n                          <div className=\"blogcreator-preview-image-analysis-placement\">📍 {t('placement')}: {img.suggestedPlacement}</div>\n                          <div className=\"blogcreator-preview-image-analysis-caption\">💬 {t('caption')}: {img.suggestedCaption}</div>\n                        </div>\n                      ))}\n                    </div>\n                    {imageAnalysis.integrationSuggestions.length > 0 && (\n                      <div className=\"blogcreator-preview-integration-suggestions\">\n                        <div className=\"blogcreator-preview-integration-suggestions-title\">\n                          <span className=\"blogcreator-preview-info-icon\">💡</span> {t('integrationSuggestions')}:\n                        </div>\n                        <ul className=\"blogcreator-preview-integration-suggestions-list\">\n                          {imageAnalysis.integrationSuggestions.map((suggestion, index) => (\n                            <li key={index}>{suggestion}</li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n          </section>\n        </div>\n        {/* Error Display (keep outside grid for now) */}\n        {error && (\n          <div className=\"blog-creator-error-message\">\n            <span className=\"blog-creator-error-icon\">⚠️</span> {error}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default BlogCreator; ","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport apiConfig from '../config/api';\n\nconst BlogIndex = () => {\n  const [activeTab, setActiveTab] = useState('published');\n  const [blogHistory, setBlogHistory] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('all');\n  const [backendBlogs, setBackendBlogs] = useState([]);\n  const [backendLoading, setBackendLoading] = useState(false);\n  const [backendError, setBackendError] = useState('');\n  const [showBackend, setShowBackend] = useState(false);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (showBackend) {\n      fetchBackendBlogs();\n    } else {\n      loadBlogHistory();\n    }\n  }, [showBackend]);\n\n  // Set active tab to 'history' if there are blog posts\n  useEffect(() => {\n    if (blogHistory.length > 0 && activeTab === 'published') {\n      setActiveTab('history');\n    }\n  }, [blogHistory.length, activeTab]);\n\n  const loadBlogHistory = () => {\n    try {\n      const history = JSON.parse(localStorage.getItem('blogHistory') || '[]');\n      setBlogHistory(history);\n    } catch (error) {\n      console.error('Error loading blog history:', error);\n      setBlogHistory([]);\n    }\n  };\n\n  const deleteBlog = (id) => {\n    const updatedHistory = blogHistory.filter(blog => blog.id !== id);\n    localStorage.setItem('blogHistory', JSON.stringify(updatedHistory));\n    setBlogHistory(updatedHistory);\n  };\n\n  const copyBlog = (blogPost) => {\n    navigator.clipboard.writeText(blogPost);\n    alert('Blog post copied to clipboard!');\n  };\n\n  const filteredBlogs = blogHistory.filter(blog => {\n    const matchesSearch = blog.topic.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         blog.restaurantName.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesFilter = filterType === 'all' || blog.restaurantType === filterType;\n    return matchesSearch && matchesFilter;\n  });\n\n  const formatDate = (timestamp) => {\n    return new Date(timestamp).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getWordCount = (content) => {\n    return content.split(/\\s+/).length;\n  };\n\n  const getRestaurantTypeIcon = (type) => {\n    const icons = {\n      restaurant: '🍽️',\n      cafe: '☕',\n      pizzeria: '🍕',\n      bakery: '🥐',\n      bar: '🍺',\n      'food-truck': '🚚',\n      'fine-dining': '🍷',\n      'fast-casual': '🥪'\n    };\n    return icons[type] || '🍽️';\n  };\n\n  const getToneIcon = (tone) => {\n    const icons = {\n      professional: '👔',\n      casual: '😊',\n      enthusiastic: '🎉',\n      elegant: '✨',\n      rustic: '🏡',\n      modern: '🚀'\n    };\n    return icons[tone] || '📝';\n  };\n\n  const blogPosts = [\n    {\n      slug: 'overview',\n      title: 'AI-Powered Review Generation: The Complete Guide',\n      excerpt: 'Discover how our AI-powered platform revolutionizes review creation with voice analysis, sentiment detection, and professional writing assistance.',\n      category: 'Overview',\n      readTime: '8 min read',\n      date: 'July 2024',\n      image: '🤖',\n      color: '#667eea'\n    },\n    {\n      slug: 'restaurant-reviews',\n      title: 'Transform Your Restaurant Reviews with AI',\n      excerpt: 'Learn how AI can help you create compelling, authentic restaurant reviews that capture the essence of dining experiences.',\n      category: 'Restaurant',\n      readTime: '6 min read',\n      date: 'July 2024',\n      image: '🍽️',\n      color: '#ff6b6b'\n    },\n    {\n      slug: 'hotel-reviews',\n      title: 'AI Hotel Review Generation: A Traveler\\'s Best Friend',\n      excerpt: 'Create detailed hotel reviews that help fellow travelers make informed decisions with AI-powered insights and analysis.',\n      category: 'Hotel',\n      readTime: '7 min read',\n      date: 'July 2024',\n      image: '🏨',\n      color: '#20c997'\n    },\n    {\n      slug: 'product-reviews',\n      title: 'Smart Product Review Creation with AI',\n      excerpt: 'Generate comprehensive product reviews that highlight features, benefits, and real-world usage experiences.',\n      category: 'Product',\n      readTime: '5 min read',\n      date: 'July 2024',\n      image: '📱',\n      color: '#f7b731'\n    },\n    {\n      slug: 'customer-service-ai',\n      title: 'AI Customer Service Responses: Building Better Relationships',\n      excerpt: 'Explore how AI-powered customer service responses can transform negative reviews into positive customer experiences.',\n      category: 'Customer Service',\n      readTime: '9 min read',\n      date: 'July 2024',\n      image: '💬',\n      color: '#4b7bec'\n    },\n    {\n      slug: 'your-custom-post',\n      title: 'Your Custom Blog Post Title',\n      excerpt: 'Your custom blog post excerpt goes here. This should be a brief description of what the post covers.',\n      category: 'Custom',\n      readTime: '5 min read',\n      date: 'July 2024',\n      image: '📝',\n      color: '#a55eea'\n    }\n  ];\n\n  const fetchBackendBlogs = async () => {\n    setBackendLoading(true);\n    setBackendError('');\n    try {\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      const res = await fetch(`${baseURL}/blog/list`);\n      const data = await res.json();\n      if (data.success) {\n        setBackendBlogs(data.blogs || []);\n      } else {\n        setBackendError(data.error || t('failedToFetchBackendBlogs'));\n      }\n    } catch (err) {\n      setBackendError(t('networkErrorFetchingBackendBlogs'));\n    } finally {\n      setBackendLoading(false);\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n    }}>\n      <div style={{\n        maxWidth: 1200,\n        margin: '0 auto',\n        background: 'rgba(255, 255, 255, 0.95)',\n        borderRadius: '24px',\n        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',\n        overflow: 'hidden',\n        backdropFilter: 'blur(10px)'\n      }}>\n        {/* Header */}\n        <div style={{\n          background: 'linear-gradient(135deg, #4f8cff 0%, #38e8ff 100%)',\n          padding: '40px 32px',\n          textAlign: 'center'\n        }}>\n          <span style={{ \n            fontSize: '64px', \n            marginBottom: '16px', \n            display: 'block',\n            filter: 'drop-shadow(0 4px 8px rgba(0,0,0,0.1))'\n          }}>📝</span>\n          <h1 style={{ \n            margin: '0 0 12px 0', \n            fontWeight: '800', \n            fontSize: '36px', \n            color: '#fff',\n            textShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            {t('reviewGenBlog')}\n          </h1>\n          <p style={{ \n            margin: '0', \n            fontSize: '18px', \n            color: '#fff',\n            opacity: '0.95'\n          }}>\n            {t('insightsTipsGuides')}\n          </p>\n        </div>\n\n        {/* Content */}\n        <div style={{ padding: '40px 32px' }}>\n          {/* Tab Navigation */}\n          <div style={{\n            display: 'flex',\n            gap: '8px',\n            marginBottom: '32px',\n            background: '#f8f9fa',\n            borderRadius: '12px',\n            padding: '4px',\n            border: '1px solid #e9ecef'\n          }}>\n            <button\n              onClick={() => setActiveTab('published')}\n              style={{\n                flex: 1,\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: 'none',\n                background: activeTab === 'published' ? '#667eea' : 'transparent',\n                color: activeTab === 'published' ? '#fff' : '#4a5568',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease'\n              }}\n            >\n              {t('publishedArticles')} ({blogPosts.length})\n            </button>\n            <button\n              onClick={() => setActiveTab('history')}\n              style={{\n                flex: 1,\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: 'none',\n                background: activeTab === 'history' ? '#667eea' : 'transparent',\n                color: activeTab === 'history' ? '#fff' : '#4a5568',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                position: 'relative'\n              }}\n            >\n              {t('yourBlogPosts')} ({blogHistory.length})\n              {blogHistory.length > 0 && (\n                <span style={{\n                  position: 'absolute',\n                  top: '-4px',\n                  right: '-4px',\n                  background: '#ff6b6b',\n                  color: '#fff',\n                  borderRadius: '50%',\n                  width: '20px',\n                  height: '20px',\n                  fontSize: '12px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontWeight: 'bold'\n                }}>\n                  {blogHistory.length}\n                </span>\n              )}\n            </button>\n          </div>\n\n          {activeTab === 'published' ? (\n            /* Published Blog Posts */\n            <div>\n              <h2 style={{ \n                margin: '0 0 20px 0', \n                color: '#2d3748', \n                fontSize: '24px',\n                fontWeight: '700'\n              }}>\n                {t('latestArticles')}\n              </h2>\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\n                gap: '24px',\n                marginBottom: '40px'\n              }}>\n                {blogPosts.map((post) => (\n                  <Link \n                    key={post.slug}\n                    to={`/blog/${post.slug}`}\n                    style={{\n                      textDecoration: 'none',\n                      color: 'inherit',\n                      display: 'block'\n                    }}\n                  >\n                    <div style={{\n                      background: 'linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%)',\n                      borderRadius: '16px',\n                      padding: '24px',\n                      border: '1px solid #e2e8f0',\n                      transition: 'all 0.3s ease',\n                      cursor: 'pointer',\n                      height: '100%',\n                      display: 'flex',\n                      flexDirection: 'column'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.target.style.transform = 'translateY(-4px)';\n                      e.target.style.boxShadow = '0 12px 32px rgba(0, 0, 0, 0.15)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.target.style.transform = 'translateY(0)';\n                      e.target.style.boxShadow = 'none';\n                    }}\n                    >\n                      <div style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '12px',\n                        marginBottom: '16px'\n                      }}>\n                        <div style={{\n                          background: `linear-gradient(135deg, ${post.color} 0%, ${post.color}dd 100%)`,\n                          borderRadius: '12px',\n                          width: '48px',\n                          height: '48px',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          fontSize: '24px'\n                        }}>\n                          {post.image}\n                        </div>\n                        <div>\n                          <span style={{\n                            background: post.color,\n                            color: '#fff',\n                            padding: '4px 8px',\n                            borderRadius: '12px',\n                            fontSize: '11px',\n                            fontWeight: '600',\n                            textTransform: 'uppercase',\n                            letterSpacing: '0.5px'\n                          }}>\n                            {post.category}\n                          </span>\n                        </div>\n                      </div>\n\n                      <h3 style={{\n                        margin: '0 0 12px 0',\n                        color: '#2d3748',\n                        fontSize: '18px',\n                        fontWeight: '700',\n                        lineHeight: '1.4'\n                      }}>\n                        {post.title}\n                      </h3>\n\n                      <p style={{\n                        margin: '0 0 16px 0',\n                        color: '#4a5568',\n                        lineHeight: '1.6',\n                        fontSize: '14px',\n                        flex: 1\n                      }}>\n                        {post.excerpt}\n                      </p>\n\n                      <div style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        marginTop: 'auto'\n                      }}>\n                        <span style={{\n                          color: '#718096',\n                          fontSize: '12px',\n                          fontWeight: '500'\n                        }}>\n                          {post.date}\n                        </span>\n                        <span style={{\n                          color: '#4a5568',\n                          fontSize: '12px',\n                          fontWeight: '600'\n                        }}>\n                          {post.readTime}\n                        </span>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          ) : (\n            /* Blog History */\n            <div>\n              {/* Stats */}\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                gap: '20px',\n                marginBottom: '32px'\n              }}>\n                <div style={{\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  textAlign: 'center',\n                  color: '#fff'\n                }}>\n                  <div style={{ fontSize: '32px', marginBottom: '8px' }}>📝</div>\n                  <div style={{ fontSize: '24px', fontWeight: '700' }}>{blogHistory.length}</div>\n                  <div style={{ fontSize: '14px', opacity: '0.9' }}>{t('totalPosts')}</div>\n                </div>\n                <div style={{\n                  background: 'linear-gradient(135deg, #20c997 0%, #14a085 100%)',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  textAlign: 'center',\n                  color: '#fff'\n                }}>\n                  <div style={{ fontSize: '32px', marginBottom: '8px' }}>📊</div>\n                  <div style={{ fontSize: '24px', fontWeight: '700' }}>\n                    {blogHistory.reduce((total, blog) => total + getWordCount(blog.blogPost), 0).toLocaleString()}\n                  </div>\n                  <div style={{ fontSize: '14px', opacity: '0.9' }}>{t('totalWords')}</div>\n                </div>\n                <div style={{\n                  background: 'linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%)',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  textAlign: 'center',\n                  color: '#fff'\n                }}>\n                  <div style={{ fontSize: '32px', marginBottom: '8px' }}>🏪</div>\n                  <div style={{ fontSize: '24px', fontWeight: '700' }}>\n                    {new Set(blogHistory.map(blog => blog.restaurantName)).size}\n                  </div>\n                  <div style={{ fontSize: '14px', opacity: '0.9' }}>{t('restaurants')}</div>\n                </div>\n              </div>\n\n              {/* Filters */}\n              <div style={{\n                display: 'flex',\n                gap: '16px',\n                marginBottom: '24px',\n                flexWrap: 'wrap',\n                alignItems: 'center'\n              }}>\n                <div style={{ flex: 1, minWidth: '250px' }}>\n                  <input\n                    type=\"text\"\n                    placeholder={t('searchByTopicOrRestaurantName')}\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    style={{\n                      width: '100%',\n                      padding: '12px 16px',\n                      border: '2px solid #e1e5e9',\n                      borderRadius: '8px',\n                      fontSize: '16px'\n                    }}\n                  />\n                </div>\n                <select\n                  value={filterType}\n                  onChange={(e) => setFilterType(e.target.value)}\n                  style={{\n                    padding: '12px 16px',\n                    border: '2px solid #e1e5e9',\n                    borderRadius: '8px',\n                    fontSize: '16px',\n                    minWidth: '150px'\n                  }}\n                >\n                  <option value=\"all\">{t('allTypes')}</option>\n                  <option value=\"restaurant\">{t('restaurant')}</option>\n                  <option value=\"cafe\">{t('cafe')}</option>\n                  <option value=\"pizzeria\">{t('pizzeria')}</option>\n                  <option value=\"bakery\">{t('bakery')}</option>\n                  <option value=\"bar\">{t('barPub')}</option>\n                  <option value=\"food-truck\">{t('foodTruck')}</option>\n                  <option value=\"fine-dining\">{t('fineDining')}</option>\n                  <option value=\"fast-casual\">{t('fastCasual')}</option>\n                </select>\n                <button\n                  onClick={loadBlogHistory}\n                  style={{\n                    background: '#667eea',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px 16px',\n                    fontWeight: '600',\n                    cursor: 'pointer'\n                  }}\n                >\n                  🔄 {t('refresh')}\n                </button>\n              </div>\n\n              {/* Toggle for Backend Posts */}\n              <div style={{ display: 'flex', gap: '8px', marginBottom: '24px' }}>\n                <button\n                  onClick={() => setShowBackend(false)}\n                  style={{\n                    flex: 1,\n                    padding: '12px 24px',\n                    borderRadius: '8px',\n                    border: 'none',\n                    background: !showBackend ? '#667eea' : 'transparent',\n                    color: !showBackend ? '#fff' : '#4a5568',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease'\n                  }}\n                >\n                  {t('localPosts')}\n                </button>\n                <button\n                  onClick={() => setShowBackend(true)}\n                  style={{\n                    flex: 1,\n                    padding: '12px 24px',\n                    borderRadius: '8px',\n                    border: 'none',\n                    background: showBackend ? '#667eea' : 'transparent',\n                    color: showBackend ? '#fff' : '#4a5568',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease'\n                  }}\n                >\n                  {t('backendPosts')}\n                </button>\n              </div>\n\n              {/* Blog Posts Section */}\n              {showBackend ? (\n                backendLoading ? (\n                  <div style={{ textAlign: 'center', color: '#667eea', padding: '40px' }}>{t('loadingBackendPosts')}</div>\n                ) : backendError ? (\n                  <div style={{ textAlign: 'center', color: '#c53030', padding: '40px' }}>{backendError}</div>\n                ) : backendBlogs.length === 0 ? (\n                  <div style={{ textAlign: 'center', color: '#6c757d', padding: '40px' }}>{t('noBackendBlogPostsFound')}</div>\n                ) : (\n                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))', gap: '24px' }}>\n                    {backendBlogs.map((blog) => (\n                      <div key={blog._id} style={{\n                        background: '#f8f9fa',\n                        borderRadius: '16px',\n                        padding: '24px',\n                        border: '1px solid #e9ecef',\n                        transition: 'transform 0.2s ease, box-shadow 0.2s ease'\n                      }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '16px' }}>\n                          <div>\n                            <h3 style={{ margin: '0 0 8px 0', color: '#2d3748', fontSize: '18px', fontWeight: '700', lineHeight: '1.4' }}>{blog.topic}</h3>\n                            <p style={{ margin: '0', color: '#4a5568', fontSize: '14px', fontWeight: '600' }}>{blog.restaurantName}</p>\n                          </div>\n                        </div>\n                        <div style={{ background: '#fff', borderRadius: '8px', padding: '16px', marginBottom: '16px', border: '1px solid #e9ecef', maxHeight: '200px', overflow: 'hidden', position: 'relative' }}>\n                          <div style={{ color: '#2d3748', fontSize: '14px', lineHeight: '1.6', whiteSpace: 'pre-wrap' }}>\n                            {blog.blogPost ? blog.blogPost.substring(0, 300) : ''}\n                            {blog.blogPost && blog.blogPost.length > 300 && '...'}\n                          </div>\n                          {blog.blogPost && blog.blogPost.length > 300 && (\n                            <div style={{ position: 'absolute', bottom: 0, left: 0, right: 0, height: '40px', background: 'linear-gradient(transparent, #fff)', pointerEvents: 'none' }}></div>\n                          )}\n                        </div>\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginBottom: '12px' }}>\n                          <span style={{ background: '#e9ecef', color: '#495057', padding: '4px 8px', borderRadius: '12px', fontSize: '12px', fontWeight: '500' }}>{blog.restaurantType}</span>\n                          <span style={{ background: '#e9ecef', color: '#495057', padding: '4px 8px', borderRadius: '12px', fontSize: '12px', fontWeight: '500' }}>{blog.tone}</span>\n                          <span style={{ background: '#e9ecef', color: '#495057', padding: '4px 8px', borderRadius: '12px', fontSize: '12px', fontWeight: '500' }}>{blog.wordCount || (blog.blogPost ? blog.blogPost.split(/\\s+/).length : 0)} {t('words')}</span>\n                          {blog.images && blog.images.length > 0 && (\n                                                          <span style={{ background: '#e9ecef', color: '#495057', padding: '4px 8px', borderRadius: '12px', fontSize: '12px', fontWeight: '500' }}>{blog.images.length} {t('image')}</span>\n                          )}\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', fontSize: '12px', color: '#6c757d' }}>\n                                          <span>{t('savedToBackend')}: {blog.createdAt ? new Date(blog.createdAt).toLocaleString() : t('notAvailable')}</span>\n                {blog.updatedAt && blog.updatedAt !== blog.createdAt && (\n                  <span>{t('updated')}: {new Date(blog.updatedAt).toLocaleString()}</span>\n                )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )\n              ) : (\n                /* Local Blog Posts */\n                <div>\n                  {filteredBlogs.length === 0 ? (\n                    <div style={{\n                      textAlign: 'center',\n                      padding: '60px 20px',\n                      color: '#6c757d'\n                    }}>\n                      <div style={{ fontSize: '64px', marginBottom: '16px' }}>📝</div>\n                      <h3 style={{ margin: '0 0 12px 0', fontSize: '24px' }}>\n                        {blogHistory.length === 0 ? t('noBlogPostsYet') : t('noPostsMatchYourSearch')}\n                      </h3>\n                      <p style={{ margin: '0 0 24px 0', fontSize: '16px' }}>\n                        {blogHistory.length === 0 \n                          ? t('createYourFirstBlogPostToGetStarted') \n                          : t('tryAdjustingYourSearchOrFilterCriteria')\n                        }\n                      </p>\n                      {blogHistory.length === 0 && (\n                        <Link\n                          to=\"/blog-creator\"\n                          style={{\n                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                            color: '#fff',\n                            padding: '12px 24px',\n                            borderRadius: '8px',\n                            textDecoration: 'none',\n                            fontWeight: '600',\n                            display: 'inline-block'\n                          }}\n                        >\n                          ✍️ {t('createYourFirstBlogPost')}\n                        </Link>\n                      )}\n                    </div>\n                  ) : (\n                    <div style={{\n                      display: 'grid',\n                      gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\n                      gap: '24px'\n                    }}>\n                      {filteredBlogs.map((blog) => (\n                        <div key={blog.id} style={{\n                          background: '#f8f9fa',\n                          borderRadius: '16px',\n                          padding: '24px',\n                          border: '1px solid #e9ecef',\n                          transition: 'transform 0.2s ease, box-shadow 0.2s ease'\n                        }}>\n                          <div style={{\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'flex-start',\n                            marginBottom: '16px'\n                          }}>\n                            <div>\n                              <h3 style={{\n                                margin: '0 0 8px 0',\n                                color: '#2d3748',\n                                fontSize: '18px',\n                                fontWeight: '700',\n                                lineHeight: '1.4'\n                              }}>\n                                {blog.topic}\n                              </h3>\n                              <p style={{\n                                margin: '0',\n                                color: '#4a5568',\n                                fontSize: '14px',\n                                fontWeight: '600'\n                              }}>\n                                {blog.restaurantName}\n                              </p>\n                            </div>\n                            <div style={{\n                              display: 'flex',\n                              gap: '8px'\n                            }}>\n                              <button\n                                onClick={() => copyBlog(blog.blogPost)}\n                                style={{\n                                  background: '#28a745',\n                                  color: '#fff',\n                                  border: 'none',\n                                  borderRadius: '6px',\n                                  padding: '6px 10px',\n                                  fontSize: '12px',\n                                  cursor: 'pointer'\n                                }}\n                                title={t('copyBlogPost')}\n                              >\n                                📋\n                              </button>\n                              <button\n                                onClick={() => deleteBlog(blog.id)}\n                                style={{\n                                  background: '#dc3545',\n                                  color: '#fff',\n                                  border: 'none',\n                                  borderRadius: '6px',\n                                  padding: '6px 10px',\n                                  fontSize: '12px',\n                                  cursor: 'pointer'\n                                }}\n                                title={t('deleteBlogPost')}\n                              >\n                                🗑️\n                              </button>\n                            </div>\n                          </div>\n\n                          <div style={{\n                            background: '#fff',\n                            borderRadius: '8px',\n                            padding: '16px',\n                            marginBottom: '16px',\n                            border: '1px solid #e9ecef',\n                            maxHeight: '200px',\n                            overflow: 'hidden',\n                            position: 'relative'\n                          }}>\n                            <div style={{\n                              color: '#2d3748',\n                              fontSize: '14px',\n                              lineHeight: '1.6',\n                              whiteSpace: 'pre-wrap'\n                            }}>\n                              {blog.blogPost.substring(0, 300)}\n                              {blog.blogPost.length > 300 && '...'}\n                            </div>\n                            {blog.blogPost.length > 300 && (\n                              <div style={{\n                                position: 'absolute',\n                                bottom: 0,\n                                left: 0,\n                                right: 0,\n                                height: '40px',\n                                background: 'linear-gradient(transparent, #fff)',\n                                pointerEvents: 'none'\n                              }}></div>\n                            )}\n                          </div>\n\n                          <div style={{\n                            display: 'flex',\n                            flexWrap: 'wrap',\n                            gap: '8px',\n                            marginBottom: '12px'\n                          }}>\n                            <span style={{\n                              background: '#e9ecef',\n                              color: '#495057',\n                              padding: '4px 8px',\n                              borderRadius: '12px',\n                              fontSize: '12px',\n                              fontWeight: '500'\n                            }}>\n                              {blog.restaurantType}\n                            </span>\n                            <span style={{\n                              background: '#e9ecef',\n                              color: '#495057',\n                              padding: '4px 8px',\n                              borderRadius: '12px',\n                              fontSize: '12px',\n                              fontWeight: '500'\n                            }}>\n                              {blog.tone}\n                            </span>\n                            <span style={{\n                              background: '#e9ecef',\n                              color: '#495057',\n                              padding: '4px 8px',\n                              borderRadius: '12px',\n                              fontSize: '12px',\n                              fontWeight: '500'\n                            }}>\n                              {getWordCount(blog.blogPost)} {t('words')}\n                            </span>\n                            {blog.images && blog.images.length > 0 && (\n                              <span style={{\n                                background: '#e9ecef',\n                                color: '#495057',\n                                padding: '4px 8px',\n                                borderRadius: '12px',\n                                fontSize: '12px',\n                                fontWeight: '500'\n                              }}>\n                                {blog.images.length} {t('image')}\n                              </span>\n                            )}\n                          </div>\n\n                          <div style={{\n                            display: 'flex',\n                            justifyContent: 'space-between',\n                            alignItems: 'center',\n                            fontSize: '12px',\n                            color: '#6c757d'\n                          }}>\n                            <span>{formatDate(blog.timestamp)}</span>\n                            <div style={{\n                              display: 'flex',\n                              gap: '8px'\n                            }}>\n                              <Link\n                                to={`/blog-post/generated-${blog.id}`}\n                                style={{\n                                  color: '#667eea',\n                                  textDecoration: 'none',\n                                  fontWeight: '600',\n                                  fontSize: '12px',\n                                  background: '#f8f9fa',\n                                  padding: '4px 8px',\n                                  borderRadius: '6px',\n                                  border: '1px solid #e9ecef'\n                                }}\n                              >\n                                👁️ {t('viewFullPost')}\n                              </Link>\n                              <Link\n                                to=\"/blog-creator\"\n                                style={{\n                                  color: '#667eea',\n                                  textDecoration: 'none',\n                                  fontWeight: '600',\n                                  fontSize: '12px'\n                                }}\n                              >\n                                ✍️ {t('createSimilar')}\n                              </Link>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Newsletter Signup */}\n          <div style={{\n            background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n            borderRadius: '16px',\n            padding: '32px',\n            border: '1px solid #bae6fd',\n            textAlign: 'center',\n            marginTop: '40px'\n          }}>\n            <h3 style={{\n              margin: '0 0 12px 0',\n              color: '#0c4a6e',\n              fontSize: '20px',\n              fontWeight: '700'\n            }}>\n              {t('stayUpdated')}\n            </h3>\n            <p style={{\n              margin: '0 0 20px 0',\n              color: '#0369a1',\n              lineHeight: '1.6'\n            }}>\n              {t('getLatestTipsInsights')}\n            </p>\n            <div style={{\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'center',\n              flexWrap: 'wrap'\n            }}>\n              <Link \n                to=\"/blog-creator\"\n                style={{\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                  color: '#fff',\n                  padding: '12px 24px',\n                  borderRadius: '8px',\n                  textDecoration: 'none',\n                  fontWeight: '600',\n                  transition: 'all 0.3s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.transform = 'translateY(-2px)';\n                  e.target.style.boxShadow = '0 8px 24px rgba(102, 126, 234, 0.3)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = 'none';\n                }}\n              >\n                {t('createYourBlogPost')}\n              </Link>\n              <Link \n                to=\"/generate\"\n                style={{\n                  background: '#e2e8f0',\n                  color: '#4a5568',\n                  padding: '12px 24px',\n                  borderRadius: '8px',\n                  textDecoration: 'none',\n                  fontWeight: '600',\n                  transition: 'all 0.3s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = '#cbd5e0';\n                  e.target.style.transform = 'translateY(-2px)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = '#e2e8f0';\n                  e.target.style.transform = 'translateY(0)';\n                }}\n              >\n                {t('tryReviewGenNow')}\n              </Link>\n              <Link \n                to=\"/models\"\n                style={{\n                  background: '#e2e8f0',\n                  color: '#4a5568',\n                  padding: '12px 24px',\n                  borderRadius: '8px',\n                  textDecoration: 'none',\n                  fontWeight: '600',\n                  transition: 'all 0.3s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = '#cbd5e0';\n                  e.target.style.transform = 'translateY(-2px)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = '#e2e8f0';\n                  e.target.style.transform = 'translateY(0)';\n                }}\n              >\n                {t('exploreAIModels')}\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogIndex; ","import React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport './BlogPost.css';\n\nconst blogPosts = {\n  overview: {\n    title: 'AI-Powered Review Generation: The Complete Guide',\n    date: 'July 2024',\n    category: 'Overview',\n    image: '🤖',\n    color: '#667eea',\n    content: (\n      <>\n        <p>\n          Welcome to the complete guide on AI-powered review generation! Discover how our platform leverages advanced AI models to help you create authentic, engaging, and professional reviews for restaurants, hotels, products, and more. With features like voice input, sentiment analysis, and location integration, Vmarketing makes it easy to share your experiences and insights.\n        </p>\n        <h3>Key Features</h3>\n        <ul>\n          <li>✨ <b>AI Review Generator</b>: Instantly create high-quality reviews with the help of Meta Llama 3.1 70B</li>\n          <li>🎤 <b>Voice Input</b>: Speak your thoughts and let AI transcribe and analyze your experience</li>\n          <li>📍 <b>Location Attachment</b>: Add context to your reviews with smart location suggestions</li>\n          <li>💬 <b>Customer Service Agent</b>: Turn negative reviews into positive conversations with chatty, empathetic AI responses</li>\n          <li>🤖 <b>Multi-Model Support</b>: Specialized LLMs for reviews, customer service, and analysis</li>\n        </ul>\n        <h3>Why Use Vmarketing?</h3>\n        <ul>\n          <li>Save time and effort writing reviews</li>\n          <li>Get professional, engaging content every time</li>\n          <li>Transform customer feedback into actionable insights</li>\n          <li>Stand out with authentic, human-like writing</li>\n        </ul>\n        <h3>Get Started</h3>\n        <p>\n          Try the <Link to=\"/generate\">AI Review Generator</Link> or <Link to=\"/voice\">Voice Review</Link> now!\n        </p>\n      </>\n    )\n  },\n  'restaurant-reviews': {\n    title: 'Transform Your Restaurant Reviews with AI',\n    date: 'July 2024',\n    category: 'Restaurant',\n    image: '🍽️',\n    color: '#ff6b6b',\n    content: (\n      <>\n        <p>\n          Writing restaurant reviews has never been easier! Our AI understands the nuances of dining experiences, from food quality to service and atmosphere. Just share your thoughts, and ReviewGen will craft a review that captures the essence of your meal.\n        </p>\n        <h3>How It Works</h3>\n        <ol>\n          <li>Choose \"Restaurant\" as your review type</li>\n          <li>Describe your experience (pros, cons, details)</li>\n          <li>Let AI generate a review with natural flow and authentic voice</li>\n        </ol>\n        <h3>Pro Tips</h3>\n        <ul>\n          <li>Mention specific dishes or drinks</li>\n          <li>Describe the ambiance and service</li>\n          <li>Attach your location for extra context</li>\n        </ul>\n        <p>\n          <b>Ready to try?</b> <Link to=\"/generate\">Generate a restaurant review now!</Link>\n        </p>\n      </>\n    )\n  },\n  'hotel-reviews': {\n    title: \"AI Hotel Review Generation: A Traveler's Best Friend\",\n    date: 'July 2024',\n    category: 'Hotel',\n    image: '🏨',\n    color: '#20c997',\n    content: (\n      <>\n        <p>\n          Whether you're a frequent traveler or a first-time guest, ReviewGen helps you write detailed hotel reviews that inform and inspire. Highlight amenities, comfort, cleanliness, and service with ease.\n        </p>\n        <h3>What to Include</h3>\n        <ul>\n          <li>Room quality and comfort</li>\n          <li>Staff friendliness and service</li>\n          <li>Location and nearby attractions</li>\n          <li>Value for money</li>\n        </ul>\n        <p>\n          <b>Share your stay:</b> <Link to=\"/generate\">Write a hotel review with AI</Link>\n        </p>\n      </>\n    )\n  },\n  'product-reviews': {\n    title: 'Smart Product Review Creation with AI',\n    date: 'July 2024',\n    category: 'Product',\n    image: '📱',\n    color: '#f7b731',\n    content: (\n      <>\n        <p>\n          Generate comprehensive product reviews that highlight features, benefits, and real-world usage. Whether it's tech, gadgets, or everyday items, ReviewGen makes your feedback shine.\n        </p>\n        <h3>Tips for Great Product Reviews</h3>\n        <ul>\n          <li>Describe what you liked and what could be improved</li>\n          <li>Mention specific features or specs</li>\n          <li>Share your overall verdict and recommendation</li>\n        </ul>\n        <p>\n          <b>Try it out:</b> <Link to=\"/generate\">Create a product review</Link>\n        </p>\n      </>\n    )\n  },\n  'customer-service-ai': {\n    title: 'AI Customer Service Responses: Building Better Relationships',\n    date: 'July 2024',\n    category: 'Customer Service',\n    image: '💬',\n    color: '#4b7bec',\n    content: (\n      <>\n        <p>\n          Turn negative reviews into positive customer experiences with our chatty, empathetic AI customer service agent. Respond to feedback in a way that feels personal, warm, and genuinely helpful.\n        </p>\n        <h3>How It Works</h3>\n        <ol>\n          <li>Paste a negative review into the Chatty Agent</li>\n          <li>AI generates a friendly, conversational response</li>\n          <li>Copy and use the response to engage your customer</li>\n        </ol>\n        <h3>Benefits</h3>\n        <ul>\n          <li>Defuse negative situations with empathy</li>\n          <li>Build trust and loyalty with customers</li>\n          <li>Save time with ready-to-use, human-like replies</li>\n        </ul>\n        <p>\n                                  <b>Try the Customer Service Agent:</b> <Link to=\"/customer-service\">Go to Customer Service</Link>\n        </p>\n      </>\n    )\n  },\n  'your-custom-post': {\n    title: 'Your Custom Blog Post Title',\n    date: 'July 2024',\n    category: 'Custom',\n    image: '📝',\n    color: '#a55eea',\n    content: (\n      <>\n        <p>\n          This is where your custom blog post content will go. Please share your suggested content and I'll replace this placeholder with your actual content.\n        </p>\n        <h3>Your Content Here</h3>\n        <p>\n          Replace this section with your suggested content. You can include:\n        </p>\n        <ul>\n          <li>Your main points and ideas</li>\n          <li>Examples and case studies</li>\n          <li>Tips and best practices</li>\n          <li>Any other relevant information</li>\n        </ul>\n        <p>\n          <b>Ready to customize:</b> Just share your content and I'll update this post!\n        </p>\n      </>\n    )\n  }\n};\n\nconst BlogPost = () => {\n  const { slug } = useParams();\n  const [generatedPost, setGeneratedPost] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [editedContent, setEditedContent] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [showPreview, setShowPreview] = useState(false);\n  const [copyStatus, setCopyStatus] = useState('');\n  const [backendPost, setBackendPost] = useState(null);\n  const [backendLoading, setBackendLoading] = useState(false);\n  const [backendError, setBackendError] = useState('');\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    loadGeneratedPost();\n  }, [slug]);\n\n  const loadGeneratedPost = async () => {\n    try {\n      setLoading(true);\n      setBackendError('');\n      \n      // Check if this is a generated post (starts with 'generated-')\n      if (slug && slug.startsWith('generated-')) {\n        const postId = slug.replace('generated-', '');\n        const blogHistory = JSON.parse(localStorage.getItem('blogHistory') || '[]');\n        const foundPost = blogHistory.find(post => post.id.toString() === postId);\n        \n        if (foundPost) {\n          setGeneratedPost(foundPost);\n          setEditedContent(foundPost.blogPost || '');\n        }\n      } else if (slug && slug.startsWith('backend-')) {\n        // Load from backend by ID\n        setBackendLoading(true);\n        try {\n          const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n          const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : require('../config/api').default.baseURL;\n          const res = await fetch(`${baseURL}/blog/list`);\n          const data = await res.json();\n          if (data.success && Array.isArray(data.blogs)) {\n            const found = data.blogs.find(post => post._id === slug.replace('backend-', ''));\n            if (found) {\n              setBackendPost(found);\n              setEditedContent(found.blogPost || '');\n            } else {\n              setBackendError(t('blogPostNotFoundInBackend'));\n            }\n          } else {\n            setBackendError(t('failedToFetchBackendBlogPosts'));\n          }\n        } catch (err) {\n          setBackendError(t('networkErrorFetchingBackendBlogPost'));\n        } finally {\n          setBackendLoading(false);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading generated post:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to toggle edit mode\n  const toggleEditMode = () => {\n    if (isEditMode) {\n      // Exiting edit mode, reset to original content\n      setEditedContent(generatedPost?.blogPost || '');\n    }\n    setIsEditMode(!isEditMode);\n  };\n\n  // Function to save edited content\n  const saveEditedContent = async () => {\n    if (!generatedPost) return;\n    \n    try {\n      setIsSaving(true);\n      \n      // Update the post in localStorage\n      const blogHistory = JSON.parse(localStorage.getItem('blogHistory') || '[]');\n      const updatedHistory = blogHistory.map(post => {\n        if (post.id.toString() === generatedPost.id.toString()) {\n          return {\n            ...post,\n            blogPost: editedContent,\n            lastEdited: new Date().toISOString()\n          };\n        }\n        return post;\n      });\n      \n      localStorage.setItem('blogHistory', JSON.stringify(updatedHistory));\n      \n      // Update the current post state\n      setGeneratedPost({\n        ...generatedPost,\n        blogPost: editedContent,\n        lastEdited: new Date().toISOString()\n      });\n      \n      setIsEditMode(false);\n    } catch (error) {\n      console.error('Error saving edited content:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Function to discard changes\n  const discardChanges = () => {\n    setEditedContent(generatedPost?.blogPost || '');\n    setIsEditMode(false);\n    setShowPreview(false);\n  };\n\n  // Function to toggle preview\n  const togglePreview = () => {\n    setShowPreview(!showPreview);\n  };\n\n  // Function to copy full blog content\n  const copyFullContent = async () => {\n    if (!generatedPost) return;\n    \n    try {\n      // Get the current content (edited or original)\n      const contentToCopy = isEditMode ? editedContent : generatedPost.blogPost;\n      \n      // Clean the content for copying (remove markdown artifacts but keep structure)\n      const cleanContentForCopy = contentToCopy\n        // Remove image placement suggestions\n        .replace(/\\[Image \\d+: [^\\]]+\\]/g, '')\n        .replace(/\\[Place image here[^\\]]*\\]/g, '')\n        .replace(/\\[Insert image[^\\]]*\\]/g, '')\n        .replace(/\\[Add image[^\\]]*\\]/g, '')\n        .replace(/\\[Image placement[^\\]]*\\]/g, '')\n        .replace(/\\[Caption: [^\\]]+\\]/g, '')\n        .replace(/\\[Suggested caption[^\\]]*\\]/g, '')\n        // Remove technical image instructions\n        .replace(/Note: Images are embedded[^.]*\\./g, '')\n        .replace(/Images are embedded[^.]*\\./g, '')\n        .replace(/Image integration[^.]*\\./g, '')\n        .replace(/Image placement[^.]*\\./g, '')\n        // Remove markdown code blocks\n        .replace(/```[\\s\\S]*?```/g, '')\n        // Remove inline code blocks\n        .replace(/`([^`]+)`/g, '$1')\n        // Remove markdown links but keep text\n        .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n        // Remove markdown images but keep alt text\n        .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n        // Remove markdown emphasis but keep text\n        .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n        .replace(/\\*([^*]+)\\*/g, '$1')\n        .replace(/__([^_]+)__/g, '$1')\n        .replace(/_([^_]+)_/g, '$1')\n        // Remove markdown strikethrough\n        .replace(/~~([^~]+)~~/g, '$1')\n        // Remove markdown blockquotes\n        .replace(/^>\\s*/gm, '')\n        // Remove markdown horizontal rules\n        .replace(/^[-*_]{3,}$/gm, '')\n        // Remove markdown table syntax\n        .replace(/^\\|.*\\|$/gm, '')\n        // Convert markdown headings to plain text\n        .replace(/^#\\s*(.+)$/gm, '$1')\n        .replace(/^##\\s*(.+)$/gm, '$1')\n        .replace(/^###\\s*(.+)$/gm, '$1')\n        .replace(/^####\\s*(.+)$/gm, '$1')\n        // Convert bullet points to plain text\n        .replace(/^[-*•]\\s*/gm, '• ')\n        // Convert numbered lists to plain text\n        .replace(/^\\d+\\.\\s*/gm, (match) => {\n          const num = match.match(/\\d+/)[0];\n          return `${num}. `;\n        })\n        // Clean up excessive spacing\n        .replace(/\\n{3,}/g, '\\n\\n')\n        .replace(/ {2,}/g, ' ')\n        .trim();\n      \n      // Create a formatted version with title and metadata\n      const formattedContent = `${generatedPost.topic}\n\n${cleanContentForCopy}\n\n---\n${t('generatedByReviewGenAI')}\n${t('restaurant')}: ${generatedPost.restaurantName || t('notAvailable')}\n${t('cuisine')}: ${generatedPost.cuisine || t('notAvailable')}\n${t('location')}: ${generatedPost.location || t('notAvailable')}\n${t('targetAudience')}: ${generatedPost.targetAudience || t('notAvailable')}\n${t('writingTone')}: ${generatedPost.tone || t('notAvailable')}\n${t('blogLength')}: ${generatedPost.length || t('notAvailable')}\n${t('generatedOn')}: ${new Date(generatedPost.timestamp).toLocaleString()}`;\n      \n      // Copy to clipboard\n      await navigator.clipboard.writeText(formattedContent);\n      \n      // Show success feedback\n      setCopyStatus(t('contentCopiedToClipboard'));\n      \n      // Clear the status after 3 seconds\n      setTimeout(() => {\n        setCopyStatus('');\n      }, 3000);\n      \n    } catch (error) {\n      console.error('Error copying content:', error);\n      setCopyStatus(t('failedToCopyContent'));\n      \n      // Clear the error status after 3 seconds\n      setTimeout(() => {\n        setCopyStatus('');\n      }, 3000);\n    }\n  };\n\n  // Function to clean and format blog content\n  const cleanAndFormatBlogContent = (content) => {\n    if (!content) return '';\n    \n    let cleanedContent = content;\n    \n    // Remove image placement suggestions and technical instructions\n    cleanedContent = cleanedContent\n      // Remove image placement suggestions\n      .replace(/\\[Image \\d+: [^\\]]+\\]/g, '')\n      .replace(/\\[Place image here[^\\]]*\\]/g, '')\n      .replace(/\\[Insert image[^\\]]*\\]/g, '')\n      .replace(/\\[Add image[^\\]]*\\]/g, '')\n      .replace(/\\[Image placement[^\\]]*\\]/g, '')\n      .replace(/\\[Caption: [^\\]]+\\]/g, '')\n      .replace(/\\[Suggested caption[^\\]]*\\]/g, '')\n      // Remove technical image instructions\n      .replace(/Note: Images are embedded[^.]*\\./g, '')\n      .replace(/Images are embedded[^.]*\\./g, '')\n      .replace(/Image integration[^.]*\\./g, '')\n      .replace(/Image placement[^.]*\\./g, '')\n      // Remove markdown code blocks\n      .replace(/```[\\s\\S]*?```/g, '')\n      // Remove inline code blocks\n      .replace(/`([^`]+)`/g, '$1')\n      // Remove markdown links but keep text\n      .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n      // Remove markdown images but keep alt text\n      .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n      // Remove markdown emphasis but keep text\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n      .replace(/\\*([^*]+)\\*/g, '$1')\n      .replace(/__([^_]+)__/g, '$1')\n      .replace(/_([^_]+)_/g, '$1')\n      // Remove markdown strikethrough\n      .replace(/~~([^~]+)~~/g, '$1')\n      // Remove markdown blockquotes\n      .replace(/^>\\s*/gm, '')\n      // Remove markdown horizontal rules\n      .replace(/^[-*_]{3,}$/gm, '')\n      // Remove markdown table syntax\n      .replace(/^\\|.*\\|$/gm, '')\n      // Remove markdown list markers but keep content\n      .replace(/^[-*+]\\s+/gm, '• ')\n      .replace(/^\\d+\\.\\s+/gm, (match) => {\n        const num = match.match(/\\d+/)[0];\n        return `${num}. `;\n      });\n    \n    // Keep strategic emojis but remove excessive ones\n    // Note: All emojis are now preserved - no emoji cleaning applied\n    \n    // Clean up excessive punctuation\n    cleanedContent = cleanedContent\n      .replace(/\\.{3,}/g, '...')\n      .replace(/!{2,}/g, '!')\n      .replace(/\\?{2,}/g, '?')\n      .replace(/_{2,}/g, '_')\n      .replace(/\\*{3,}/g, '**');\n    \n    // Clean up excessive spacing\n    cleanedContent = cleanedContent\n      .replace(/\\n{3,}/g, '\\n\\n')\n      .replace(/ {2,}/g, ' ')\n      .replace(/\\t/g, ' ');\n    \n    // Enhanced heading hierarchy formatting\n    cleanedContent = cleanedContent\n      // Fix H1 headings (main title)\n      .replace(/^#\\s*(.+)$/gm, '# $1')\n      // Fix H2 headings (major sections)\n      .replace(/^##\\s*(.+)$/gm, '## $1')\n      // Fix H3 headings (subsections)\n      .replace(/^###\\s*(.+)$/gm, '### $1')\n      // Fix H4 headings (detailed points)\n      .replace(/^####\\s*(.+)$/gm, '#### $1')\n      // Convert ALL CAPS lines to H2 headings (if they look like headings)\n      .replace(/^([A-Z][A-Z\\s]+)$/gm, (match) => {\n        const trimmed = match.trim();\n        if (trimmed.length > 3 && trimmed.length < 60 && !trimmed.includes('.')) {\n          return `## ${trimmed}`;\n        }\n        return match;\n      })\n      // Convert Title Case lines to H3 headings (if they look like headings)\n      .replace(/^([A-Z][a-z\\s]+)$/gm, (match) => {\n        const trimmed = match.trim();\n        if (trimmed.length > 3 && trimmed.length < 50 && !trimmed.includes('.') && !trimmed.includes('!') && !trimmed.includes('?')) {\n          return `### ${trimmed}`;\n        }\n        return match;\n      });\n    \n    // Clean up bullet points and lists\n    cleanedContent = cleanedContent\n      .replace(/^[-*•]\\s*/gm, '• ')\n      .replace(/^[0-9]+\\.\\s*/gm, (match) => {\n        return match.replace(/^[0-9]+\\.\\s*/, (num) => `${num.split('.')[0]}. `);\n      });\n    \n    // Ensure proper spacing around headings\n    cleanedContent = cleanedContent\n      .replace(/([^\\n])\\n(#+\\s)/g, '$1\\n\\n$2')\n      .replace(/(#+\\s[^\\n]+)\\n([^\\n])/g, '$1\\n\\n$2');\n    \n    // Remove any remaining markdown artifacts\n    cleanedContent = cleanedContent\n      // Remove any remaining markdown syntax\n      .replace(/\\[([^\\]]+)\\]\\([^)]*\\)/g, '$1')\n      .replace(/!\\[([^\\]]*)\\]\\([^)]*\\)/g, '$1')\n      .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n      .replace(/\\*([^*]+)\\*/g, '$1')\n      .replace(/__([^_]+)__/g, '$1')\n      .replace(/_([^_]+)_/g, '$1')\n      .replace(/~~([^~]+)~~/g, '$1')\n      .replace(/`([^`]+)`/g, '$1')\n      // Remove any remaining markdown list markers\n      .replace(/^[-*+]\\s+/gm, '• ')\n      // Remove any remaining markdown blockquotes\n      .replace(/^>\\s*/gm, '')\n      // Remove any remaining markdown horizontal rules\n      .replace(/^[-*_]{3,}$/gm, '')\n      // Remove any remaining markdown table syntax\n      .replace(/^\\|.*\\|$/gm, '');\n    \n    return cleanedContent.trim();\n  };\n\n  // Function to render blog content with embedded images\n  const renderBlogWithImages = (blogContent, images = []) => {\n    // Clean and format the blog content\n    const cleanedContent = cleanAndFormatBlogContent(blogContent);\n    \n    if (!cleanedContent || !images.length) {\n      return (\n        <div style={{\n          color: '#2d3748',\n          fontSize: '16px',\n          lineHeight: '1.7',\n          whiteSpace: 'pre-wrap'\n        }}>\n          {renderHierarchicalContent(cleanedContent)}\n        </div>\n      );\n    }\n\n    // Split the blog content into paragraphs\n    const paragraphs = cleanedContent.split('\\n\\n').filter(p => p.trim());\n    \n    // Create image placement strategy\n    const imagePlacement = [];\n    if (images.length === 1) {\n      imagePlacement.push(0); // After first paragraph\n    } else if (images.length === 2) {\n      imagePlacement.push(0, Math.floor(paragraphs.length / 2));\n    } else if (images.length === 3) {\n      imagePlacement.push(0, Math.floor(paragraphs.length / 3), Math.floor(paragraphs.length * 2 / 3));\n    } else {\n      // For more images, distribute them evenly\n      for (let i = 0; i < images.length; i++) {\n        imagePlacement.push(Math.floor((paragraphs.length * i) / images.length));\n      }\n    }\n\n    return (\n      <div style={{ color: '#2d3748', fontSize: '16px', lineHeight: '1.7' }}>\n        {paragraphs.map((paragraph, index) => (\n          <div key={index}>\n            <div style={{ marginBottom: '20px' }}>\n              {renderHierarchicalContent(paragraph)}\n            </div>\n            \n            {/* Insert images at strategic points */}\n            {imagePlacement.includes(index) && (\n              <div style={{\n                margin: '24px 0',\n                textAlign: 'center'\n              }}>\n                {images.slice(0, imagePlacement.filter(p => p <= index).length).map((image, imgIndex) => {\n                  if (imagePlacement.indexOf(index) === imgIndex) {\n                    return (\n                      <div key={image.id} style={{\n                        marginBottom: '16px',\n                        background: '#f8f9fa',\n                        borderRadius: '12px',\n                        padding: '16px',\n                        border: '1px solid #e9ecef'\n                      }}>\n                        <img\n                          src={image.dataUrl}\n                          alt={image.name}\n                          style={{\n                            maxWidth: '100%',\n                            height: 'auto',\n                            borderRadius: '8px',\n                            boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                            marginBottom: '12px'\n                          }}\n                        />\n                        <div style={{\n                          fontSize: '14px',\n                          color: '#6c757d',\n                          fontStyle: 'italic',\n                          textAlign: 'center',\n                          marginTop: '0',\n                          marginBottom: '8px'\n                        }}>\n                          {image.name.replace(/\\.[^/.]+$/, '').replace(/[_-]/g, ' ')}\n                        </div>\n                      </div>\n                    );\n                  }\n                  return null;\n                })}\n              </div>\n            )}\n          </div>\n        ))}\n        \n        {/* Display remaining images at the end if any */}\n        {imagePlacement.length < images.length && (\n          <div style={{\n            marginTop: '32px',\n            padding: '24px',\n            background: '#f8f9fa',\n            borderRadius: '12px',\n            border: '1px solid #e9ecef'\n          }}>\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '16px'\n            }}>\n              {images.slice(imagePlacement.length).map((image) => (\n                <div key={image.id} style={{\n                  textAlign: 'center'\n                }}>\n                  <img\n                    src={image.dataUrl}\n                    alt={image.name}\n                    style={{\n                      width: '100%',\n                      height: '150px',\n                      objectFit: 'cover',\n                      borderRadius: '8px',\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                      marginBottom: '8px'\n                    }}\n                  />\n                  <div style={{\n                    fontSize: '12px',\n                    color: '#6c757d',\n                    textAlign: 'center',\n                    marginTop: '0'\n                  }}>\n                    {image.name.replace(/\\.[^/.]+$/, '').replace(/[_-]/g, ' ')}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Function to render hierarchical content with proper styling\n  const renderHierarchicalContent = (content) => {\n    if (!content) return null;\n\n    const lines = content.split('\\n');\n    \n    return lines.map((line, index) => {\n      const trimmedLine = line.trim();\n      \n      // H1 - Main title (usually not used in blog content, but handle it)\n      if (trimmedLine.startsWith('# ') && !trimmedLine.startsWith('##')) {\n        return (\n          <h1 key={index} style={{\n            fontSize: '28px',\n            fontWeight: '800',\n            color: '#1a202c',\n            margin: '32px 0 24px 0',\n            lineHeight: '1.3',\n            borderBottom: '3px solid #667eea',\n            paddingBottom: '12px'\n          }}>\n            {trimmedLine.substring(2)}\n          </h1>\n        );\n      }\n      \n      // H2 - Major sections\n      if (trimmedLine.startsWith('## ')) {\n        return (\n          <h2 key={index} style={{\n            fontSize: '24px',\n            fontWeight: '700',\n            color: '#2d3748',\n            margin: '28px 0 20px 0',\n            lineHeight: '1.4',\n            borderLeft: '4px solid #667eea',\n            paddingLeft: '16px'\n          }}>\n            {trimmedLine.substring(3)}\n          </h2>\n        );\n      }\n      \n      // H3 - Subsections\n      if (trimmedLine.startsWith('### ')) {\n        return (\n          <h3 key={index} style={{\n            fontSize: '20px',\n            fontWeight: '600',\n            color: '#4a5568',\n            margin: '24px 0 16px 0',\n            lineHeight: '1.4'\n          }}>\n            {trimmedLine.substring(4)}\n          </h3>\n        );\n      }\n      \n      // H4 - Detailed points\n      if (trimmedLine.startsWith('#### ')) {\n        return (\n          <h4 key={index} style={{\n            fontSize: '18px',\n            fontWeight: '600',\n            color: '#718096',\n            margin: '20px 0 12px 0',\n            lineHeight: '1.4',\n            fontStyle: 'italic'\n          }}>\n            {trimmedLine.substring(5)}\n          </h4>\n        );\n      }\n      \n      // Bullet points\n      if (trimmedLine.startsWith('• ')) {\n        return (\n          <div key={index} style={{\n            margin: '8px 0',\n            paddingLeft: '20px',\n            position: 'relative'\n          }}>\n            <span style={{\n              position: 'absolute',\n              left: '0',\n              color: '#667eea',\n              fontWeight: 'bold'\n            }}>•</span>\n            <span style={{ marginLeft: '8px' }}>\n              {trimmedLine.substring(2)}\n            </span>\n          </div>\n        );\n      }\n      \n      // Numbered lists\n      if (/^\\d+\\.\\s/.test(trimmedLine)) {\n        return (\n          <div key={index} style={{\n            margin: '8px 0',\n            paddingLeft: '20px',\n            position: 'relative'\n          }}>\n            <span style={{\n              position: 'absolute',\n              left: '0',\n              color: '#667eea',\n              fontWeight: '600'\n            }}>\n              {trimmedLine.match(/^\\d+/)[0]}.\n            </span>\n            <span style={{ marginLeft: '8px' }}>\n              {trimmedLine.replace(/^\\d+\\.\\s/, '')}\n            </span>\n          </div>\n        );\n      }\n      \n      // Bold text and key points highlighting\n      if (trimmedLine.includes('**')) {\n        const parts = trimmedLine.split('**');\n        return (\n          <p key={index} style={{\n            margin: '12px 0',\n            lineHeight: '1.7'\n          }}>\n            {parts.map((part, partIndex) => (\n              partIndex % 2 === 1 ? (\n                <strong key={partIndex} style={{ \n                  color: '#1a202c', \n                  fontWeight: '700',\n                  backgroundColor: '#fef3c7',\n                  padding: '2px 6px',\n                  borderRadius: '4px',\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                }}>\n                  {part}\n                </strong>\n              ) : (\n                <span key={partIndex}>{part}</span>\n              )\n            ))}\n          </p>\n        );\n      }\n      \n      // Highlight important sentences and key points\n      if (trimmedLine.includes('✨') || trimmedLine.includes('💡') || trimmedLine.includes('🎯') || \n          trimmedLine.includes('⭐') || trimmedLine.includes('🔥') || trimmedLine.includes('💎')) {\n        return (\n          <div key={index} style={{\n            margin: '16px 0',\n            padding: '16px',\n            background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n            borderRadius: '12px',\n            border: '2px solid #f59e0b',\n            boxShadow: '0 4px 12px rgba(245, 158, 11, 0.15)'\n          }}>\n            <p style={{\n              margin: '0',\n              lineHeight: '1.7',\n              color: '#92400e',\n              fontWeight: '600',\n              fontSize: '16px'\n            }}>\n              {trimmedLine}\n            </p>\n          </div>\n        );\n      }\n      \n      // Regular paragraphs\n      if (trimmedLine) {\n        return (\n          <p key={index} style={{\n            margin: '12px 0',\n            lineHeight: '1.7'\n          }}>\n            {trimmedLine}\n          </p>\n        );\n      }\n      \n      // Empty lines\n      return <div key={index} style={{ height: '8px' }} />;\n    });\n  };\n\n  // Check for predefined post first\n  const predefinedPost = blogPosts[slug];\n\n  // Use generated post, backend post, or predefined post\n  const post = generatedPost || backendPost || predefinedPost;\n  const isBackend = !!backendPost;\n\n  if (loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#fff',\n        flexDirection: 'column'\n      }}>\n        <div style={{\n          width: '40px',\n          height: '40px',\n          border: '4px solid rgba(255,255,255,0.3)',\n          borderTop: '4px solid #fff',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          marginBottom: '16px'\n        }}></div>\n        <p style={{ fontSize: '1.1rem' }}>{t('loading_blog_post')}</p>\n      </div>\n    );\n  }\n\n  // In the not found case, if backendError exists, show it\n  if (!post) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#fff',\n        flexDirection: 'column'\n      }}>\n        <h1 style={{ fontSize: '3rem', marginBottom: '16px' }}>404</h1>\n        <p style={{ fontSize: '1.3rem', marginBottom: '24px' }}>{backendError || t('blog_post_not_found')}</p>\n        <Link to=\"/blog\" style={{\n          background: '#fff',\n          color: '#667eea',\n          padding: '12px 24px',\n          borderRadius: '8px',\n          textDecoration: 'none',\n          fontWeight: '600',\n        }}>{t('back_to_blog')}</Link>\n      </div>\n    );\n  }\n\n  // Determine post styling based on whether it's generated or predefined\n  const isGenerated = !!generatedPost;\n  const postColor = isGenerated ? '#667eea' : post.color;\n  const postImage = isGenerated ? '📝' : post.image;\n  const postCategory = isGenerated ? t('generatedBlog') : post.category;\n  const postDate = isGenerated ? new Date(post.timestamp).toLocaleDateString() : post.date;\n  const postTitle = isGenerated ? post.topic : post.title;\n\n  return (\n    <div className=\"blog-container\">\n      {/* Title & Meta */}\n      <div className=\"blog-header\">\n        <div className=\"blog-title\">{postTitle}</div>\n        <div className=\"blog-meta\">\n          <span>{postDate}</span>\n          <span>{postCategory}</span>\n          {isGenerated && post.restaurantName && <span>{post.restaurantName}</span>}\n          {isGenerated && post.cuisine && <span>{post.cuisine}</span>}\n          {isGenerated && post.location && <span>{post.location}</span>}\n        </div>\n      </div>\n      {/* Backend Save Info */}\n      {isBackend && post && (\n        <div className=\"blog-backend-info\">\n          <span>{t('savedToBackend')}: {post.createdAt ? new Date(post.createdAt).toLocaleString() : t('notAvailable')}</span>\n          {post.updatedAt && post.updatedAt !== post.createdAt && (\n            <span style={{ marginLeft: '16px' }}>{t('updated')}: {new Date(post.updatedAt).toLocaleString()}</span>\n          )}\n        </div>\n      )}\n      {/* Content Section */}\n      <div className=\"blog-content\">\n        {isGenerated ? (\n          isEditMode ? (\n            <div className=\"blog-edit-section\">\n              {/* Preview Toggle */}\n              <div style={{\n                marginBottom: '16px',\n                display: 'flex',\n                gap: '8px'\n              }}>\n                <button\n                  onClick={togglePreview}\n                  style={{\n                    background: showPreview ? '#667eea' : '#e2e8f0',\n                    color: showPreview ? '#fff' : '#4a5568',\n                    border: 'none',\n                    padding: '8px 16px',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  👁️ {showPreview ? t('hidePreview') : t('showPreview')}\n                </button>\n              </div>\n\n              {showPreview ? (\n                <div style={{\n                  background: '#fff',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '8px',\n                  padding: '20px',\n                  marginBottom: '16px',\n                  maxHeight: '400px',\n                  overflow: 'auto'\n                }}>\n                  <div style={{\n                    marginBottom: '12px',\n                    fontSize: '14px',\n                    fontWeight: '600',\n                    color: '#667eea'\n                  }}>\n                    📖 {t('preview')}:\n                  </div>\n                  {renderBlogWithImages(editedContent, post.images || [])}\n                </div>\n              ) : (\n                <textarea\n                  value={editedContent}\n                  onChange={(e) => setEditedContent(e.target.value)}\n                  style={{\n                    width: '100%',\n                    minHeight: '400px',\n                    padding: '16px',\n                    border: '1px solid #e2e8f0',\n                    borderRadius: '8px',\n                    fontSize: '16px',\n                    lineHeight: '1.6',\n                    fontFamily: 'monospace',\n                    resize: 'vertical',\n                    background: '#fff'\n                  }}\n                  placeholder={t('editYourBlogContentHere')}\n                />\n              )}\n              \n              <div style={{\n                marginTop: '12px',\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                fontSize: '14px',\n                color: '#718096'\n              }}>\n                <span style={{ fontStyle: 'italic' }}>\n                  💡 {t('tipUseMarkdown')}\n                </span>\n                <span style={{ fontWeight: '600' }}>\n                  📊 {t('wordCount')}: {editedContent.split(/\\s+/).filter(word => word.length > 0).length} {t('words')}\n                </span>\n              </div>\n            </div>\n          ) : (\n            renderBlogWithImages(post.blogPost, post.images || [])\n          )\n        ) : (\n          post.content\n        )}\n      </div>\n      {/* Metadata Section */}\n      {isGenerated && (\n        <div className=\"blog-metadata-section\">\n          <div className=\"blog-metadata-grid\">\n            <div>\n              <strong>{t('targetAudience')}:</strong>\n              <div>{post.targetAudience === 'customers' && t('generalCustomers')}</div>\n              <div>{post.targetAudience === 'foodies' && t('foodEnthusiasts')}</div>\n              <div>{post.targetAudience === 'families' && t('families')}</div>\n              <div>{post.targetAudience === 'business' && t('businessProfessionals')}</div>\n              <div>{post.targetAudience === 'tourists' && t('touristsVisitors')}</div>\n              <div>{post.targetAudience === 'locals' && t('localCommunity')}</div>\n            </div>\n            <div>\n              <strong>{t('writingTone')}:</strong>\n              <div>{post.tone === 'professional' && t('professional')}</div>\n              <div>{post.tone === 'casual' && t('casualFriendly')}</div>\n              <div>{post.tone === 'enthusiastic' && t('enthusiastic')}</div>\n              <div>{post.tone === 'elegant' && t('elegantSophisticated')}</div>\n              <div>{post.tone === 'rustic' && t('rusticCozy')}</div>\n              <div>{post.tone === 'modern' && t('modernTrendy')}</div>\n            </div>\n            <div>\n              <strong>{t('blogLength')}:</strong>\n              <div>{post.length === 'short' && t('short300500Words')}</div>\n              <div>{post.length === 'medium' && t('medium600800Words')}</div>\n              <div>{post.length === 'long' && t('long9001200Words')}</div>\n            </div>\n            <div>\n              <strong>{t('images')}:</strong>\n              <div>{post.images ? post.images.length : 0} {t('imagesIncluded')}</div>\n            </div>\n            {post.lastEdited && (\n              <div>\n                <strong>{t('lastEdited')}:</strong>\n                <div>{new Date(post.lastEdited).toLocaleString()}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n      {/* Back Button */}\n      <div className=\"blog-back-btn\">\n        <Link to=\"/blog\" style={{\n          background: postColor,\n          color: '#fff',\n          padding: '10px 22px',\n          borderRadius: '8px',\n          textDecoration: 'none',\n          fontWeight: '600',\n          fontSize: '1rem',\n          transition: 'all 0.2s',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.08)'\n        }}>{t('back_to_blog')}</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogPost; ","import React, { useState, useEffect } from 'react';\nimport apiConfig from '../config/api';\n\nexport default function CustomerServiceResponse() {\n  const [review, setReview] = useState('');\n  const [sentiment, setSentiment] = useState('negative');\n  const [response, setResponse] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const [staffName, setStaffName] = useState('');\n\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setResponse('');\n    setError('');\n    setStaffName('');\n    try {\n      // API key is now handled securely on the server\n      // Force production URL if we're on Netlify\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      \n      const res = await fetch(`${baseURL}/voice/customer-service-response`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ review, sentiment }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setStaffName(data.staffName || 'Customer Care Team');\n        setResponse(data.response || data.message || 'No response');\n      } else {\n        setError(data.error || 'Error generating response');\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div style={{ \n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n    }}>\n      <div style={{ \n        maxWidth: 800, \n        margin: '0 auto',\n        background: 'rgba(255, 255, 255, 0.95)',\n        borderRadius: '24px',\n        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',\n        overflow: 'hidden',\n        backdropFilter: 'blur(10px)'\n      }}>\n        {/* Header Section */}\n        <div style={{\n          background: 'linear-gradient(135deg, #4f8cff 0%, #38e8ff 100%)',\n          padding: '40px 32px',\n          textAlign: 'center',\n          position: 'relative',\n          overflow: 'hidden'\n        }}>\n          <div style={{\n            position: 'absolute',\n            top: '-50%',\n            right: '-20%',\n            width: '200px',\n            height: '200px',\n            background: 'rgba(255, 255, 255, 0.1)',\n            borderRadius: '50%',\n            animation: 'float 6s ease-in-out infinite'\n          }}></div>\n          <div style={{\n            position: 'absolute',\n            bottom: '-30%',\n            left: '-10%',\n            width: '150px',\n            height: '150px',\n            background: 'rgba(255, 255, 255, 0.08)',\n            borderRadius: '50%',\n            animation: 'float 8s ease-in-out infinite reverse'\n          }}></div>\n          \n          <span style={{ \n            fontSize: '64px', \n            marginBottom: '16px', \n            display: 'block',\n            filter: 'drop-shadow(0 4px 8px rgba(0,0,0,0.1))'\n          }}>👨‍💼</span>\n          <h1 style={{ \n            margin: '0 0 12px 0', \n            fontWeight: '800', \n            fontSize: '36px', \n            letterSpacing: '-0.5px',\n            color: '#fff',\n            textShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            Customer Relationship Agent\n          </h1>\n          <p style={{ \n            margin: '0', \n            fontSize: '18px', \n            opacity: '0.95',\n            color: '#fff',\n            fontWeight: '500'\n          }}>\n            Transform customer feedback into warm, personal conversations\n          </p>\n        </div>\n\n        {/* Main Content */}\n        <div style={{\n          padding: '40px 32px',\n          background: '#fff'\n        }}>\n\n\n          {/* Instructions */}\n          <div style={{\n            background: 'linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%)',\n            borderRadius: '16px',\n            padding: '24px',\n            marginBottom: '32px',\n            border: '1px solid #e1e8ff'\n          }}>\n            <h3 style={{ \n              margin: '0 0 12px 0', \n              color: '#2d3748', \n              fontSize: '20px',\n              fontWeight: '700',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}>\n              💡 How it works\n            </h3>\n            <p style={{ \n              margin: '0', \n              color: '#4a5568', \n              lineHeight: '1.6',\n              fontSize: '15px'\n            }}>\n              Paste customer feedback below, select the sentiment, and our AI will generate a warm, personal response \n              as if a customer relationship agent is having a genuine conversation with them - using friendly, \n              empathetic language that builds trust and shows we care about their experience.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            {/* Review Input Section */}\n            <div style={{ marginBottom: '28px' }}>\n              <label style={{ \n                display: 'block', \n                marginBottom: '12px', \n                fontWeight: '700', \n                color: '#2d3748',\n                fontSize: '16px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}>\n                📝 Customer Feedback\n              </label>\n              <textarea\n                value={review}\n                onChange={e => setReview(e.target.value)}\n                placeholder=\"Paste the customer feedback here... For example: 'The food was cold and the service was terrible. I waited 30 minutes for my order and when it finally came, it was completely wrong.'\"\n                rows={8}\n                style={{ \n                  width: '100%', \n                  borderRadius: '12px', \n                  border: '2px solid #e2e8f0', \n                  padding: '20px', \n                  fontSize: '16px', \n                  background: '#fafbfc',\n                  minHeight: '200px',\n                  resize: 'vertical',\n                  fontFamily: 'inherit',\n                  lineHeight: '1.6',\n                  transition: 'all 0.3s ease',\n                  boxSizing: 'border-box'\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#667eea';\n                  e.target.style.background = '#fff';\n                  e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#e2e8f0';\n                  e.target.style.background = '#fafbfc';\n                  e.target.style.boxShadow = 'none';\n                }}\n                required\n              />\n            </div>\n\n            {/* Sentiment Selection */}\n            <div style={{ marginBottom: '32px' }}>\n              <label style={{ \n                display: 'block', \n                marginBottom: '12px', \n                fontWeight: '700', \n                color: '#2d3748',\n                fontSize: '16px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}>\n                🎭 Feedback Sentiment\n              </label>\n              <div style={{\n                display: 'flex',\n                gap: '12px',\n                flexWrap: 'wrap'\n              }}>\n                {[\n                  { value: 'negative', label: 'Negative', icon: '😞', color: '#e53e3e' },\n                  { value: 'neutral', label: 'Neutral', icon: '😐', color: '#d69e2e' },\n                  { value: 'positive', label: 'Positive', icon: '😊', color: '#38a169' }\n                ].map(option => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => setSentiment(option.value)}\n                    style={{\n                      padding: '12px 20px',\n                      borderRadius: '12px',\n                      border: `2px solid ${sentiment === option.value ? option.color : '#e2e8f0'}`,\n                      background: sentiment === option.value ? `${option.color}15` : '#fff',\n                      color: sentiment === option.value ? option.color : '#4a5568',\n                      cursor: 'pointer',\n                      transition: 'all 0.3s ease',\n                      fontSize: '15px',\n                      fontWeight: '600',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '8px',\n                      minWidth: '120px',\n                      justifyContent: 'center'\n                    }}\n                    onMouseEnter={(e) => {\n                      if (sentiment !== option.value) {\n                        e.target.style.borderColor = option.color;\n                        e.target.style.transform = 'translateY(-2px)';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (sentiment !== option.value) {\n                        e.target.style.borderColor = '#e2e8f0';\n                        e.target.style.transform = 'translateY(0)';\n                      }\n                    }}\n                  >\n                    <span style={{ fontSize: '18px' }}>{option.icon}</span>\n                    {option.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <button \n              type=\"submit\" \n              disabled={loading}\n              style={{ \n                width: '100%',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                color: '#fff', \n                border: 'none', \n                borderRadius: '12px', \n                padding: '16px 32px', \n                fontWeight: '700', \n                fontSize: '18px', \n                cursor: 'pointer',\n                boxShadow: '0 4px 16px rgba(102, 126, 234, 0.3)',\n                transition: 'all 0.3s ease',\n                position: 'relative',\n                overflow: 'hidden'\n              }}\n              onMouseEnter={(e) => {\n                if (!loading) {\n                  e.target.style.transform = 'translateY(-2px)';\n                  e.target.style.boxShadow = '0 8px 24px rgba(102, 126, 234, 0.4)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!loading) {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = '0 4px 16px rgba(102, 126, 234, 0.3)';\n                }\n              }}\n            >\n              {loading ? (\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '12px' }}>\n                  <div style={{\n                    width: '20px',\n                    height: '20px',\n                    border: '2px solid rgba(255,255,255,0.3)',\n                    borderTop: '2px solid #fff',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }}></div>\n                  Generating Response...\n                </div>\n              ) : (\n                '💬 Generate Relationship Response'\n              )}\n            </button>\n          </form>\n\n          {/* Error Message */}\n          {error && (\n            <div style={{ \n              marginTop: '24px',\n              background: 'linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%)',\n              border: '1px solid #fc8181',\n              borderRadius: '12px', \n              padding: '16px', \n              color: '#c53030',\n              fontWeight: '600', \n              textAlign: 'center',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '8px'\n            }}>\n              <span style={{ fontSize: '20px' }}>⚠️</span>\n              {error}\n            </div>\n          )}\n\n          {/* Conversational Chat Response Section */}\n          {(response) && (\n            <div style={{ \n              marginTop: '32px',\n              background: 'linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%)',\n              borderRadius: '16px',\n              padding: '28px',\n              border: '1px solid #c6f6d5',\n              animation: 'slideInUp 0.5s ease-out'\n            }}>\n              {/* Chat Conversation */}\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n                {/* Customer Review Bubble */}\n                <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>\n                  <div style={{\n                    background: 'linear-gradient(135deg, #fbbf24 0%, #f59e42 100%)',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '18px',\n                    color: '#fff',\n                    border: '3px solid #fff',\n                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n                  }}>\n                    🧑\n                  </div>\n                  <div style={{ maxWidth: '80%' }}>\n                    <div style={{\n                      background: '#fff',\n                      borderRadius: '20px',\n                      padding: '16px',\n                      border: '1px solid #e2e8f0',\n                      marginBottom: '4px',\n                      fontSize: '15px',\n                      color: '#2d3748',\n                      lineHeight: '1.7',\n                      fontFamily: 'inherit',\n                      whiteSpace: 'pre-line'\n                    }}>\n                      {review}\n                    </div>\n                    <div style={{ fontSize: '11px', color: '#94a3b8', fontStyle: 'italic', textAlign: 'left' }}>\n                      Customer • {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </div>\n                  </div>\n                </div>\n                {/* Staff Reply Bubbles (single message) */}\n                <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px', flexDirection: 'row-reverse' }}>\n                  <div style={{\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '18px',\n                    color: '#fff',\n                    border: '3px solid #fff',\n                    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n                  }}>\n                    👨‍💼\n                  </div>\n                  <div style={{ maxWidth: '80%' }}>\n                    <div style={{\n                      background: '#e0e7ff',\n                      borderRadius: '20px',\n                      padding: '16px',\n                      border: '1px solid #c7d2fe',\n                      marginBottom: '4px',\n                      fontSize: '15px',\n                      color: '#2d3748',\n                      lineHeight: '1.7',\n                      fontFamily: 'inherit',\n                      whiteSpace: 'pre-line',\n                      textAlign: 'left'\n                    }}>\n                      {response}\n                    </div>\n                    <div style={{ fontSize: '11px', color: '#94a3b8', fontStyle: 'italic', textAlign: 'right' }}>\n                      {staffName || 'Relationship Agent'} • {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {/* Chat Status */}\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                marginBottom: '20px',\n                padding: '12px 16px',\n                background: 'rgba(79, 140, 255, 0.1)',\n                borderRadius: '12px',\n                border: '1px solid rgba(79, 140, 255, 0.2)'\n              }}>\n                <div style={{\n                  width: '8px',\n                  height: '8px',\n                  background: '#10b981',\n                  borderRadius: '50%',\n                  animation: 'pulse 2s infinite'\n                }}></div>\n                <span style={{\n                  fontSize: '13px',\n                  color: '#4f8cff',\n                  fontWeight: '500'\n                }}>\n                  {staffName ? `${staffName} is online and ready to help` : 'Customer Relationship Agent is online'}\n                </span>\n              </div>\n\n              <div style={{\n                display: 'flex',\n                gap: '12px',\n                justifyContent: 'center'\n              }}>\n                <button \n                  onClick={() => navigator.clipboard.writeText(response)}\n                  style={{\n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px 24px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.transform = 'translateY(-1px)';\n                    e.target.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.3)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.transform = 'translateY(0)';\n                    e.target.style.boxShadow = 'none';\n                  }}\n                >\n                  📋 Copy Response\n                </button>\n                <button \n                  onClick={() => {\n                    setReview('');\n                    setResponse('');\n                    setError('');\n                  }}\n                  style={{\n                    background: '#e2e8f0',\n                    color: '#4a5568',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '12px 24px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.background = '#cbd5e0';\n                    e.target.style.transform = 'translateY(-1px)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.background = '#e2e8f0';\n                    e.target.style.transform = 'translateY(0)';\n                  }}\n                >\n                  🔄 New Response\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes slideInUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      `}</style>\n    </div>\n  );\n} ","import React, { useState } from 'react';\nimport VoiceRecognition from '../components/VoiceRecognition';\nimport './VoiceTest.css';\n\nconst VoiceTest = () => {\n    const [testResults, setTestResults] = useState([]);\n    const [browserInfo, setBrowserInfo] = useState({});\n\n    React.useEffect(() => {\n        // Get browser information\n        const info = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            language: navigator.language,\n            cookieEnabled: navigator.cookieEnabled,\n            onLine: navigator.onLine,\n            speechRecognition: !!(window.SpeechRecognition || window.webkitSpeechRecognition),\n            mediaDevices: !!navigator.mediaDevices,\n            getUserMedia: !!navigator.mediaDevices?.getUserMedia,\n        };\n        setBrowserInfo(info);\n    }, []);\n\n    const addTestResult = (message, type = 'info') => {\n        const timestamp = new Date().toLocaleTimeString();\n        setTestResults(prev => [...prev, { message, type, timestamp }]);\n    };\n\n    const testMicrophone = async () => {\n        try {\n            addTestResult('Testing microphone access...', 'info');\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            addTestResult('✅ Microphone access granted!', 'success');\n            stream.getTracks().forEach(track => track.stop());\n        } catch (error) {\n            addTestResult(`❌ Microphone access failed: ${error.message}`, 'error');\n        }\n    };\n\n    const clearResults = () => {\n        setTestResults([]);\n    };\n\n    const handleVoiceTranscript = (transcript) => {\n        addTestResult(`🎤 Voice input: \"${transcript}\"`, 'success');\n    };\n\n    return (\n        <div className=\"voice-test\">\n            <div className=\"test-container\">\n                <h1>🎤 Voice Recognition Test</h1>\n                <p>Use this page to test and debug voice recognition issues</p>\n\n                <div className=\"test-sections\">\n                    <div className=\"test-section\">\n                        <h2>Browser Information</h2>\n                        <div className=\"browser-info\">\n                            {Object.entries(browserInfo).map(([key, value]) => (\n                                <div key={key} className=\"info-item\">\n                                    <strong>{key}:</strong> \n                                    <span className={value ? 'success' : 'error'}>\n                                        {typeof value === 'boolean' ? (value ? '✅ Yes' : '❌ No') : value}\n                                    </span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    <div className=\"test-section\">\n                        <h2>Microphone Test</h2>\n                        <button onClick={testMicrophone} className=\"test-btn\">\n                            🎤 Test Microphone Access\n                        </button>\n                    </div>\n\n                    <div className=\"test-section\">\n                        <h2>Voice Recognition Test</h2>\n                        <VoiceRecognition\n                            onTranscript={handleVoiceTranscript}\n                            placeholder=\"Speak something to test voice recognition...\"\n                        />\n                    </div>\n\n                    <div className=\"test-section\">\n                        <h2>Test Results</h2>\n                        <div className=\"test-controls\">\n                            <button onClick={clearResults} className=\"clear-btn\">\n                                🗑️ Clear Results\n                            </button>\n                        </div>\n                        <div className=\"test-results\">\n                            {testResults.length === 0 ? (\n                                <p className=\"no-results\">No test results yet. Try the tests above!</p>\n                            ) : (\n                                testResults.map((result, index) => (\n                                    <div key={index} className={`test-result ${result.type}`}>\n                                        <span className=\"timestamp\">[{result.timestamp}]</span>\n                                        <span className=\"message\">{result.message}</span>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"troubleshooting-tips\">\n                    <h2>🔧 Troubleshooting Tips</h2>\n                    <ul>\n                        <li><strong>Browser Support:</strong> Use Chrome, Edge, or Safari</li>\n                        <li><strong>HTTPS Required:</strong> Voice recognition needs secure connection</li>\n                        <li><strong>Microphone Permissions:</strong> Allow microphone access when prompted</li>\n                        <li><strong>Clear Speech:</strong> Speak clearly and at normal volume</li>\n                        <li><strong>Quiet Environment:</strong> Reduce background noise</li>\n                        <li><strong>Check Console:</strong> Press F12 to see detailed error messages</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default VoiceTest; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\n// SocialMediaPostOptions: Renders all option/selector UIs for SocialMediaPost\nconst SocialMediaPostOptions = ({\n  platforms, platform, setPlatform,\n  postTypes, postType, setPostType,\n  tones, tone, setTone,\n  audiences, targetAudience, setTargetAudience,\n  contentStructures, contentStructure, setContentStructure,\n  engagementGoals, engagementGoal, setEngagementGoal,\n  contentLengths, contentLength, setContentLength,\n  customLength, setCustomLength,\n  brandVoiceIntensities, brandVoiceIntensity, setBrandVoiceIntensity,\n  engagementUrgencies, engagementUrgency, setEngagementUrgency,\n  situations, situation, setSituation,\n  showAdvancedOptions, setShowAdvancedOptions\n}) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      {/* Platform Selection */}\n      <div className=\"section platform-section-mobile\">\n        <h2>📱 {t('socialMedia.platformSelection')}</h2>\n        <div className=\"platform-grid\">\n          {platforms.map(p => (\n            <button\n              key={p.value}\n              className={`platform-option ${platform === p.value ? 'active' : ''} ${p.priority ? 'priority' : ''}`}\n              onClick={() => setPlatform(p.value)}\n              tabIndex={0}\n            >\n              <span className=\"platform-icon\">{p.icon}</span>\n              <span className=\"platform-label\">{p.label}</span>\n              {p.priority && <span className=\"priority-badge\">{t('socialMedia.recommended')}</span>}\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Post Type */}\n      <div className=\"option-group\">\n        <label>{t('socialMedia.postType')}</label>\n        <div className=\"options-grid\">\n          {postTypes.map(type => (\n            <button\n              key={type.value}\n              className={`option-btn ${postType === type.value ? 'active' : ''}`}\n              onClick={() => setPostType(type.value)}\n            >\n              <span className=\"option-icon\">{type.icon}</span>\n              <span className=\"option-label\">{type.label}</span>\n              <span className=\"option-description\">{type.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Content Structure */}\n      <div className=\"option-group\">\n        <label>{t('socialMedia.contentStructure')}</label>\n        <div className=\"options-grid\">\n          {contentStructures.map(structure => (\n            <button\n              key={structure.value}\n              className={`option-btn ${contentStructure === structure.value ? 'active' : ''}`}\n              onClick={() => setContentStructure(structure.value)}\n            >\n              <span className=\"option-icon\">{structure.icon}</span>\n              <span className=\"option-label\">{structure.label}</span>\n              <span className=\"option-description\">{structure.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Engagement Goal */}\n      <div className=\"option-group\">\n        <label>{t('socialMedia.engagementGoal')}</label>\n        <div className=\"options-grid\">\n          {engagementGoals.map(goal => (\n            <button\n              key={goal.value}\n              className={`option-btn ${engagementGoal === goal.value ? 'active' : ''}`}\n              onClick={() => setEngagementGoal(goal.value)}\n            >\n              <span className=\"option-icon\">{goal.icon}</span>\n              <span className=\"option-label\">{goal.label}</span>\n              <span className=\"option-description\">{goal.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Dynamic Length Adjustment */}\n      <div className=\"option-group\">\n        <label>📏 {t('socialMedia.contentLengthOptimization')}</label>\n        <div className=\"options-grid\">\n          {contentLengths.map(length => (\n            <button\n              key={length.value}\n              className={`option-btn ${contentLength === length.value ? 'active' : ''}`}\n              onClick={() => setContentLength(length.value)}\n            >\n              <span className=\"option-icon\">{length.icon || '📏'}</span>\n              <span className=\"option-label\">{length.label}</span>\n              <span className=\"option-description\">{length.description}</span>\n            </button>\n          ))}\n        </div>\n        {/* Custom Length Input */}\n        {contentLength === 'custom' && (\n          <div className=\"custom-length-input\">\n            <label>{t('socialMedia.targetWords')}:</label>\n            <input\n              type=\"number\"\n              value={customLength}\n              onChange={e => setCustomLength(Math.max(20, parseInt(e.target.value) || 100))}\n              min=\"20\"\n              max=\"500\"\n            />\n            <span className=\"custom-length-target\">\n              {t('socialMedia.target')}: {customLength} {t('socialMedia.words')}\n            </span>\n          </div>\n        )}\n        \n        {/* Platform-Specific Optimization Tips */}\n        <div className=\"platform-optimization-tips\">\n          <h4>💡 {t('socialMedia.platformSpecificTips')}</h4>\n          {platform === 'facebook' && (\n            <div className=\"platform-tips facebook-tips\">\n              <h5>📘 {t('socialMedia.platformTips.facebook.title')}</h5>\n              <ul>\n                <li><strong>{t('socialMedia.platformTips.facebook.wordCounts.short')}:</strong> {t('socialMedia.platformTips.facebook.descriptions.short')}</li>\n                <li><strong>{t('socialMedia.platformTips.facebook.wordCounts.optimal')}:</strong> {t('socialMedia.platformTips.facebook.descriptions.optimal')}</li>\n                <li><strong>{t('socialMedia.platformTips.facebook.wordCounts.detailed')}:</strong> {t('socialMedia.platformTips.facebook.descriptions.detailed')}</li>\n                <li><strong>{t('socialMedia.platformTips.facebook.wordCounts.comprehensive')}:</strong> {t('socialMedia.platformTips.facebook.descriptions.comprehensive')}</li>\n                <li><strong>{t('socialMedia.platformTips.facebook.bestPractices')}:</strong> {t('socialMedia.platformTips.facebook.bestPracticesDescription')}</li>\n              </ul>\n              {/* Debug info */}\n              <div style={{fontSize: '12px', color: '#666', marginTop: '10px', padding: '10px', background: '#f5f5f5', borderRadius: '5px'}}>\n                Debug: {t('socialMedia.platformTips.facebook.wordCounts.short')}\n              </div>\n            </div>\n          )}\n          {platform === 'instagram' && (\n            <div className=\"platform-tips instagram-tips\">\n              <h5>📸 {t('socialMedia.platformTips.instagram.title')}</h5>\n              <ul>\n                <li><strong>{t('socialMedia.platformTips.instagram.wordCounts.short')}:</strong> {t('socialMedia.platformTips.instagram.descriptions.short')}</li>\n                <li><strong>{t('socialMedia.platformTips.instagram.wordCounts.optimal')}:</strong> {t('socialMedia.platformTips.instagram.descriptions.optimal')}</li>\n                <li><strong>{t('socialMedia.platformTips.instagram.wordCounts.detailed')}:</strong> {t('socialMedia.platformTips.instagram.descriptions.detailed')}</li>\n                <li><strong>{t('socialMedia.platformTips.instagram.wordCounts.comprehensive')}:</strong> {t('socialMedia.platformTips.instagram.descriptions.comprehensive')}</li>\n                <li><strong>{t('socialMedia.platformTips.instagram.bestPractices')}:</strong> {t('socialMedia.platformTips.instagram.bestPracticesDescription')}</li>\n              </ul>\n            </div>\n          )}\n          {platform === 'linkedin' && (\n            <div className=\"platform-tips linkedin-tips\">\n              <h5>💼 {t('socialMedia.platformTips.linkedin.title')}</h5>\n              <ul>\n                <li><strong>{t('socialMedia.platformTips.linkedin.wordCounts.short')}:</strong> {t('socialMedia.platformTips.linkedin.descriptions.short')}</li>\n                <li><strong>{t('socialMedia.platformTips.linkedin.wordCounts.optimal')}:</strong> {t('socialMedia.platformTips.linkedin.descriptions.optimal')}</li>\n                <li><strong>{t('socialMedia.platformTips.linkedin.wordCounts.detailed')}:</strong> {t('socialMedia.platformTips.linkedin.descriptions.detailed')}</li>\n                <li><strong>{t('socialMedia.platformTips.linkedin.wordCounts.comprehensive')}:</strong> {t('socialMedia.platformTips.linkedin.descriptions.comprehensive')}</li>\n                <li><strong>{t('socialMedia.platformTips.linkedin.bestPractices')}:</strong> {t('socialMedia.platformTips.linkedin.bestPracticesDescription')}</li>\n              </ul>\n            </div>\n          )}\n        </div>\n      </div>\n      {/* Brand Voice & Engagement */}\n      <div className=\"option-group\">\n        <label>🎭 {t('socialMedia.brandVoiceEngagement')}</label>\n        <div className=\"options-grid\">\n          {brandVoiceIntensities.map(voice => (\n            <button\n              key={voice.value}\n              className={`option-btn ${brandVoiceIntensity === voice.value ? 'active' : ''}`}\n              onClick={() => setBrandVoiceIntensity(voice.value)}\n            >\n              <span className=\"option-icon\">{voice.icon}</span>\n              <span className=\"option-label\">{voice.label}</span>\n              <span className=\"option-description\">{voice.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      <div className=\"option-group\">\n        <label>🔥 {t('socialMedia.engagementUrgency')}</label>\n        <div className=\"options-grid\">\n          {engagementUrgencies.map(urgency => (\n            <button\n              key={urgency.value}\n              className={`option-btn ${engagementUrgency === urgency.value ? 'active' : ''}`}\n              onClick={() => setEngagementUrgency(urgency.value)}\n            >\n              <span className=\"option-icon\">{urgency.value === 'immediate' ? '⚡️🚨' : urgency.value === 'high' ? '🔥⏰' : urgency.value === 'medium' ? '⏳📈' : '🕰️🌱'}</span>\n              <span className=\"option-label\">{urgency.label}</span>\n              <span className=\"option-description\">{urgency.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Situation Context */}\n      <div className=\"option-group\">\n        <label>🎯 {t('socialMedia.situationContext')}</label>\n        <div className=\"options-grid\">\n          {situations.map(situationItem => (\n            <button\n              key={situationItem.value}\n              className={`option-btn ${situation === situationItem.value ? 'active' : ''}`}\n              onClick={() => setSituation(situationItem.value)}\n            >\n              <span className=\"option-icon\">{situationItem.value === 'event' ? '🎉📅' : situationItem.value === 'announcement' ? '📢📰' : situationItem.value === 'promotion' ? '🏷️💸' : situationItem.value === 'holiday' ? '🎄🎆' : situationItem.value === 'trend' ? '📈🔥' : '💡🌟'}</span>\n              <span className=\"option-label\">{situationItem.label}</span>\n              <span className=\"option-description\">{situationItem.description}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n      {/* Advanced Options Toggle */}\n      <button\n        className=\"advanced-toggle\"\n        onClick={() => setShowAdvancedOptions(!showAdvancedOptions)}\n      >\n        {showAdvancedOptions ? '🔽' : '🔼'} {t('socialMedia.advancedOptions')}\n      </button>\n      {showAdvancedOptions && (\n        <div className=\"advanced-options\">\n          {/* Tone */}\n          <div className=\"option-group\">\n            <label>{t('socialMedia.tone')}</label>\n            <div className=\"options-grid\">\n              {tones.map(toneItem => (\n                <button\n                  key={toneItem.value}\n                  className={`option-btn ${tone === toneItem.value ? 'active' : ''}`}\n                  onClick={() => setTone(toneItem.value)}\n                >\n                  <span className=\"option-icon\">{toneItem.icon}</span>\n                  <span className=\"option-label\">{toneItem.label}</span>\n                  <span className=\"option-description\">{toneItem.description}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n          {/* Target Audience */}\n          <div className=\"option-group\">\n            <label>{t('socialMedia.targetAudience')}</label>\n            <div className=\"options-grid\">\n              {audiences.map(audience => (\n                <button\n                  key={audience.value}\n                  className={`option-btn ${targetAudience === audience.value ? 'active' : ''}`}\n                  onClick={() => setTargetAudience(audience.value)}\n                >\n                  <span className=\"option-icon\">{audience.icon}</span>\n                  <span className=\"option-label\">{audience.label}</span>\n                  <span className=\"option-description\">{audience.description}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SocialMediaPostOptions; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport formatInstagramContent from '../utils/formatInstagramContent';\nimport { getPostRecommendations } from '../services/llmService';\n\nconst SocialMediaPostResult = ({\n  enhancedContent,\n  reviewedContent,\n  isReviewing,\n  showOriginalContent,\n  setShowOriginalContent,\n  showComparison,\n  setShowComparison,\n  content,\n  platform,\n  postType,\n  tone,\n  targetAudience,\n  getPlatformIcon,\n  getToneIcon,\n  getAudienceIcon,\n  tones,\n  audiences,\n  platforms,\n  selectedPlatform,\n  isOverLimit,\n  qualityAnalysis,\n  copyToClipboard,\n  openPreviewWindow,\n  generationHistory,\n  setContent,\n  setEnhancedContent,\n  setPlatform,\n  setPostType,\n  setTone,\n  setTargetAudience,\n  setContentStructure,\n  setEngagementGoal,\n  setContentLength,\n  setBrandVoiceIntensity,\n  setEngagementUrgency,\n  setSituation,\n  postTypes,\n  brandVoiceIntensities,\n  engagementUrgencies,\n  situations,\n  modalPost,\n  setModalPost,\n  globalHistory,\n  isHistoryLoading,\n  historyError,\n  groupHistoryByPlatform\n}) => {\n  const { t } = useTranslation();\n  \n  const getQualityColor = (score) => {\n    if (score >= 0.8) return '#10b981';\n    if (score >= 0.6) return '#f59e0b';\n    return '#ef4444';\n  };\n\n  const getQualityLabel = (score) => {\n    if (score >= 0.8) return t('socialMedia.quality.excellent');\n    if (score >= 0.6) return t('socialMedia.quality.good');\n    if (score >= 0.4) return t('socialMedia.quality.fair');\n    return t('socialMedia.quality.poor');\n  };\n\n  // Demo quality analysis for testing (remove in production)\n  const demoQualityAnalysis = {\n    overallScore: 85,\n    metrics: {\n      coherence: 0.9,\n      relevance: 0.8,\n      completeness: 0.7,\n      clarity: 0.85,\n      engagement: 0.75,\n      structure: 0.8,\n      tone: 0.9,\n      length: 0.8\n    },\n    strengths: [\n      'Excellent logical flow and coherence',\n      'Highly relevant to the target audience',\n      'Clear and easy to understand'\n    ],\n    weaknesses: [\n      'Could include more engagement elements',\n      'Length could be optimized for platform'\n    ],\n    suggestions: [\n      'Add a compelling call-to-action to encourage interaction',\n      'Include relevant hashtags for better discoverability',\n      'Ask a question to encourage comments and engagement',\n      'Use more emotional language to connect with your audience'\n    ]\n  };\n\n  // Use demo analysis if no real analysis is provided (for demonstration)\n  const displayQualityAnalysis = qualityAnalysis || demoQualityAnalysis;\n\n  // LLM Recommendations state\n  const [recommendations, setRecommendations] = React.useState('');\n  const [recLoading, setRecLoading] = React.useState(false);\n  const [recError, setRecError] = React.useState('');\n\n  // Handler to fetch recommendations\n  const handleGetRecommendations = async () => {\n    setRecLoading(true);\n    setRecError('');\n    setRecommendations('');\n    try {\n      const recs = await getPostRecommendations(reviewedContent || enhancedContent, platform);\n      setRecommendations(recs);\n    } catch (err) {\n      setRecError(err.message || 'Failed to get recommendations');\n    }\n    setRecLoading(false);\n  };\n\n  // Helper: Platform-specific post HTML for popouts\n  function getPlatformPostHTML(item, t) {\n    const { platform, enhanced, postType, tone, targetAudience, timestamp } = item;\n    // Facebook\n    if (platform === 'facebook') {\n      return `\n        <div style=\"background:#f0f2f5;border-radius:12px;padding:20px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e4e6ea;margin-bottom:24px;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:linear-gradient(135deg,#1877f2 0%,#42a5f5 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;font-weight:600;box-shadow:0 2px 8px rgba(24,119,242,0.3);\">👤</div>\n            <div style=\"flex:1;\">\n              <div style=\"font-size:16px;font-weight:600;color:#050505;margin-bottom:2px;\">${t('socialMedia.yourPageName')}</div>\n              <div style=\"font-size:13px;color:#65676b;display:flex;align-items:center;gap:4px;\">\n                <span>${t('socialMedia.justNow')}</span><span>•</span><span>${tone}</span><span>•</span><span>🌍</span>\n              </div>\n            </div>\n            <div style=\"font-size:20px;color:#65676b;\">⋯</div>\n          </div>\n          <div style=\"font-size:15px;line-height:1.4;color:#050505;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;padding:12px;background:white;border-radius:8px;border:1px solid #e4e6ea;\">${item.enhanced}</div>\n          <div style=\"display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #e4e6ea;font-size:15px;color:#65676b;\">\n            <div style=\"display:flex;align-items:center;gap:16px;\">\n              <span>👍 ${t('socialMedia.like')}</span><span>💬 ${t('socialMedia.comment')}</span><span>🔄 ${t('socialMedia.share')}</span>\n            </div>\n            <div style=\"font-size:13px;color:#65676b;\">0 ${t('socialMedia.comments')} • 0 ${t('socialMedia.shares')}</div>\n          </div>\n        </div>\n      `;\n    }\n    // Instagram\n    if (platform === 'instagram') {\n      return `\n        <div style=\"background:#fff;border-radius:12px;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #dbdbdb;box-shadow:0 2px 8px rgba(0,0,0,0.1);max-width:400px;margin:0 auto 24px auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;padding:16px;border-bottom:1px solid #dbdbdb;\">\n            <div style=\"width:32px;height:32px;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:14px;\">📸</div>\n            <div style=\"flex:1;\"><div style=\"font-size:14px;font-weight:600;color:#262626;\">${t('socialMedia.yourUsername')}</div></div>\n            <div style=\"font-size:18px;color:#262626;\">⋯</div>\n          </div>\n          <div style=\"width:100%;height:300px;background:linear-gradient(135deg,#fdf2f8 0%,#fce7f3 100%);display:flex;align-items:center;justify-content:center;font-size:48px;color:#ec4899;border-bottom:1px solid #dbdbdb;\">📷</div>\n          <div style=\"display:flex;align-items:center;gap:16px;padding:12px 16px;border-bottom:1px solid #dbdbdb;\">\n            <span style=\"font-size:24px;\">❤️</span><span style=\"font-size:24px;\">💬</span><span style=\"font-size:24px;\">📤</span><span style=\"font-size:24px;margin-left:auto;\">🔖</span>\n          </div>\n          <div style=\"padding:12px 16px;font-size:14px;line-height:1.5;color:#262626;white-space:pre-wrap;word-wrap:break-word;\">\n            <div style=\"margin-bottom:8px;\"><span style=\"font-weight:600;color:#262626;\">${t('socialMedia.yourUsername')}</span><span style=\"margin-left:8px;\">${item.enhanced}</span></div>\n            <div style=\"color:#00376b;font-size:13px;margin-top:8px;line-height:1.4;\">#socialmedia #content #engagement #marketing #digital</div>\n            <div style=\"font-size:12px;color:#8e8e8e;margin-top:8px;\">${t('socialMedia.viewAllComments', { count: 0 })}</div>\n          </div>\n        </div>\n      `;\n    }\n    // LinkedIn\n    if (platform === 'linkedin') {\n      return `\n        <div style=\"background:#fff;border-radius:12px;padding:20px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #e0e0e0;margin-bottom:24px;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:#0077b5;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;\">💼</div>\n            <div><div style=\"font-size:16px;font-weight:600;color:#191919;margin-bottom:2px;\">${t('socialMedia.yourName')}</div><div style=\"font-size:14px;color:#666;margin-bottom:2px;\">${t('socialMedia.yourTitleAtCompany')}</div><div style=\"font-size:12px;color:#666;\">${t('socialMedia.now')} • ${tone}</div></div>\n          </div>\n          <div style=\"font-size:16px;line-height:1.5;color:#191919;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${item.enhanced}</div>\n          <div style=\"display:flex;align-items:center;gap:24px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:14px;color:#666;\">\n            <span>👍 Like</span><span>💬 Comment</span><span>🔄 Repost</span><span>📤 Send</span>\n          </div>\n        </div>\n      `;\n    }\n    // Twitter\n    if (platform === 'twitter') {\n      return `\n        <div style=\"background:#fff;border-radius:12px;padding:16px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #e1e8ed;margin-bottom:24px;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:#1da1f2;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;\">🐦</div>\n            <div><div style=\"font-size:15px;font-weight:700;color:#14171a;margin-bottom:2px;\">${t('socialMedia.yourName')}</div><div style=\"font-size:14px;color:#657786;display:flex;align-items:center;gap:4px;\"><span>@${t('socialMedia.yourHandle')}</span><span>•</span><span>${t('socialMedia.now')}</span></div></div>\n          </div>\n          <div style=\"font-size:15px;line-height:1.4;color:#14171a;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${item.enhanced}</div>\n          <div style=\"display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #e1e8ed;font-size:16px;color:#657786;\">\n            <span>💬 0</span><span>🔄 0</span><span>❤️ 0</span><span>📤</span>\n          </div>\n        </div>\n      `;\n    }\n    // TikTok\n    if (platform === 'tiktok') {\n      return `\n        <div style=\"background:#000;border-radius:12px;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white;position:relative;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,0.3);max-width:300px;margin:0 auto 24px auto;\">\n          <div style=\"width:100%;height:400px;background:linear-gradient(45deg,#ff0050,#00f2ea);display:flex;align-items:center;justify-content:center;font-size:64px;position:relative;\">\n            <div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;background:rgba(255,255,255,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px;color:#ff0050;\">▶️</div>\n          </div>\n          <div style=\"position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(0,0,0,0.8));padding:20px 16px 80px 16px;\">\n            <div style=\"font-size:16px;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;margin-bottom:12px;max-width:280px;\">${item.enhanced}</div>\n            <div style=\"font-size:14px;color:#00f2ea;margin-bottom:12px;\">#fyp #viral #trending #content #tiktok</div>\n          </div>\n          <div style=\"position:absolute;top:16px;left:16px;right:16px;display:flex;align-items:center;justify-content:space-between;\">\n            <div style=\"display:flex;align-items:center;gap:8px;\">\n              <div style=\"width:32px;height:32px;background:linear-gradient(45deg,#ff0050,#00f2ea);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;\">🎵</div>\n              <div><div style=\"font-size:14px;font-weight:600;margin-bottom:2px;\">@yourusername</div><div style=\"font-size:12px;color:#ccc;\">Original Sound</div></div>\n            </div>\n            <span style=\"font-size:20px;\">⋯</span>\n          </div>\n          <div style=\"position:absolute;right:16px;bottom:100px;display:flex;flex-direction:column;align-items:center;gap:16px;\">\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">❤️</span><div style=\"font-size:12px;margin-top:4px;\">0</div></div>\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">💬</span><div style=\"font-size:12px;margin-top:4px;\">0</div></div>\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">📤</span><div style=\"font-size:12px;margin-top:4px;\">Share</div></div>\n          </div>\n        </div>\n      `;\n    }\n    // YouTube\n    if (platform === 'youtube') {\n      return `\n        <div style=\"background:#fff;border-radius:12px;padding:16px;font-family:Roboto,Arial,sans-serif;border:1px solid #e5e5e5;margin-bottom:24px;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:40px;height:40px;background:#ff0000;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:18px;\">📺</div>\n            <div><div style=\"font-size:16px;font-weight:500;color:#030303;margin-bottom:2px;\">${t('socialMedia.yourChannelName')}</div><div style=\"font-size:14px;color:#606060;\">${new Date(timestamp).toLocaleDateString()} • ${tone}</div></div>\n          </div>\n          <div style=\"font-size:14px;line-height:1.4;color:#030303;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${item.enhanced}</div>\n          <div style=\"display:flex;align-items:center;gap:16px;padding-top:12px;border-top:1px solid #e5e5e5;font-size:14px;color:#606060;\">\n            <span>👍 0</span><span>👎 0</span><span>💬 0 comments</span><span>📤 Share</span>\n          </div>\n        </div>\n      `;\n    }\n    // Default fallback\n    return `<div style='padding:16px;border-radius:8px;background:#f8fafc;border:1px solid #e2e8f0;margin-bottom:24px;'>${item.enhanced}</div>`;\n  }\n\n  function openFullPostWindow(item) {\n    const win = window.open('', '_blank', 'width=700,height=900');\n    if (!win) return;\n    const html = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <title>${t('socialMedia.fullPostDetails')}</title>\n      <style>\n        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; margin: 0; padding: 0; }\n        .full-post-metadata { background: #fff; border-radius: 12px; padding: 24px; max-width: 600px; margin: 40px auto 0 auto; box-shadow: 0 8px 32px rgba(0,0,0,0.12); border: 1px solid #e2e8f0; }\n        h3 { font-size: 22px; font-weight: 700; color: #1e293b; margin-bottom: 16px; }\n        .meta { margin-bottom: 10px; color: #374151; font-size: 15px; }\n        .section-label { font-weight: 600; color: #64748b; margin-bottom: 4px; }\n        .content-box { background: #f8fafc; padding: 12px; border-radius: 6px; margin-top: 8px; font-size: 15px; line-height: 1.5; white-space: pre-wrap; }\n        .action-btn { background: #2563eb; color: #fff; border: none; border-radius: 6px; padding: 8px 16px; font-size: 14px; cursor: pointer; font-weight: 500; margin-right: 8px; }\n        .action-btn:hover { background: #1d4ed8; }\n        .platform-post-area { margin: 32px auto 0 auto; max-width: 600px; }\n      </style>\n    </head>\n    <body>\n      <div class=\"full-post-metadata\">\n        <h3>📄 ${t('socialMedia.fullPostDetails')}</h3>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.platform')}:</span> ${item.platform}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.type')}:</span> ${item.postType}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.created')}:</span> ${new Date(item.timestamp).toLocaleString()}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.tone')}:</span> ${item.tone}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.audience')}:</span> ${item.targetAudience}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.length')}:</span> ${item.length || t('socialMedia.result.notAvailable')} ${t('socialMedia.words')}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.brandVoice')}:</span> ${item.brandVoiceIntensity || t('socialMedia.result.notAvailable')}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.engagementUrgency')}:</span> ${item.engagementUrgency || t('socialMedia.result.notAvailable')}</div>\n        <div class=\"meta\"><span class=\"section-label\">${t('socialMedia.result.situation')}:</span> ${item.situation || t('socialMedia.result.notAvailable')}</div>\n        <div style=\"margin-bottom: 16px;\"><span class=\"section-label\">${t('socialMedia.result.originalContent')}:</span><div class=\"content-box\"><pre style='margin:0;font-family:inherit;font-size:15px;line-height:1.5;white-space:pre-wrap;'>${item.original.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</pre></div></div>\n      </div>\n      <div class=\"platform-post-area\">\n        ${getPlatformPostHTML(item, (x) => x)}\n      </div>\n      <div class=\"full-post-metadata\" style=\"margin-top: 0;\">\n        <div style=\"margin-bottom: 16px;\"><span class=\"section-label\">${t('socialMedia.result.enhancedContent')}:</span><div class=\"content-box\">${item.enhanced}</div></div>\n        <div style=\"display: flex; gap: 8px; justify-content: flex-end; margin-top: 16px;\">\n          <button class=\"action-btn\" onclick=\"navigator.clipboard.writeText(\\`${item.enhanced.replace(/`/g, '\\`')}\\`);alert('${t('socialMedia.result.copied')}')\">📋 ${t('socialMedia.result.copyEnhanced')}</button>\n        </div>\n      </div>\n    </body>\n    </html>\n    `;\n    win.document.write(html);\n    win.document.close();\n  }\n\n  return (\n    <div>\n      {/* Enhanced Content/Result Section */}\n      {enhancedContent && (\n        <div\n          className=\"section result-section mobile-result-section\"\n          style={{\n            position: 'relative',\n            maxWidth: 600,\n            margin: '0 auto',\n            background: '#fff',\n            borderRadius: 16,\n            boxShadow: '0 4px 24px rgba(0,0,0,0.08)',\n            border: '1px solid #e2e8f0',\n            padding: '20px 12px',\n            marginBottom: 32,\n            transition: 'all 0.2s',\n            width: '100%',\n          }}\n        >\n          <h2 style={{ fontSize: 20, fontWeight: 700, color: '#2563eb', marginBottom: 12, textAlign: 'center', letterSpacing: 0.5 }}>\n            ✨ {t('socialMedia.enhancedPost')}\n          </h2>\n          \n          {/* Platform-Specific Post Preview */}\n          <div\n            className=\"platform-preview-container\"\n            style={{\n              background: '#f8fafc',\n              borderRadius: 12,\n              padding: '16px 8px',\n              marginBottom: 20,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.04)',\n            border: '1px solid #e2e8f0',\n            position: 'relative',\n              overflow: 'hidden',\n              width: '100%',\n            }}\n          >\n            {/* Platform Badge */}\n            <div\n              style={{\n              position: 'absolute',\n                top: 10,\n                right: 10,\n              background: 'linear-gradient(135deg, #4f8cff 0%, #38e8ff 100%)',\n              color: 'white',\n                padding: '4px 10px',\n                borderRadius: 14,\n                fontSize: 11,\n                fontWeight: 600,\n              display: 'flex',\n              alignItems: 'center',\n                gap: 4,\n                zIndex: 10,\n                boxShadow: '0 2px 8px rgba(79,140,255,0.10)',\n              }}\n            >\n              <span>{getPlatformIcon(platform)}</span>\n              <span>{selectedPlatform?.label}</span>\n            </div>\n\n            {/* Platform-Specific Preview */}\n            {platform === 'facebook' && (\n              <div className=\"facebook-preview\" style={{\n                background: '#f0f2f5',\n                borderRadius: '12px',\n                padding: '20px',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n                position: 'relative',\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',\n                border: '1px solid #e4e6ea'\n              }}>\n                {/* Facebook Header */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  marginBottom: '16px'\n                }}>\n                  <div style={{\n                    width: '48px',\n                    height: '48px',\n                    background: 'linear-gradient(135deg, #1877f2 0%, #42a5f5 100%)',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '20px',\n                    fontWeight: '600',\n                    boxShadow: '0 2px 8px rgba(24, 119, 242, 0.3)'\n                  }}>\n                    👤\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontSize: '16px',\n                      fontWeight: '600',\n                      color: '#050505',\n                      marginBottom: '2px'\n                    }}>\n                      {t('socialMedia.yourPageName')}\n                    </div>\n                    <div style={{\n                      fontSize: '13px',\n                      color: '#65676b',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '4px'\n                    }}>\n                      <span>{t('socialMedia.justNow')}</span>\n                      <span>•</span>\n                      <span>{getToneIcon(tone)} {tones.find(t => t.value === tone)?.label}</span>\n                      <span>•</span>\n                      <span>🌍</span>\n                    </div>\n                  </div>\n                  <div style={{\n                    fontSize: '20px',\n                    color: '#65676b',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '50%',\n                    transition: 'background-color 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.backgroundColor = '#e4e6ea'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                    ⋯\n                  </div>\n                </div>\n\n                {/* Facebook Content */}\n                <div style={{\n                  fontSize: '15px',\n                  lineHeight: '1.4',\n                  color: '#050505',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word',\n                  marginBottom: '16px',\n                  padding: '12px',\n                  background: 'white',\n                  borderRadius: '8px',\n                  border: '1px solid #e4e6ea'\n                }}>\n                  {reviewedContent || enhancedContent}\n                </div>\n\n                {/* Facebook Actions */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  paddingTop: '12px',\n                  borderTop: '1px solid #e4e6ea',\n                  fontSize: '15px',\n                  color: '#65676b'\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n                    <button style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      background: 'none',\n                      border: 'none',\n                      color: '#65676b',\n                      cursor: 'pointer',\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      transition: 'background-color 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.backgroundColor = '#e4e6ea'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                      👍 {t('socialMedia.like')}\n                    </button>\n                    <button style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      background: 'none',\n                      border: 'none',\n                      color: '#65676b',\n                      cursor: 'pointer',\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      transition: 'background-color 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.backgroundColor = '#e4e6ea'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                      💬 {t('socialMedia.comment')}\n                    </button>\n                    <button style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      background: 'none',\n                      border: 'none',\n                      color: '#65676b',\n                      cursor: 'pointer',\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      transition: 'background-color 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.backgroundColor = '#e4e6ea'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                      🔄 {t('socialMedia.share')}\n                    </button>\n                  </div>\n                  <div style={{ fontSize: '13px', color: '#65676b' }}>\n                    0 {t('socialMedia.comments')} • 0 {t('socialMedia.shares')}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {platform === 'instagram' && (\n              <div className=\"instagram-preview\" style={{\n                background: '#ffffff',\n                borderRadius: '12px',\n                padding: '0',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n                border: '1px solid #dbdbdb',\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',\n                maxWidth: '400px',\n                margin: '0 auto'\n              }}>\n                {/* Instagram Header */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  padding: '16px',\n                  borderBottom: '1px solid #dbdbdb'\n                }}>\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    background: 'linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%)',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '14px'\n                  }}>\n                    📸\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <div style={{\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      color: '#262626'\n                    }}>\n                      {t('socialMedia.yourUsername')}\n                    </div>\n                  </div>\n                  <div style={{\n                    fontSize: '18px',\n                    color: '#262626',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '50%',\n                    transition: 'background-color 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.backgroundColor = '#f8f9fa'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                    ⋯\n                  </div>\n                </div>\n\n                {/* Instagram Image Placeholder */}\n                <div style={{\n                  width: '100%',\n                  height: '300px',\n                  background: 'linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '48px',\n                  color: '#ec4899',\n                  borderBottom: '1px solid #dbdbdb'\n                }}>\n                  📷\n                </div>\n\n                {/* Instagram Actions */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '16px',\n                  padding: '12px 16px',\n                  borderBottom: '1px solid #dbdbdb'\n                }}>\n                  <button style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '4px',\n                    transition: 'transform 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                    ❤️\n                  </button>\n                  <button style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '4px',\n                    transition: 'transform 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                    💬\n                  </button>\n                  <button style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '4px',\n                    transition: 'transform 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                    📤\n                  </button>\n                  <button style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '4px',\n                    transition: 'transform 0.2s',\n                    marginLeft: 'auto'\n                  }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                    🔖\n                  </button>\n                </div>\n\n                {/* Instagram Content */}\n                <div style={{\n                  padding: '12px 16px',\n                  fontSize: '14px',\n                  lineHeight: '1.5',\n                  color: '#262626',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word'\n                }}>\n                  <div style={{ marginBottom: '8px' }}>\n                    <span style={{ fontWeight: '600', color: '#262626' }}>{t('socialMedia.yourUsername')}</span>\n                    <span style={{ marginLeft: '8px' }}>{reviewedContent || enhancedContent}</span>\n                  </div>\n                  \n                  {/* Instagram Hashtags */}\n                  <div style={{\n                    color: '#00376b',\n                    fontSize: '13px',\n                    marginTop: '8px',\n                    lineHeight: '1.4'\n                  }}>\n                    #socialmedia #content #engagement #marketing #digital\n                  </div>\n                  \n                  <div style={{\n                    fontSize: '12px',\n                    color: '#8e8e8e',\n                    marginTop: '8px'\n                  }}>\n                    {t('socialMedia.viewAllComments', { count: 0 })}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {platform === 'twitter' && (\n              <div className=\"twitter-preview\" style={{\n                background: '#ffffff',\n                borderRadius: '12px',\n                padding: '16px',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n                border: '1px solid #e1e8ed'\n              }}>\n                {/* Twitter Header */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  marginBottom: '16px'\n                }}>\n                  <div style={{\n                    width: '48px',\n                    height: '48px',\n                    background: '#1da1f2',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '20px'\n                  }}>\n                    🐦\n                  </div>\n                  <div>\n                    <div style={{\n                      fontSize: '15px',\n                      fontWeight: '700',\n                      color: '#14171a',\n                      marginBottom: '2px'\n                    }}>\n                      {t('socialMedia.yourName')}\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#657786',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '4px'\n                    }}>\n                      <span>@{t('socialMedia.yourHandle')}</span>\n                      <span>•</span>\n                      <span>{t('socialMedia.now')}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Twitter Content */}\n                <div style={{\n                  fontSize: '15px',\n                  lineHeight: '1.4',\n                  color: '#14171a',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word',\n                  marginBottom: '16px'\n                }}>\n                  {reviewedContent || enhancedContent}\n                </div>\n\n                {/* Twitter Actions */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  paddingTop: '12px',\n                  borderTop: '1px solid #e1e8ed',\n                  fontSize: '16px',\n                  color: '#657786'\n                }}>\n                  <span>💬 0</span>\n                  <span>🔄 0</span>\n                  <span>❤️ 0</span>\n                  <span>📤</span>\n                </div>\n              </div>\n            )}\n\n            {platform === 'linkedin' && (\n              <div className=\"linkedin-preview\" style={{\n                background: '#ffffff',\n                borderRadius: '12px',\n                padding: '20px',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n                border: '1px solid #e0e0e0'\n              }}>\n                {/* LinkedIn Header */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  marginBottom: '16px'\n                }}>\n                  <div style={{\n                    width: '48px',\n                    height: '48px',\n                    background: '#0077b5',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '20px'\n                  }}>\n                    💼\n                  </div>\n                  <div>\n                    <div style={{\n                      fontSize: '16px',\n                      fontWeight: '600',\n                      color: '#191919',\n                      marginBottom: '2px'\n                    }}>\n                      Your Name\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#666666',\n                      marginBottom: '2px'\n                    }}>\n                      Your Title at Company\n                    </div>\n                    <div style={{\n                      fontSize: '12px',\n                      color: '#666666'\n                    }}>\n                      now • {getToneIcon(tone)} {tones.find(t => t.value === tone)?.label}\n                    </div>\n                  </div>\n                </div>\n\n                {/* LinkedIn Content */}\n                <div style={{\n                  fontSize: '16px',\n                  lineHeight: '1.5',\n                  color: '#191919',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word',\n                  marginBottom: '16px'\n                }}>\n                  {reviewedContent || enhancedContent}\n                </div>\n\n                {/* LinkedIn Actions */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '24px',\n                  paddingTop: '16px',\n                  borderTop: '1px solid #e0e0e0',\n                  fontSize: '14px',\n                  color: '#666666'\n                }}>\n                  <span>👍 Like</span>\n                  <span>💬 Comment</span>\n                  <span>🔄 Repost</span>\n                  <span>📤 Send</span>\n                </div>\n              </div>\n            )}\n\n            {platform === 'tiktok' && (\n              <div className=\"tiktok-preview\" style={{\n                background: '#000000',\n                borderRadius: '12px',\n                padding: '0',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n                color: 'white',\n                position: 'relative',\n                overflow: 'hidden',\n                boxShadow: '0 4px 16px rgba(0, 0, 0, 0.3)',\n                maxWidth: '300px',\n                margin: '0 auto'\n              }}>\n                {/* TikTok Video Placeholder */}\n                <div style={{\n                  width: '100%',\n                  height: '400px',\n                  background: 'linear-gradient(45deg, #ff0050, #00f2ea)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '64px',\n                  position: 'relative'\n                }}>\n                  <div style={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    width: '80px',\n                    height: '80px',\n                    background: 'rgba(255, 255, 255, 0.9)',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '32px',\n                    color: '#ff0050'\n                  }}>\n                    ▶️\n                  </div>\n                </div>\n\n                {/* TikTok Content Overlay */}\n                <div style={{\n                  position: 'absolute',\n                  bottom: '0',\n                  left: '0',\n                  right: '0',\n                  background: 'linear-gradient(transparent, rgba(0, 0, 0, 0.8))',\n                  padding: '20px 16px',\n                  paddingBottom: '80px'\n                }}>\n                  <div style={{\n                    fontSize: '16px',\n                    lineHeight: '1.4',\n                    whiteSpace: 'pre-wrap',\n                    wordWrap: 'break-word',\n                    marginBottom: '12px',\n                    maxWidth: '280px'\n                  }}>\n                    {reviewedContent || enhancedContent}\n                  </div>\n                  \n                  {/* TikTok Hashtags */}\n                  <div style={{\n                    fontSize: '14px',\n                    color: '#00f2ea',\n                    marginBottom: '12px'\n                  }}>\n                    #fyp #viral #trending #content #tiktok\n                  </div>\n                </div>\n\n                {/* TikTok Header */}\n                <div style={{\n                  position: 'absolute',\n                  top: '16px',\n                  left: '16px',\n                  right: '16px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <div style={{\n                      width: '32px',\n                      height: '32px',\n                      background: 'linear-gradient(45deg, #ff0050, #00f2ea)',\n                      borderRadius: '50%',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '14px'\n                    }}>\n                      🎵\n                    </div>\n                    <div>\n                      <div style={{\n                        fontSize: '14px',\n                        fontWeight: '600',\n                        marginBottom: '2px'\n                      }}>\n                        @yourusername\n                      </div>\n                      <div style={{\n                        fontSize: '12px',\n                        color: '#cccccc'\n                      }}>\n                        Original Sound\n                      </div>\n                    </div>\n                  </div>\n                  <button style={{\n                    background: 'none',\n                    border: 'none',\n                    color: 'white',\n                    fontSize: '20px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '50%',\n                    transition: 'background-color 0.2s'\n                  }} onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(255, 255, 255, 0.1)'} onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}>\n                    ⋯\n                  </button>\n                </div>\n\n                {/* TikTok Side Actions */}\n                <div style={{\n                  position: 'absolute',\n                  right: '16px',\n                  bottom: '100px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  gap: '16px'\n                }}>\n                  <div style={{ textAlign: 'center' }}>\n                    <button style={{\n                      background: 'none',\n                      border: 'none',\n                      fontSize: '32px',\n                      cursor: 'pointer',\n                      padding: '4px',\n                      borderRadius: '50%',\n                      transition: 'transform 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                      ❤️\n                    </button>\n                    <div style={{ fontSize: '12px', marginTop: '4px' }}>0</div>\n                  </div>\n                  <div style={{ textAlign: 'center' }}>\n                    <button style={{\n                      background: 'none',\n                      border: 'none',\n                      fontSize: '32px',\n                      cursor: 'pointer',\n                      padding: '4px',\n                      borderRadius: '50%',\n                      transition: 'transform 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                      💬\n                    </button>\n                    <div style={{ fontSize: '12px', marginTop: '4px' }}>0</div>\n                  </div>\n                  <div style={{ textAlign: 'center' }}>\n                    <button style={{\n                      background: 'none',\n                      border: 'none',\n                      fontSize: '32px',\n                      cursor: 'pointer',\n                      padding: '4px',\n                      borderRadius: '50%',\n                      transition: 'transform 0.2s'\n                    }} onMouseEnter={(e) => e.target.style.transform = 'scale(1.1)'} onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}>\n                      📤\n                    </button>\n                    <div style={{ fontSize: '12px', marginTop: '4px' }}>Share</div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {platform === 'youtube' && (\n              <div className=\"youtube-preview\" style={{\n                background: '#ffffff',\n                borderRadius: '12px',\n                padding: '16px',\n                fontFamily: 'Roboto, Arial, sans-serif',\n                border: '1px solid #e5e5e5'\n              }}>\n                {/* YouTube Header */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  marginBottom: '16px'\n                }}>\n                  <div style={{\n                    width: '40px',\n                    height: '40px',\n                    background: '#ff0000',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '18px'\n                  }}>\n                    📺\n                  </div>\n                  <div>\n                    <div style={{\n                      fontSize: '16px',\n                      fontWeight: '500',\n                      color: '#030303',\n                      marginBottom: '2px'\n                    }}>\n                      Your Channel Name\n                    </div>\n                    <div style={{\n                      fontSize: '14px',\n                      color: '#606060'\n                    }}>\n                      {new Date(timestamp).toLocaleDateString()} • {getToneIcon(tone)} {tones.find(t => t.value === tone)?.label}\n                    </div>\n                  </div>\n                </div>\n\n                {/* YouTube Content */}\n                <div style={{\n                  fontSize: '14px',\n                  lineHeight: '1.4',\n                  color: '#030303',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word',\n                  marginBottom: '16px'\n                }}>\n                  {reviewedContent || enhancedContent}\n                </div>\n\n                {/* YouTube Actions */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '16px',\n                  paddingTop: '12px',\n                  borderTop: '1px solid #e5e5e5',\n                  fontSize: '14px',\n                  color: '#606060'\n                }}>\n                  <span>👍 0</span>\n                  <span>👎 0</span>\n                  <span>💬 0 comments</span>\n                  <span>📤 Share</span>\n                </div>\n                  </div>\n                )}\n              </div>\n              \n          {/* Post Statistics (mobile-friendly) */}\n          <div\n                      style={{\n                        display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n                        alignItems: 'center',\n              margin: '12px 0',\n              padding: '10px 0',\n              borderTop: '1px solid #e2e8f0',\n              borderBottom: '1px solid #e2e8f0',\n              fontSize: 13,\n              color: '#64748b',\n              gap: 8,\n            }}\n          >\n            <div style={{ display: 'flex', gap: 12 }}>\n              <span>📊 {(reviewedContent || enhancedContent).length} {t('socialMedia.characters')}</span>\n              <span>📝 {(reviewedContent || enhancedContent).split(' ').length} {t('socialMedia.words')}</span>\n                </div>\n            {isOverLimit && (\n              <span style={{ color: '#ef4444', fontWeight: 600, fontSize: 12 }}>⚠️ Over limit</span>\n            )}\n              </div>\n\n          {/* Quality Score Display */}\n          {displayQualityAnalysis && (\n            <div style={{\n              background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n              borderRadius: 12,\n              padding: 16,\n              margin: '16px 0',\n              border: '1px solid #e2e8f0',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.04)'\n            }}>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                marginBottom: 12\n              }}>\n                <h3 style={{\n                  fontSize: 16,\n                  fontWeight: 700,\n                  color: '#1e293b',\n                  margin: 0,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8\n                }}>\n                  📊 {t('socialMedia.qualityAnalysis')}\n                </h3>\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                  padding: '6px 12px',\n                  borderRadius: 20,\n                  background: 'white',\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                }}>\n                  <span style={{\n                    fontSize: 14,\n                    fontWeight: 600,\n                    color: getQualityColor(displayQualityAnalysis.overallScore / 100)\n                  }}>\n                    {getQualityLabel(displayQualityAnalysis.overallScore / 100)}\n                  </span>\n                  <span style={{\n                    fontSize: 18,\n                    fontWeight: 800,\n                    color: getQualityColor(displayQualityAnalysis.overallScore / 100)\n                  }}>\n                    {displayQualityAnalysis.overallScore}\n                  </span>\n                </div>\n              </div>\n\n              {/* Quality Metrics Grid */}\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n                gap: 8,\n                marginBottom: 16\n              }}>\n                {Object.entries(displayQualityAnalysis.metrics || {}).map(([metric, score]) => (\n                  <div key={metric} style={{\n                    background: 'white',\n                    padding: 8,\n                    borderRadius: 8,\n                    border: '1px solid #e2e8f0',\n                    textAlign: 'center'\n                  }}>\n                    <div style={{\n                      fontSize: 11,\n                      fontWeight: 600,\n                      color: '#64748b',\n                      marginBottom: 4,\n                      textTransform: 'capitalize'\n                    }}>\n                      {metric.replace(/([A-Z])/g, ' $1').trim()}\n                    </div>\n                    <div style={{\n                      fontSize: 16,\n                      fontWeight: 700,\n                      color: getQualityColor(score)\n                    }}>\n                      {(score * 100).toFixed(0)}%\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Strengths and Weaknesses */}\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 12\n              }}>\n                {displayQualityAnalysis.strengths && displayQualityAnalysis.strengths.length > 0 && (\n                  <div>\n                    <h4 style={{\n                      fontSize: 14,\n                      fontWeight: 600,\n                      color: '#059669',\n                      margin: '0 0 8px 0',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 6\n                    }}>\n                      ✅ {t('socialMedia.strengths')}\n                    </h4>\n                    <ul style={{\n                      margin: 0,\n                      paddingLeft: 20,\n                      fontSize: 13,\n                      color: '#374151',\n                      lineHeight: 1.4\n                    }}>\n                      {displayQualityAnalysis.strengths.slice(0, 3).map((strength, index) => (\n                        <li key={index}>{strength}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {displayQualityAnalysis.weaknesses && displayQualityAnalysis.weaknesses.length > 0 && (\n                  <div>\n                    <h4 style={{\n                      fontSize: 14,\n                      fontWeight: 600,\n                      color: '#dc2626',\n                      margin: '0 0 8px 0',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 6\n                    }}>\n                      ⚠️ {t('socialMedia.areasForImprovement')}\n                    </h4>\n                    <ul style={{\n                      margin: 0,\n                      paddingLeft: 20,\n                      fontSize: 13,\n                      color: '#374151',\n                      lineHeight: 1.4\n                    }}>\n                      {displayQualityAnalysis.weaknesses.slice(0, 3).map((weakness, index) => (\n                        <li key={index}>{weakness}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n\n              {/* Recommendations */}\n              {displayQualityAnalysis.suggestions && displayQualityAnalysis.suggestions.length > 0 && (\n                <div style={{\n                  marginTop: 16,\n                  padding: 12,\n                  background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n                  borderRadius: 8,\n                  border: '1px solid #bfdbfe'\n                }}>\n                  <h4 style={{\n                    fontSize: 14,\n                    fontWeight: 600,\n                    color: '#1e40af',\n                    margin: '0 0 8px 0',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 6\n                  }}>\n                    💡 {t('socialMedia.recommendations')}\n                  </h4>\n                  <ul style={{\n                    margin: 0,\n                    paddingLeft: 20,\n                    fontSize: 13,\n                    color: '#1e293b',\n                    lineHeight: 1.5\n                  }}>\n                    {displayQualityAnalysis.suggestions.slice(0, 4).map((suggestion, index) => (\n                      <li key={index} style={{ marginBottom: 4 }}>{suggestion}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Platform-Specific Tips */}\n              <div style={{\n                marginTop: 12,\n                padding: 10,\n                background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n                borderRadius: 8,\n                border: '1px solid #f59e0b'\n              }}>\n                <h4 style={{\n                  fontSize: 13,\n                  fontWeight: 600,\n                  color: '#92400e',\n                  margin: '0 0 6px 0',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 6\n                }}>\n                  🎯 {t('socialMedia.platformTips')}\n                </h4>\n                <div style={{\n                  fontSize: 12,\n                  color: '#92400e',\n                  lineHeight: 1.4\n                }}>\n                  {platform === 'instagram' && 'Use relevant hashtags and emojis for better discoverability. Share personal stories to build authentic connections.'}\n                  {platform === 'facebook' && 'Focus on community engagement. Ask questions to encourage comments and discussions.'}\n                  {platform === 'twitter' && 'Keep your message concise and use trending hashtags to join relevant conversations.'}\n                  {platform === 'linkedin' && 'Share professional insights and use industry-specific hashtags for better visibility.'}\n                  {platform === 'tiktok' && 'Use trending hashtags and sounds. Keep your caption short and engaging.'}\n                  {platform === 'youtube' && 'Include timestamps for longer videos and add relevant links in your description.'}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* LLM Recommendations Button & Display */}\n          <div style={{ margin: '24px 0 0 0', textAlign: 'center' }}>\n            <button\n              onClick={handleGetRecommendations}\n              disabled={recLoading}\n              style={{\n                background: 'linear-gradient(135deg, #6366f1 0%, #06b6d4 100%)',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 8,\n                padding: '12px 28px',\n                fontWeight: 700,\n                fontSize: 16,\n                cursor: recLoading ? 'not-allowed' : 'pointer',\n                boxShadow: '0 2px 8px rgba(99,102,241,0.10)',\n                marginBottom: 12\n              }}\n            >\n              {recLoading ? 'Getting Recommendations...' : '💡 Get LLM Recommendations'}\n            </button>\n            {recError && (\n              <div style={{ color: '#dc2626', marginTop: 8, fontWeight: 500 }}>{recError}</div>\n            )}\n            {recommendations && (\n              <div style={{\n                background: 'linear-gradient(135deg, #f0fdfa 0%, #e0f2fe 100%)',\n                border: '1px solid #bae6fd',\n                borderRadius: 10,\n                padding: 18,\n                marginTop: 16,\n                color: '#0369a1',\n                fontSize: 15,\n                textAlign: 'left',\n                whiteSpace: 'pre-line',\n                fontFamily: 'inherit',\n                boxShadow: '0 2px 8px rgba(14,165,233,0.06)'\n              }}>\n                <strong>🔍 {t('socialMedia.llmRecommendations') || 'LLM Recommendations'}:</strong>\n                <div style={{ marginTop: 8 }}>{recommendations}</div>\n              </div>\n            )}\n          </div>\n\n          {/* Quick Actions (mobile-friendly) */}\n          <div\n                  style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 10,\n              margin: '16px 0',\n                    width: '100%',\n            }}\n          >\n                <button\n                  onClick={() => copyToClipboard(reviewedContent || enhancedContent)}\n                  style={{\n                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                    color: 'white',\n                    border: 'none',\n                borderRadius: 8,\n                padding: '12px 0',\n                fontSize: 16,\n                fontWeight: 600,\n                    cursor: 'pointer',\n                width: '100%',\n                boxShadow: '0 2px 8px rgba(16,185,129,0.10)',\n                  }}\n                >\n                  📋 {t('socialMedia.copy')}\n                </button>\n                <button\n                  onClick={() => openPreviewWindow(\n                    reviewedContent || enhancedContent,\n                    platform,\n                    postType,\n                    tone,\n                    targetAudience\n                  )}\n                  style={{\n                    background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                    color: 'white',\n                    border: 'none',\n                borderRadius: 8,\n                padding: '12px 0',\n                fontSize: 16,\n                fontWeight: 600,\n                    cursor: 'pointer',\n                width: '100%',\n                boxShadow: '0 2px 8px rgba(245,158,11,0.10)',\n                  }}\n                >\n                  👁️ {t('socialMedia.preview')}\n                </button>\n                <button\n                  onClick={() => {\n                  const postData = {\n                    content: reviewedContent || enhancedContent,\n                    platform,\n                    postType,\n                    tone,\n                    targetAudience,\n                    timestamp: new Date().toISOString()\n                  };\n                  const blob = new Blob([JSON.stringify(postData, null, 2)], { type: 'application/json' });\n                  const url = URL.createObjectURL(blob);\n                  const a = document.createElement('a');\n                  a.href = url;\n                  a.download = `${platform}-post-${new Date().toISOString().split('T')[0]}.json`;\n                  a.click();\n                  URL.revokeObjectURL(url);\n                }}\n                style={{\n                background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n                  color: 'white',\n                  border: 'none',\n                borderRadius: 8,\n                padding: '12px 0',\n                fontSize: 16,\n                fontWeight: 600,\n                  cursor: 'pointer',\n                width: '100%',\n                boxShadow: '0 2px 8px rgba(139,92,246,0.10)',\n                }}\n              >\n                💾 {t('socialMedia.savePost')}\n              </button>\n          </div>\n\n          {/* Quick Content Editor (mobile-friendly) */}\n          <div style={{ margin: '16px 0' }}>\n            <label style={{ display: 'block', marginBottom: 6, fontSize: 14, fontWeight: 600, color: '#374151' }}>\n              {t('socialMedia.quickEditContent')}:\n            </label>\n            <textarea\n              value={reviewedContent || enhancedContent}\n              onChange={(e) => setEnhancedContent(e.target.value)}\n                  style={{\n                width: '100%',\n                minHeight: 80,\n                padding: 10,\n                borderRadius: 8,\n                    border: '1px solid #d1d5db',\n                fontSize: 14,\n                lineHeight: 1.5,\n                resize: 'vertical',\n                fontFamily: 'inherit',\n                marginBottom: 4,\n              }}\n              placeholder={t('socialMedia.editContentPlaceholder')}\n            />\n            <div style={{ fontSize: 12, color: '#6b7280', marginTop: 2, textAlign: 'right' }}>\n              {(reviewedContent || enhancedContent).length} {t('socialMedia.characters')} / {(reviewedContent || enhancedContent).split(' ').length} {t('socialMedia.words')}\n            </div>\n          </div>\n\n          {/* Comparison Section (mobile-friendly) */}\n          <div style={{ margin: '16px 0' }}>\n              <button\n                onClick={() => setShowOriginalContent(!showOriginalContent)}\n                style={{\n                  background: showOriginalContent ? '#2563eb' : '#f3f4f6',\n                  color: showOriginalContent ? 'white' : '#374151',\n                  border: '1px solid #d1d5db',\n                borderRadius: 6,\n                padding: '8px 0',\n                fontSize: 14,\n                fontWeight: 500,\n                width: '100%',\n                marginBottom: 8,\n                  cursor: 'pointer',\n                }}\n              >\n                📝 {showOriginalContent ? t('socialMedia.hide') : t('socialMedia.show')} {t('socialMedia.original')}\n              </button>\n              <button\n                onClick={() => setShowComparison(!showComparison)}\n                style={{\n                  background: showComparison ? '#2563eb' : '#f3f4f6',\n                  color: showComparison ? 'white' : '#374151',\n                  border: '1px solid #d1d5db',\n                borderRadius: 6,\n                padding: '8px 0',\n                fontSize: 14,\n                fontWeight: 500,\n                width: '100%',\n                  cursor: 'pointer',\n                }}\n              >\n                ⚖️ {showComparison ? t('socialMedia.hide') : t('socialMedia.show')} {t('socialMedia.comparison')}\n              </button>\n            {showOriginalContent && (\n              <div style={{\n                background: '#fef3c7',\n                border: '1px solid #f59e0b',\n                borderRadius: 8,\n                padding: 12,\n                marginTop: 8,\n                fontSize: 14,\n                color: '#92400e',\n                whiteSpace: 'pre-wrap',\n              }}>\n                <strong>📝 {t('socialMedia.originalContent')}</strong>\n                <div>{content}</div>\n              </div>\n            )}\n            {showComparison && (\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 8,\n                background: '#f8fafc',\n                borderRadius: 8,\n                padding: 12,\n                border: '1px solid #e2e8f0',\n                marginTop: 8,\n              }}>\n                <div>\n                  <strong>📝 {t('socialMedia.original')}</strong>\n                  <div style={{\n                    background: 'white',\n                    padding: 8,\n                    borderRadius: 6,\n                    fontSize: 13,\n                    color: '#374151',\n                    whiteSpace: 'pre-wrap',\n                  }}>{content}</div>\n                </div>\n                <div>\n                  <strong>✨ {t('socialMedia.enhanced')}</strong>\n                  <div style={{\n                    background: 'white',\n                    padding: 8,\n                    borderRadius: 6,\n                    fontSize: 13,\n                    color: '#374151',\n                    whiteSpace: 'pre-wrap',\n                  }}>{reviewedContent || enhancedContent}</div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Loading indicator for review (mobile-friendly) */}\n          {isReviewing && (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: 10,\n              padding: 12,\n              background: '#f0f9ff',\n              borderRadius: 8,\n              border: '1px solid #0ea5e9',\n              marginBottom: 8,\n              fontSize: 14,\n              color: '#0c4a6e',\n              fontWeight: 500,\n            }}>\n              <div className=\"loading-spinner\" style={{\n                width: 18,\n                height: 18,\n                border: '2px solid #e0e7ff',\n                borderTop: '2px solid #3b82f6',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite',\n              }}></div>\n                                  🔍 {t('socialMedia.reviewingContent')}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* History Section */}\n      {/* The history section is now only rendered on the history page. */}\n    </div>\n  );\n};\n\nexport default SocialMediaPostResult; ","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport './SocialMediaIntegration.css';\nimport { getApiUrl } from '../config/api';\n\nconst SocialMediaIntegration = ({ \n  content, \n  platform, \n  onPublishSuccess, \n  onPublishError,\n  isConnected = false,\n  onConnectAccount \n}) => {\n  const { t } = useTranslation();\n  const [connectedAccounts, setConnectedAccounts] = useState({});\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [publishStatus, setPublishStatus] = useState(null);\n  const [showConnectModal, setShowConnectModal] = useState(false);\n\n  // Platform configurations\n  const platforms = {\n    facebook: {\n      name: 'Facebook',\n      icon: '📘',\n      color: '#1877f2',\n      authUrl: '/api/auth/facebook',\n      scope: 'public_profile,email'\n    },\n    instagram: {\n      name: 'Instagram',\n      icon: '📸',\n      color: '#e4405f',\n      authUrl: '/api/auth/instagram',\n      scope: 'instagram_basic,instagram_content_publish'\n    },\n    twitter: {\n      name: 'Twitter',\n      icon: '🐦',\n      color: '#1da1f2',\n      authUrl: '/api/auth/twitter',\n      scope: 'tweet.read,tweet.write'\n    },\n    linkedin: {\n      name: 'LinkedIn',\n      icon: '💼',\n      color: '#0077b5',\n      authUrl: '/api/auth/linkedin',\n      scope: 'w_member_social'\n    }\n  };\n\n  useEffect(() => {\n    fetchConnectedAccounts();\n  }, []);\n\n  const fetchConnectedAccounts = async () => {\n    try {\n      const response = await fetch(getApiUrl('/auth/accounts'), { credentials: 'include' });\n      if (response.ok) {\n        const accounts = await response.json();\n        setConnectedAccounts(accounts);\n      }\n    } catch (error) {\n      console.error('Error fetching connected accounts:', error);\n    }\n  };\n\n  const connectAccount = async (platformKey) => {\n    const platform = platforms[platformKey];\n    if (!platform) return;\n\n    try {\n      const authUrl = getApiUrl(`/auth/${platformKey}`);\n      console.log(`🔗 Opening OAuth popup for ${platformKey}:`, authUrl);\n      console.log(`📍 Current window location:`, window.location.href);\n      console.log(`🌐 Popup will open to:`, authUrl);\n      \n      // Open OAuth popup - use the auth URL directly without query parameters\n      const popup = window.open(\n        authUrl,\n        'social-auth',\n        'width=600,height=600,scrollbars=yes,resizable=yes'\n      );\n\n      if (!popup) {\n        console.error('❌ Popup blocked by browser. Please allow popups for this site.');\n        alert('Popup blocked! Please allow popups for this site and try again.');\n        return;\n      }\n\n      console.log(`✅ Popup opened successfully for ${platformKey}`);\n      console.log(`🔍 Popup location:`, popup.location.href);\n\n      // Listen for OAuth completion\n      const checkClosed = setInterval(() => {\n        if (popup.closed) {\n          clearInterval(checkClosed);\n          console.log(`✅ OAuth popup closed for ${platformKey}, refreshing accounts...`);\n          fetchConnectedAccounts(); // Refresh accounts\n        }\n      }, 1000);\n\n    } catch (error) {\n      console.error('Error connecting account:', error);\n    }\n  };\n\n  const disconnectAccount = async (platformKey) => {\n    try {\n      const response = await fetch(getApiUrl(`/auth/disconnect/${platformKey}`), {\n        method: 'DELETE',\n        credentials: 'include'\n      });\n\n      if (response.ok) {\n        setConnectedAccounts(prev => ({\n          ...prev,\n          [platformKey]: null\n        }));\n      }\n    } catch (error) {\n      console.error('Error disconnecting account:', error);\n    }\n  };\n\n  const publishContent = async (platformKey) => {\n    if (!content || !connectedAccounts[platformKey]) {\n      setPublishStatus({ type: 'error', message: 'No content or account connected' });\n      return;\n    }\n\n    setIsPublishing(true);\n    setPublishStatus(null);\n\n    try {\n      const response = await fetch(getApiUrl('/social/publish'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include', // Ensure cookies/session are sent\n        body: JSON.stringify({\n          platform: platformKey,\n          content: content,\n          accountId: connectedAccounts[platformKey].id\n        })\n      });\n\n      if (response.status === 401) {\n        setPublishStatus({\n          type: 'error',\n          message: 'You must be logged in to publish. Please log in and try again.'\n        });\n        onPublishError && onPublishError(platformKey, 'Authentication required');\n        setIsPublishing(false);\n        window.location.replace('/login');\n        return;\n      }\n\n      const result = await response.json();\n\n      if (response.ok) {\n        setPublishStatus({ \n          type: 'success', \n          message: `Successfully published to ${platforms[platformKey].name}!`,\n          postId: result.postId\n        });\n        onPublishSuccess && onPublishSuccess(platformKey, result);\n      } else {\n        setPublishStatus({ \n          type: 'error', \n          message: result.error || 'Failed to publish content' \n        });\n        onPublishError && onPublishError(platformKey, result.error);\n      }\n    } catch (error) {\n      setPublishStatus({ \n        type: 'error', \n        message: 'Network error while publishing' \n      });\n      onPublishError && onPublishError(platformKey, error.message);\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n\n  const getAccountStatus = (platformKey) => {\n    const account = connectedAccounts[platformKey];\n    if (!account) return 'disconnected';\n    if (account.expiresAt && new Date(account.expiresAt) < new Date()) {\n      return 'expired';\n    }\n    return 'connected';\n  };\n\n  return (\n    <div className=\"social-integration\">\n      <div className=\"integration-header\">\n        <h3 className=\"integration-title\">\n          <span className=\"integration-icon\">🔗</span>\n          {t('socialMedia.integration.title')}\n        </h3>\n        <p className=\"integration-subtitle\">\n          {t('socialMedia.integration.subtitle')}\n        </p>\n      </div>\n\n      <div className=\"accounts-grid\">\n        {Object.entries(platforms).map(([platformKey, platformConfig]) => {\n          const status = getAccountStatus(platformKey);\n          const account = connectedAccounts[platformKey];\n\n          return (\n            <div key={platformKey} className={`account-card ${status}`}>\n              <div className=\"account-header\">\n                <div className=\"platform-info\">\n                  <span className=\"platform-icon\" style={{ color: platformConfig.color }}>\n                    {platformConfig.icon}\n                  </span>\n                  <div className=\"platform-details\">\n                    <h4 className=\"platform-name\">{platformConfig.name}</h4>\n                    <span className={`status-badge ${status}`}>\n                      {status === 'connected' && '✅ Connected'}\n                      {status === 'expired' && '⚠️ Expired'}\n                      {status === 'disconnected' && '❌ Not Connected'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {account && (\n                <div className=\"account-details\">\n                  <div className=\"account-info\">\n                    <span className=\"account-name\">{account.name}</span>\n                    {account.username && (\n                      <span className=\"account-username\">@{account.username}</span>\n                    )}\n                  </div>\n                  {account.profileImage && (\n                    <img \n                      src={account.profileImage} \n                      alt=\"Profile\" \n                      className=\"account-avatar\"\n                    />\n                  )}\n                </div>\n              )}\n\n              <div className=\"account-actions\">\n                {status === 'disconnected' && (\n                  <button\n                    onClick={() => connectAccount(platformKey)}\n                    className=\"connect-btn\"\n                    style={{ backgroundColor: platformConfig.color }}\n                  >\n                    <span className=\"btn-icon\">🔗</span>\n                    {t('socialMedia.integration.connect')}\n                  </button>\n                )}\n\n                {status === 'expired' && (\n                  <button\n                    onClick={() => connectAccount(platformKey)}\n                    className=\"reconnect-btn\"\n                    style={{ backgroundColor: platformConfig.color }}\n                  >\n                    <span className=\"btn-icon\">🔄</span>\n                    {t('socialMedia.integration.reconnect')}\n                  </button>\n                )}\n\n                {status === 'connected' && (\n                  <>\n                    <button\n                      onClick={() => publishContent(platformKey)}\n                      disabled={isPublishing || !content}\n                      className=\"publish-btn\"\n                      style={{ backgroundColor: platformConfig.color }}\n                    >\n                      <span className=\"btn-icon\">\n                        {isPublishing ? '⏳' : '📤'}\n                      </span>\n                      {isPublishing \n                        ? t('socialMedia.integration.publishing') \n                        : t('socialMedia.integration.publish')\n                      }\n                    </button>\n                    <button\n                      onClick={() => disconnectAccount(platformKey)}\n                      className=\"disconnect-btn\"\n                    >\n                      <span className=\"btn-icon\">❌</span>\n                      {t('socialMedia.integration.disconnect')}\n                    </button>\n                  </>\n                )}\n              </div>\n\n              {/* Publish Status */}\n              {publishStatus && publishStatus.type === 'success' && (\n                <div className=\"publish-status success\">\n                  <span className=\"status-icon\">✅</span>\n                  <span className=\"status-message\">{publishStatus.message}</span>\n                  {publishStatus.postId && (\n                    <a \n                      href={getApiUrl(`/social/post/${publishStatus.postId}`)}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"view-post-link\"\n                    >\n                      {t('socialMedia.integration.viewPost')}\n                    </a>\n                  )}\n                </div>\n              )}\n\n              {publishStatus && publishStatus.type === 'error' && (\n                <div className=\"publish-status error\">\n                  <span className=\"status-icon\">❌</span>\n                  <span className=\"status-message\">{publishStatus.message}</span>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Quick Publish Section */}\n      {content && Object.keys(connectedAccounts).some(key => getAccountStatus(key) === 'connected') && (\n        <div className=\"quick-publish-section\">\n          <h4 className=\"quick-publish-title\">\n            <span className=\"title-icon\">🚀</span>\n            {t('socialMedia.integration.quickPublish')}\n          </h4>\n          <div className=\"quick-publish-grid\">\n            {Object.entries(platforms).map(([platformKey, platformConfig]) => {\n              const status = getAccountStatus(platformKey);\n              if (status !== 'connected') return null;\n\n              return (\n                <button\n                  key={platformKey}\n                  onClick={() => publishContent(platformKey)}\n                  disabled={isPublishing}\n                  className=\"quick-publish-btn\"\n                  style={{ \n                    backgroundColor: platformConfig.color,\n                    opacity: isPublishing ? 0.6 : 1\n                  }}\n                >\n                  <span className=\"platform-icon\">{platformConfig.icon}</span>\n                  <span className=\"platform-name\">{platformConfig.name}</span>\n                  {isPublishing && <span className=\"loading-spinner\"></span>}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Integration Tips */}\n      <div className=\"integration-tips\">\n        <h4 className=\"tips-title\">\n          <span className=\"tips-icon\">💡</span>\n          {t('socialMedia.integration.tips.title')}\n        </h4>\n        <ul className=\"tips-list\">\n          <li>{t('socialMedia.integration.tips.oauth')}</li>\n          <li>{t('socialMedia.integration.tips.permissions')}</li>\n          <li>{t('socialMedia.integration.tips.security')}</li>\n          <li>{t('socialMedia.integration.tips.refresh')}</li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default SocialMediaIntegration; ","import React from 'react';\n\nconst FacebookIcon = ({ size = 32, style = {} }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 32 32\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={style}\n  >\n    <rect x=\"0\" y=\"0\" width=\"32\" height=\"32\" rx=\"6\" fill=\"#1877F3\" />\n    <path\n      d=\"M21.333 16.001h-3.111v8h-3.555v-8h-1.778v-3.111h1.778v-1.778c0-2.133 1.067-3.555 3.555-3.555h2.222v3.111h-1.333c-.711 0-.889.267-.889.889v1.333h2.222l-.444 3.111z\"\n      fill=\"#fff\"\n    />\n  </svg>\n);\n\nexport default FacebookIcon; ","import React, { useState, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport FacebookIcon from './FacebookIcon';\nimport SocialMediaIntegration from './SocialMediaIntegration';\nimport './SocialMediaPostWizard.css';\n\nconst SocialMediaPostWizard = ({\n  platform, setPlatform,\n  postType, setPostType,\n  tone, setTone,\n  targetAudience, setTargetAudience,\n  contentStructure, setContentStructure,\n  content, setContent,\n  enhancedContent, setEnhancedContent,\n  onSubmit,\n  isGenerating,\n  isReviewing,\n  reviewedContent,\n  setReviewedContent,\n  generateContent,\n  copyToClipboard,\n  openPreviewWindow\n}) => {\n  const { t, i18n } = useTranslation();\n  \n  // Define getSteps function inside component so it can access the current translation function\n  const getSteps = (t) => [\n    {\n      title: t('socialMedia.wizard.steps.step1.title'),\n      emoji: '📱',\n      guidance: t('socialMedia.wizard.steps.step1.guidance'),\n      tips: t('socialMedia.wizard.steps.step1.tips', { returnObjects: true })\n    },\n    {\n      title: t('socialMedia.wizard.steps.step2.title'),\n      emoji: '🎭',\n      guidance: t('socialMedia.wizard.steps.step2.guidance'),\n      tips: t('socialMedia.wizard.steps.step2.tips', { returnObjects: true })\n    },\n    {\n      title: t('socialMedia.wizard.steps.step3.title'),\n      emoji: '✍️',\n      guidance: t('socialMedia.wizard.steps.step3.guidance'),\n      tips: t('socialMedia.wizard.steps.step3.tips', { returnObjects: true })\n    },\n    {\n      title: t('socialMedia.wizard.steps.step4.title'),\n      emoji: '🔍',\n      guidance: t('socialMedia.wizard.steps.step4.guidance'),\n      tips: t('socialMedia.wizard.steps.step4.tips', { returnObjects: true })\n    },\n    {\n      title: t('socialMedia.wizard.steps.step5.title'),\n      emoji: '👁️',\n      guidance: t('socialMedia.wizard.steps.step5.guidance'),\n      tips: t('socialMedia.wizard.steps.step5.tips', { returnObjects: true })\n    },\n  ];\n  \n  // Recreate steps when language changes\n  const steps = useMemo(() => getSteps(t), [t, i18n.language]);\n  const [step, setStep] = useState(0);\n  const [isEnhancing, setIsEnhancing] = useState(false);\n  const [enhancementError, setEnhancementError] = useState('');\n\n  const nextStep = async () => {\n    // Special handling for step 3 (Review & Enhance)\n    if (step === 2 && content.trim()) {\n      // Move to step 3 and trigger enhancement\n      setStep(3);\n      await enhanceContent();\n    } else if (step === 3 && enhancedContent.trim()) {\n      // Move to step 4 (Preview & Save)\n      setStep(4);\n    } else {\n      setStep((s) => Math.min(s + 1, steps.length - 1));\n    }\n  };\n\n  const prevStep = () => setStep((s) => Math.max(s - 1, 0));\n\n  // Function to enhance content using the existing generateContent function\n  const enhanceContent = async () => {\n    if (!content.trim()) {\n      setEnhancementError(t('socialMedia.wizard.messages.pleaseEnterContent'));\n      return;\n    }\n\n    setIsEnhancing(true);\n    setEnhancementError('');\n\n    try {\n      // Call the generateContent function from parent\n      await generateContent();\n    } catch (error) {\n      setEnhancementError(t('socialMedia.wizard.messages.enhancementError'));\n      console.error(t('socialMedia.wizard.messages.enhancementError'), error);\n    } finally {\n      setIsEnhancing(false);\n    }\n  };\n\n  // Auto-enhance when reaching step 3\n  useEffect(() => {\n    if (step === 3 && content.trim() && !enhancedContent.trim()) {\n      enhanceContent();\n    }\n  }, [step]);\n\n  const getPlatformTips = () => {\n    const platformTips = {\n      facebook: [\n        <span key=\"fb-tip-1\"><FacebookIcon size={24} style={{verticalAlign:'middle', marginRight: '8px'}} /> {t('socialMedia.platformTips.facebook.bestPostingTimes')}</span>,\n        <span key=\"fb-tip-2\">💬 {t('socialMedia.platformTips.facebook.askQuestions')}</span>,\n        <span key=\"fb-tip-3\">📸 {t('socialMedia.platformTips.facebook.includeImages')}</span>,\n        <span key=\"fb-tip-4\">🎉 {t('socialMedia.platformTips.facebook.useFacebookLive')}</span>,\n        <span key=\"fb-tip-5\">📅 {t('socialMedia.platformTips.facebook.postConsistently')}</span>\n      ],\n      instagram: [\n        <span key=\"ig-tip-1\">📸 {t('socialMedia.platformTips.instagram.useHighQuality')}</span>,\n        <span key=\"ig-tip-2\">🏷️ {t('socialMedia.platformTips.instagram.addHashtags')}</span>,\n        <span key=\"ig-tip-3\">💬 {t('socialMedia.platformTips.instagram.useEmojis')}</span>,\n        <span key=\"ig-tip-4\">📱 {t('socialMedia.platformTips.instagram.peakHours')}</span>,\n        <span key=\"ig-tip-5\">🎬 {t('socialMedia.platformTips.instagram.tryReels')}</span>\n      ],\n      linkedin: [\n        <span key=\"li-tip-1\">💼 {t('socialMedia.platformTips.linkedin.keepProfessional')}</span>,\n        <span key=\"li-tip-2\">📊 {t('socialMedia.platformTips.linkedin.shareInsights')}</span>,\n        <span key=\"li-tip-3\">🤝 {t('socialMedia.platformTips.linkedin.network')}</span>,\n        <span key=\"li-tip-4\">📅 {t('socialMedia.platformTips.linkedin.businessHours')}</span>,\n        <span key=\"li-tip-5\">📈 {t('socialMedia.platformTips.linkedin.thoughtLeadership')}</span>\n      ],\n      twitter: [\n        <span key=\"tw-tip-1\">🐦 {t('socialMedia.platformTips.twitter.keepConcise')}</span>,\n        <span key=\"tw-tip-2\">🔥 {t('socialMedia.platformTips.twitter.jumpOnTrends')}</span>,\n        <span key=\"tw-tip-3\">💬 {t('socialMedia.platformTips.twitter.useHashtags')}</span>,\n        <span key=\"tw-tip-4\">📱 {t('socialMedia.platformTips.twitter.postFrequently')}</span>,\n        <span key=\"tw-tip-5\">🎯 {t('socialMedia.platformTips.twitter.engageWithAudience')}</span>\n      ],\n      tiktok: [\n        <span key=\"tt-tip-1\">🎵 {t('socialMedia.platformTips.tiktok.useTrendingSounds')}</span>,\n        <span key=\"tt-tip-2\">🎬 {t('socialMedia.platformTips.tiktok.keepVideosShort')}</span>,\n        <span key=\"tt-tip-3\">🔥 {t('socialMedia.platformTips.tiktok.jumpOnTrends')}</span>,\n        <span key=\"tt-tip-4\">📱 {t('socialMedia.platformTips.tiktok.postConsistently')}</span>,\n        <span key=\"tt-tip-5\">💬 {t('socialMedia.platformTips.tiktok.engageWithComments')}</span>\n      ],\n      youtube: [\n        <span key=\"yt-tip-1\">📺 {t('socialMedia.platformTips.youtube.createDetailed')}</span>,\n        <span key=\"yt-tip-2\">🎬 {t('socialMedia.platformTips.youtube.useEngagingThumbnails')}</span>,\n        <span key=\"yt-tip-3\">📝 {t('socialMedia.platformTips.youtube.writeDescriptions')}</span>,\n        <span key=\"yt-tip-4\">⏰ {t('socialMedia.platformTips.youtube.postConsistently')}</span>,\n        <span key=\"yt-tip-5\">💬 {t('socialMedia.platformTips.youtube.respondToComments')}</span>\n      ]\n    };\n    return platformTips[platform] || [];\n  };\n\n  // Handle final submit (step 5)\n  const handleFinalSubmit = () => {\n    if (onSubmit) {\n      onSubmit();\n    }\n  };\n\n  return (\n    <div className=\"wizard-container\">\n      {/* Header */}\n      <div className=\"wizard-header\">\n        <h1 className=\"wizard-title\">\n          <span className=\"wizard-icon\">✨</span>\n          {t('socialMedia.wizards.title')}\n        </h1>\n        <p className=\"wizard-subtitle\">\n          {t('socialMedia.wizards.subtitle')}\n        </p>\n      </div>\n\n      {/* Progress Indicator */}\n      <div className=\"progress-container\">\n        <div className=\"progress-bar\">\n          <div \n            className=\"progress-fill\" \n            style={{ width: `${((step + 1) / steps.length) * 100}%` }}\n          ></div>\n        </div>\n        <div className=\"progress-steps\">\n          {steps.map((s, i) => (\n            <div \n              key={i} \n              className={`progress-step ${i <= step ? 'active' : ''} ${i === step ? 'current' : ''}`}\n            >\n              <div className=\"step-number\">{i + 1}</div>\n              <div className=\"step-info\">\n                <div className=\"step-emoji\">{s.emoji}</div>\n                <div className=\"step-title\">{s.title}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"wizard-layout\">\n        {/* Sidebar for tips/help */}\n        <aside className=\"wizard-sidebar\">\n          {step === 0 && platform && (\n            <div className=\"tips-card platform-tips\">\n              <div className=\"tips-header\">\n                <span className=\"tips-icon\">💡</span>\n                <h3 className=\"tips-title\">{t(`socialMedia.platformTips.${platform}.title`)}</h3>\n              </div>\n              <ul className=\"tips-list\">\n                {getPlatformTips().map((tip, index) => (\n                  <li key={`platform-${index}`} className=\"tip-item\">{tip}</li>\n                ))}\n              </ul>\n\n            </div>\n          )}\n          {step !== 0 && (\n            <div className=\"tips-card general-tips\">\n              <div className=\"tips-header\">\n                <span className=\"tips-icon\">💡</span>\n                <h3 className=\"tips-title\">{t('socialMedia.helpfulTips')}</h3>\n              </div>\n              <ul className=\"tips-list\">\n                {steps[step].tips.map((tip, index) => (\n                  <li key={index} className=\"tip-item\">{tip}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </aside>\n        {/* Main form content */}\n        <main className=\"wizard-main-content\">\n          <div className=\"step-content\">\n            {step === 0 && (\n              <div className=\"form-section\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">📱</span>\n                    {t('socialMedia.wizard.labels.choosePlatform')}\n                  </label>\n                  <div className=\"select-wrapper\">\n                    <select \n                      value={platform} \n                      onChange={e => setPlatform(e.target.value)}\n                      className=\"form-select\"\n                    >\n                      <option value=\"facebook\">{t('socialMedia.wizard.platformOptions.facebook')}</option>\n                      <option value=\"instagram\">{t('socialMedia.wizard.platformOptions.instagram')}</option>\n                      <option value=\"linkedin\">{t('socialMedia.wizard.platformOptions.linkedin')}</option>\n                      <option value=\"twitter\">{t('socialMedia.wizard.platformOptions.twitter')}</option>\n                      <option value=\"tiktok\">{t('socialMedia.wizard.platformOptions.tiktok')}</option>\n                      <option value=\"youtube\">{t('socialMedia.wizard.platformOptions.youtube')}</option>\n                    </select>\n                    <span className=\"select-arrow\">▼</span>\n                  </div>\n                </div>\n                \n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">📝</span>\n                    {t('socialMedia.wizard.labels.choosePostType')}\n                  </label>\n                  <div className=\"select-wrapper\">\n                    <select \n                      value={postType} \n                      onChange={e => setPostType(e.target.value)}\n                      className=\"form-select\"\n                    >\n                      <option value=\"general\">{t('socialMedia.wizard.postTypeOptions.general')}</option>\n                      <option value=\"story\">{t('socialMedia.wizard.postTypeOptions.story')}</option>\n                      <option value=\"promotional\">{t('socialMedia.wizard.postTypeOptions.promotional')}</option>\n                      <option value=\"educational\">{t('socialMedia.wizard.postTypeOptions.educational')}</option>\n                      <option value=\"community\">{t('socialMedia.wizard.postTypeOptions.community')}</option>\n                      <option value=\"inspirational\">{t('socialMedia.wizard.postTypeOptions.inspirational')}</option>\n                      <option value=\"question\">{t('socialMedia.wizard.postTypeOptions.question')}</option>\n                      <option value=\"announcement\">{t('socialMedia.wizard.postTypeOptions.announcement')}</option>\n                    </select>\n                    <span className=\"select-arrow\">▼</span>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {step === 1 && (\n              <div className=\"form-section\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">🎭</span>\n                    {t('socialMedia.wizard.labels.chooseTone')}\n                  </label>\n                  <div className=\"select-wrapper\">\n                    <select \n                      value={tone} \n                      onChange={e => setTone(e.target.value)}\n                      className=\"form-select\"\n                    >\n                      <option value=\"engaging\">{t('socialMedia.wizard.toneOptions.engaging')}</option>\n                      <option value=\"professional\">{t('socialMedia.wizard.toneOptions.professional')}</option>\n                      <option value=\"casual\">{t('socialMedia.wizard.toneOptions.casual')}</option>\n                      <option value=\"humorous\">{t('socialMedia.wizard.toneOptions.humorous')}</option>\n                      <option value=\"inspirational\">{t('socialMedia.wizard.toneOptions.inspirational')}</option>\n                      <option value=\"educational\">{t('socialMedia.wizard.toneOptions.educational')}</option>\n                      <option value=\"empathetic\">{t('socialMedia.wizard.toneOptions.empathetic')}</option>\n                      <option value=\"authoritative\">{t('socialMedia.wizard.toneOptions.authoritative')}</option>\n                    </select>\n                    <span className=\"select-arrow\">▼</span>\n                  </div>\n                </div>\n                \n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">👥</span>\n                    {t('socialMedia.wizard.labels.targetAudience')}\n                  </label>\n                  <div className=\"select-wrapper\">\n                    <select \n                      value={targetAudience} \n                      onChange={e => setTargetAudience(e.target.value)}\n                      className=\"form-select\"\n                    >\n                      <option value=\"general\">{t('socialMedia.wizard.audienceOptions.general')}</option>\n                      <option value=\"business\">{t('socialMedia.wizard.audienceOptions.business')}</option>\n                      <option value=\"youth\">{t('socialMedia.wizard.audienceOptions.youth')}</option>\n                      <option value=\"parents\">{t('socialMedia.wizard.audienceOptions.parents')}</option>\n                      <option value=\"professionals\">{t('socialMedia.wizard.audienceOptions.professionals')}</option>\n                      <option value=\"creatives\">{t('socialMedia.wizard.audienceOptions.creatives')}</option>\n                      <option value=\"seniors\">{t('socialMedia.wizard.audienceOptions.seniors')}</option>\n                      <option value=\"local\">{t('socialMedia.wizard.audienceOptions.local')}</option>\n                    </select>\n                    <span className=\"select-arrow\">▼</span>\n                  </div>\n                </div>\n                \n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">📋</span>\n                    {t('socialMedia.wizard.labels.contentStructure')}\n                  </label>\n                  <div className=\"select-wrapper\">\n                    <select \n                      value={contentStructure} \n                      onChange={e => setContentStructure(e.target.value)}\n                      className=\"form-select\"\n                    >\n                      <option value=\"story\">{t('socialMedia.wizard.structureOptions.story')}</option>\n                      <option value=\"list\">{t('socialMedia.wizard.structureOptions.list')}</option>\n                      <option value=\"tips\">{t('socialMedia.wizard.structureOptions.tips')}</option>\n                      <option value=\"announcement\">{t('socialMedia.wizard.structureOptions.announcement')}</option>\n                      <option value=\"question\">{t('socialMedia.wizard.structureOptions.question')}</option>\n                      <option value=\"before-after\">{t('socialMedia.wizard.structureOptions.beforeAfter')}</option>\n                      <option value=\"quote\">{t('socialMedia.wizard.structureOptions.quote')}</option>\n                      <option value=\"problem-solution\">{t('socialMedia.wizard.structureOptions.problemSolution')}</option>\n                    </select>\n                    <span className=\"select-arrow\">▼</span>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {step === 2 && (\n              <div className=\"form-section\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">✍️</span>\n                    {t('socialMedia.wizard.labels.writePost')}\n                  </label>\n                  <div className=\"textarea-wrapper\">\n                    <textarea \n                      value={content} \n                      onChange={e => setContent(e.target.value)} \n                      placeholder={t('socialMedia.wizard.placeholders.writePost')}\n                      className=\"form-textarea\"\n                      rows={8}\n                    />\n                    <div className=\"character-count\">\n                      <span className=\"count-item\">\n                        <span className=\"count-icon\">📊</span>\n                        {content.length} {t('socialMedia.characters')}\n                      </span>\n                      <span className=\"count-item\">\n                        <span className=\"count-icon\">📝</span>\n                        {content.split(' ').filter(word => word.length > 0).length} {t('socialMedia.words')}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {step === 3 && (\n              <div className=\"form-section\">\n                {/* Loading State */}\n                {(isEnhancing || isGenerating || isReviewing) && (\n                  <div className=\"loading-card\">\n                    <div className=\"loading-spinner\"></div>\n                    <div className=\"loading-content\">\n                      <h3 className=\"loading-title\">{t('socialMedia.wizard.messages.enhancing')}</h3>\n                      <p className=\"loading-subtitle\">\n                        {t('socialMedia.wizard.messages.enhancingForPlatform', { platform: t(`socialMedia.platforms.${platform}`) })}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Error State */}\n                {enhancementError && (\n                  <div className=\"error-card\">\n                    <span className=\"error-icon\">❌</span>\n                    <span className=\"error-message\">{enhancementError}</span>\n                  </div>\n                )}\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">🔍</span>\n                    {t('socialMedia.wizard.labels.reviewEnhance')}\n                  </label>\n                  <div className=\"textarea-wrapper\">\n                    <textarea \n                      value={enhancedContent || reviewedContent || ''} \n                      onChange={e => setEnhancedContent(e.target.value)} \n                      placeholder={isEnhancing || isGenerating || isReviewing ? t('socialMedia.wizard.placeholders.enhancing') : t('socialMedia.wizard.placeholders.enhancedPost')}\n                      disabled={isEnhancing || isGenerating || isReviewing}\n                      className=\"form-textarea\"\n                      rows={8}\n                    />\n                    <div className=\"character-count\">\n                      <span className=\"count-item\">\n                        <span className=\"count-icon\">📊</span>\n                        {(enhancedContent || reviewedContent || '').length} {t('socialMedia.characters')}\n                      </span>\n                      <span className=\"count-item\">\n                        <span className=\"count-icon\">📝</span>\n                        {(enhancedContent || reviewedContent || '').split(' ').filter(word => word.length > 0).length} {t('socialMedia.words')}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Enhancement Status */}\n                {!isEnhancing && !isGenerating && !isReviewing && enhancedContent && (\n                  <div className=\"success-card\">\n                    <span className=\"success-icon\">✅</span>\n                    <span className=\"success-message\">{t('socialMedia.wizard.messages.postEnhanced')}</span>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {step === 4 && (\n              <div className=\"form-section\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    <span className=\"label-icon\">👁️</span>\n                    {t('socialMedia.wizard.labels.previewPost')}\n                  </label>\n                  <div className=\"preview-card\">\n                    <div className=\"preview-content\">\n                      {enhancedContent || reviewedContent || content || t('socialMedia.wizard.placeholders.postPreview')}\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Action Buttons */}\n                <div className=\"action-buttons\">\n                  <button \n                    onClick={() => copyToClipboard && copyToClipboard(enhancedContent || reviewedContent || content)} \n                    className=\"action-btn primary\"\n                  >\n                    <span className=\"btn-icon\">📋</span>\n                    {t('socialMedia.wizard.buttons.copyPost')}\n                  </button>\n                  <button \n                    onClick={() => openPreviewWindow && openPreviewWindow(enhancedContent || reviewedContent || content, platform, postType, tone, targetAudience)} \n                    className=\"action-btn secondary\"\n                  >\n                    <span className=\"btn-icon\">👁️</span>\n                    {t('socialMedia.wizard.buttons.preview')}\n                  </button>\n                </div>\n                \n                <div className=\"success-card\">\n                  <span className=\"success-icon\">🎉</span>\n                  <span className=\"success-message\">{t('socialMedia.wizard.messages.greatJob')}</span>\n                </div>\n                \n                {/* Social Media Integration */}\n                <SocialMediaIntegration\n                  content={reviewedContent || enhancedContent || content}\n                  platform={platform}\n                  onPublishSuccess={(platform, result) => {\n                    console.log(`Successfully published to ${platform}:`, result);\n                    // You can add success notification here\n                  }}\n                  onPublishError={(platform, error) => {\n                    console.error(`Failed to publish to ${platform}:`, error);\n                    // You can add error notification here\n                  }}\n                />\n                \n                <button \n                  onClick={handleFinalSubmit} \n                  className=\"finish-btn\"\n                >\n                  <span className=\"btn-icon\">✨</span>\n                  {t('socialMedia.wizard.buttons.saveFinish')}\n                </button>\n              </div>\n            )}\n          </div>\n        </main>\n      </div>\n      \n      {/* Navigation */}\n      <div className=\"wizard-navigation\">\n        <button \n          onClick={prevStep} \n          disabled={step === 0} \n          className=\"nav-btn prev-btn\"\n        >\n          <span className=\"nav-icon\">←</span>\n          {t('socialMedia.wizard.buttons.back')}\n        </button>\n        \n        {step < steps.length - 1 && (\n          <button \n            onClick={nextStep} \n            disabled={step === 2 && !content.trim() || step === 3 && (isEnhancing || isGenerating || isReviewing)}\n            className=\"nav-btn next-btn\"\n          >\n            {step === 3 && (isEnhancing || isGenerating || isReviewing) ? (\n              <>\n                <span className=\"nav-icon\">⏳</span>\n                {t('socialMedia.wizard.buttons.enhancing')}\n              </>\n            ) : (\n              <>\n                {t('socialMedia.wizard.buttons.next')}\n                <span className=\"nav-icon\">→</span>\n              </>\n            )}\n          </button>\n        )}\n      </div>\n\n      {/* Styles */}\n      <style jsx>{`\n        .wizard-container {\n          max-width: 1100px;\n          margin: 40px auto;\n          background: #ffffff;\n          border-radius: 20px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n        .wizard-layout {\n          display: flex;\n          gap: 40px;\n        }\n        .wizard-sidebar {\n          min-width: 320px;\n          max-width: 360px;\n          flex: 0 0 340px;\n          padding: 0 0 0 8px;\n        }\n        .wizard-main-content {\n          flex: 1;\n          min-width: 0;\n        }\n        .form-row {\n          display: flex;\n          gap: 24px;\n        }\n        .form-row .form-group {\n          flex: 1;\n        }\n\n        .wizard-header {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          padding: 20px 24px;\n          text-align: center;\n        }\n\n        .wizard-title {\n          font-size: 24px;\n          font-weight: 700;\n          margin: 0 0 6px 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 10px;\n        }\n\n        .wizard-icon {\n          font-size: 28px;\n        }\n\n        .wizard-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n          font-weight: 400;\n        }\n\n        .progress-container {\n          padding: 20px 32px;\n          background: #ffffff;\n          border-bottom: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n        }\n\n        .progress-bar {\n          height: 4px;\n          background: #f1f5f9;\n          border-radius: 2px;\n          margin-bottom: 20px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n          border-radius: 2px;\n          transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: space-between;\n          gap: 8px;\n          max-width: 800px;\n          margin: 0 auto;\n        }\n\n        .progress-step {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          opacity: 0.4;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          cursor: pointer;\n          padding: 8px 12px;\n          border-radius: 8px;\n          position: relative;\n        }\n\n        .progress-step:hover {\n          opacity: 0.7;\n          background: rgba(102, 126, 234, 0.05);\n        }\n\n        .progress-step.active {\n          opacity: 0.8;\n        }\n\n        .progress-step.current {\n          opacity: 1;\n          background: rgba(102, 126, 234, 0.1);\n          transform: scale(1.02);\n        }\n\n        .step-number {\n          width: 28px;\n          height: 28px;\n          border-radius: 50%;\n          background: #e2e8f0;\n          color: #64748b;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: 600;\n          font-size: 13px;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          border: 2px solid transparent;\n        }\n\n        .progress-step.active .step-number {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          border-color: rgba(255, 255, 255, 0.2);\n        }\n\n        .progress-step.current .step-number {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          border-color: rgba(255, 255, 255, 0.3);\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);\n        }\n\n        .step-info {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          gap: 2px;\n          min-width: 0;\n        }\n\n        .step-emoji {\n          font-size: 16px;\n          line-height: 1;\n        }\n\n        .step-title {\n          font-size: 11px;\n          font-weight: 600;\n          text-align: left;\n          line-height: 1.2;\n          color: #475569;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 80px;\n        }\n\n        .progress-step.active .step-title {\n          color: #1e293b;\n        }\n\n        .progress-step.current .step-title {\n          color: #1e293b;\n          font-weight: 700;\n        }\n\n        .wizard-content {\n          padding: 32px 24px;\n        }\n\n        .step-header {\n          margin-bottom: 32px;\n        }\n\n        .step-indicator {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n\n        .step-emoji-large {\n          font-size: 48px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n\n        .step-details {\n          flex: 1;\n        }\n\n        .step-title-large {\n          font-size: 24px;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0 0 8px 0;\n        }\n\n        .step-guidance {\n          font-size: 16px;\n          color: #64748b;\n          line-height: 1.6;\n          margin: 0;\n        }\n\n        .tips-card {\n          background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n          border: 1px solid #0ea5e9;\n          border-radius: 16px;\n          padding: 24px;\n          margin-bottom: 32px;\n        }\n\n        .tips-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .tips-icon {\n          font-size: 24px;\n        }\n\n        .tips-title {\n          font-size: 18px;\n          font-weight: 600;\n          color: #0c4a6e;\n          margin: 0;\n        }\n\n        .tips-list {\n          margin: 0;\n          padding-left: 20px;\n        }\n\n        .tip-item {\n          color: #0c4a6e;\n          line-height: 1.6;\n          margin-bottom: 8px;\n          font-size: 14px;\n        }\n\n        .tip-item:last-child {\n          margin-bottom: 0;\n        }\n\n        .form-section {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .form-label {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-weight: 600;\n          color: #374151;\n          font-size: 16px;\n        }\n\n        .label-icon {\n          font-size: 20px;\n        }\n\n        .select-wrapper {\n          position: relative;\n        }\n\n        .form-select {\n          width: 100%;\n          padding: 16px 20px;\n          font-size: 16px;\n          border: 2px solid #e5e7eb;\n          border-radius: 12px;\n          background: white;\n          outline: none;\n          transition: all 0.3s ease;\n          appearance: none;\n        }\n\n        .form-select:focus {\n          border-color: #667eea;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n\n        .select-arrow {\n          position: absolute;\n          right: 16px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #9ca3af;\n          pointer-events: none;\n          font-size: 12px;\n        }\n\n        .textarea-wrapper {\n          position: relative;\n        }\n\n        .form-textarea {\n          width: 100%;\n          padding: 20px;\n          font-size: 16px;\n          border: 2px solid #e5e7eb;\n          border-radius: 12px;\n          background: #f9fafb;\n          outline: none;\n          resize: vertical;\n          font-family: inherit;\n          line-height: 1.6;\n          transition: all 0.3s ease;\n          min-height: 200px;\n        }\n\n        .form-textarea:focus {\n          border-color: #667eea;\n          background: white;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n\n        .form-textarea:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n        }\n\n        .character-count {\n          display: flex;\n          justify-content: space-between;\n          margin-top: 12px;\n          font-size: 14px;\n          color: #6b7280;\n        }\n\n        .count-item {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .count-icon {\n          font-size: 16px;\n        }\n\n        .loading-card {\n          background: #f0f9ff;\n          border: 1px solid #0ea5e9;\n          border-radius: 12px;\n          padding: 24px;\n          text-align: center;\n          margin-bottom: 24px;\n        }\n\n        .loading-spinner {\n          width: 32px;\n          height: 32px;\n          border: 3px solid #e0f2fe;\n          border-top: 3px solid #0ea5e9;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 16px auto;\n        }\n\n        .loading-content h3 {\n          font-size: 18px;\n          font-weight: 600;\n          color: #0c4a6e;\n          margin: 0 0 8px 0;\n        }\n\n        .loading-content p {\n          font-size: 14px;\n          color: #0369a1;\n          margin: 0;\n        }\n\n        .error-card {\n          background: #fef2f2;\n          border: 1px solid #ef4444;\n          border-radius: 12px;\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 24px;\n        }\n\n        .error-icon {\n          font-size: 20px;\n        }\n\n        .error-message {\n          color: #991b1b;\n          font-weight: 500;\n        }\n\n        .success-card {\n          background: #ecfdf5;\n          border: 1px solid #10b981;\n          border-radius: 12px;\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 24px;\n        }\n\n        .success-icon {\n          font-size: 20px;\n        }\n\n        .success-message {\n          color: #065f46;\n          font-weight: 500;\n        }\n\n        .preview-card {\n          background: #f8fafc;\n          border: 2px solid #e2e8f0;\n          border-radius: 12px;\n          padding: 20px;\n          min-height: 120px;\n        }\n\n        .preview-content {\n          font-size: 16px;\n          line-height: 1.6;\n          white-space: pre-wrap;\n          word-wrap: break-word;\n          color: #374151;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 24px;\n        }\n\n        .action-btn {\n          flex: 1;\n          padding: 16px 24px;\n          border: none;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          transition: all 0.3s ease;\n        }\n\n        .action-btn.primary {\n          background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n          color: white;\n          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n        }\n\n        .action-btn.primary:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);\n        }\n\n        .action-btn.secondary {\n          background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n          color: white;\n          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);\n        }\n\n        .action-btn.secondary:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);\n        }\n\n        .btn-icon {\n          font-size: 18px;\n        }\n\n        .finish-btn {\n          width: 100%;\n          padding: 20px 32px;\n          background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);\n          color: white;\n          border: none;\n          border-radius: 16px;\n          font-size: 18px;\n          font-weight: 700;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 12px;\n          box-shadow: 0 8px 24px rgba(139, 92, 246, 0.4);\n          transition: all 0.3s ease;\n        }\n\n        .finish-btn:hover {\n          transform: translateY(-3px);\n          box-shadow: 0 12px 32px rgba(139, 92, 246, 0.5);\n        }\n\n        .wizard-navigation {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 20px 32px;\n          background: #ffffff;\n          border-top: 1px solid #e2e8f0;\n          box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.05);\n        }\n\n        .nav-btn {\n          padding: 14px 20px;\n          border: none;\n          border-radius: 10px;\n          font-size: 15px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          min-width: 120px;\n          justify-content: center;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .nav-btn:disabled {\n          opacity: 0.4;\n          cursor: not-allowed;\n          transform: none !important;\n        }\n\n        .nav-btn:not(:disabled):hover {\n          transform: translateY(-1px);\n        }\n\n        .nav-btn:not(:disabled):active {\n          transform: translateY(0);\n        }\n\n        .prev-btn {\n          background: #f8fafc;\n          color: #64748b;\n          border: 1px solid #e2e8f0;\n        }\n\n        .prev-btn:hover:not(:disabled) {\n          background: #f1f5f9;\n          color: #475569;\n          border-color: #cbd5e1;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n        }\n\n        .next-btn {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          box-shadow: 0 2px 8px rgba(102, 126, 234, 0.25);\n        }\n\n        .next-btn:hover:not(:disabled) {\n          box-shadow: 0 4px 16px rgba(102, 126, 234, 0.35);\n        }\n\n        .next-btn:not(:disabled)::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n          transition: left 0.5s;\n        }\n\n        .next-btn:not(:disabled):hover::before {\n          left: 100%;\n        }\n\n        .nav-icon {\n          font-size: 16px;\n          transition: transform 0.2s ease;\n        }\n\n        .prev-btn:hover .nav-icon {\n          transform: translateX(-2px);\n        }\n\n        .next-btn:hover .nav-icon {\n          transform: translateX(2px);\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Mobile Responsive */\n        @media (max-width: 1200px) {\n          .wizard-container { max-width: 98vw; }\n          .wizard-layout { gap: 20px; }\n          .wizard-sidebar { min-width: 220px; max-width: 260px; flex-basis: 220px; }\n        }\n        @media (max-width: 900px) {\n          .wizard-layout { flex-direction: column; gap: 0; }\n          .wizard-sidebar { max-width: 100%; min-width: 0; padding: 0; }\n        }\n        @media (max-width: 768px) {\n          .wizard-container { margin: 0; border-radius: 0; min-height: 100vh; }\n          .wizard-header { padding: 28px 16px; }\n          .wizard-title { font-size: 26px; }\n          .wizard-icon { font-size: 30px; }\n          .wizard-subtitle { font-size: 16px; }\n          .progress-container { padding: 16px; }\n          .progress-steps { flex-direction: column; gap: 12px; }\n          .progress-step { justify-content: flex-start; padding: 12px; }\n          .step-info { flex-direction: row; align-items: center; gap: 8px; }\n          .step-title { font-size: 14px; max-width: none; }\n          .wizard-content { padding: 24px 16px; }\n          .step-indicator { flex-direction: column; text-align: center; gap: 16px; }\n          .step-emoji-large { font-size: 40px; }\n          .step-title-large { font-size: 20px; }\n          .tips-card { padding: 20px; }\n          .action-buttons { flex-direction: column; }\n          .wizard-navigation { padding: 16px; flex-direction: column; gap: 12px; }\n          .nav-btn { width: 100%; justify-content: center; min-width: auto; }\n        }\n        @media (max-width: 480px) {\n          .wizard-header { padding: 20px 12px; }\n          .wizard-title { font-size: 20px; }\n          .wizard-content { padding: 20px 12px; }\n          .form-select, .form-textarea { padding: 14px 16px; font-size: 16px; }\n          .action-btn, .nav-btn { padding: 14px 20px; font-size: 16px; }\n        }\n        .form-select:hover, .form-select:focus, .form-textarea:hover, .form-textarea:focus {\n          border-color: #6366f1;\n          box-shadow: 0 0 0 2px #a5b4fc44;\n        }\n        .action-btn:hover, .nav-btn:hover, .finish-btn:hover {\n          filter: brightness(1.08);\n          box-shadow: 0 2px 8px rgba(79,140,255,0.10);\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SocialMediaPostWizard; ","import React, { useState, useEffect } from 'react';\nimport apiConfig from '../config/api';\nimport './SocialMediaPost.css';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\n// [EXTRACT] Move all option/selector UI (platform, post type, tone, audience, content structure, engagement goal, length, brand voice, urgency, situation, advanced options) into a new component SocialMediaPostOptions.js\nimport SocialMediaPostOptions from '../components/SocialMediaPostOptions';\nimport SocialMediaPostResult from '../components/SocialMediaPostResult';\nimport SocialMediaIntegration from '../components/SocialMediaIntegration';\nimport formatInstagramContent from '../utils/formatInstagramContent';\nimport SocialMediaPostWizard from '../components/SocialMediaPostWizard';\nimport FacebookIcon from '../components/FacebookIcon';\n\nconst SocialMediaPost = () => {\n  const { t } = useTranslation();\n  const [content, setContent] = useState('');\n  const [platform, setPlatform] = useState('facebook');\n  const [postType, setPostType] = useState('general');\n  const [tone, setTone] = useState('engaging');\n  const [targetAudience, setTargetAudience] = useState('general');\n  const [contentStructure, setContentStructure] = useState('story');\n  const [engagementGoal, setEngagementGoal] = useState('awareness');\n  const [hashtags, setHashtags] = useState('');\n  const [enhancedContent, setEnhancedContent] = useState('');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isEnhancing, setIsEnhancing] = useState(false);\n  const [error, setError] = useState('');\n  const [qualityAnalysis, setQualityAnalysis] = useState(null);\n  const [generationHistory, setGenerationHistory] = useState([]);\n  const [showAdvancedOptions, setShowAdvancedOptions] = useState(false);\n  \n  // New dynamic length adjustment features\n  const [contentLength, setContentLength] = useState('optimal');\n  const [brandVoiceIntensity, setBrandVoiceIntensity] = useState('moderate');\n  const [engagementUrgency, setEngagementUrgency] = useState('normal');\n  const [situation, setSituation] = useState('general');\n  const [customLength, setCustomLength] = useState(100);\n\n  // New follow-up question suggestions\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [selectedSuggestion, setSelectedSuggestion] = useState('');\n\n  // Add state for reviewed content\n  const [reviewedContent, setReviewedContent] = useState('');\n  const [isReviewing, setIsReviewing] = useState(false);\n\n  const [useWizard, setUseWizard] = useState(true);\n\n  // Platform-specific content length options\n  const getContentLengths = (platform) => {\n    const baseLengths = [\n      { value: 'concise', label: t('socialMedia.contentLengths.concise'), description: t('socialMedia.descriptions.concise') },\n      { value: 'optimal', label: t('socialMedia.contentLengths.optimal'), description: t('socialMedia.descriptions.optimal') },\n      { value: 'detailed', label: t('socialMedia.contentLengths.detailed'), description: t('socialMedia.descriptions.detailed') },\n      { value: 'comprehensive', label: t('socialMedia.contentLengths.comprehensive'), description: t('socialMedia.descriptions.comprehensive') },\n      { value: 'custom', label: t('socialMedia.contentLengths.custom'), description: t('socialMedia.descriptions.custom') }\n    ];\n\n         const platformSpecific = {\n       facebook: [\n         { value: 'concise', label: t('socialMedia.contentLengths.concise'), targetWords: 40, description: 'Short and engaging (40-60 words) - Perfect for quick updates and announcements', icon: '📝' },\n         { value: 'optimal', label: t('socialMedia.contentLengths.optimal'), targetWords: 80, description: 'Story-driven content (80-120 words) - Ideal for personal stories and community engagement', icon: '📖' },\n         { value: 'detailed', label: t('socialMedia.contentLengths.detailed'), targetWords: 150, description: 'Comprehensive posts (150-200 words) - Great for detailed updates and educational content', icon: '📊' },\n         { value: 'comprehensive', label: t('socialMedia.contentLengths.comprehensive'), targetWords: 250, description: 'In-depth content (250-350 words) - Perfect for thought leadership and detailed stories', icon: '📚' },\n         { value: 'custom', label: t('socialMedia.contentLengths.custom'), targetWords: customLength, description: 'Specify exact word count for Facebook', icon: '⚙️' }\n       ],\n             instagram: [\n         { value: 'concise', label: t('socialMedia.contentLengths.concise'), targetWords: 25, description: 'Caption-focused (25-40 words) - Short, punchy captions with emojis and hashtags', icon: '📸' },\n         { value: 'optimal', label: t('socialMedia.contentLengths.optimal'), targetWords: 60, description: 'Story captions (60-90 words) - Engaging captions with bullet points and visual appeal', icon: '📱' },\n         { value: 'detailed', label: t('socialMedia.contentLengths.detailed'), targetWords: 120, description: 'Carousel captions (120-180 words) - Detailed captions for multi-image posts', icon: '🖼️' },\n         { value: 'comprehensive', label: t('socialMedia.contentLengths.comprehensive'), targetWords: 200, description: 'IGTV descriptions (200-300 words) - Longer descriptions for video content', icon: '📺' },\n         { value: 'custom', label: t('socialMedia.contentLengths.custom'), targetWords: customLength, description: 'Specify exact word count for Instagram', icon: '⚙️' }\n       ],\n             linkedin: [\n         { value: 'concise', label: t('socialMedia.contentLengths.concise'), targetWords: 50, description: 'Professional updates (50-80 words) - Brief professional announcements and updates', icon: '💼' },\n         { value: 'optimal', label: t('socialMedia.contentLengths.optimal'), targetWords: 100, description: 'Industry insights (100-150 words) - Professional insights and thought leadership', icon: '🧠' },\n         { value: 'detailed', label: t('socialMedia.contentLengths.detailed'), targetWords: 200, description: 'Professional stories (200-300 words) - Detailed professional experiences and case studies', icon: '📊' },\n         { value: 'comprehensive', label: t('socialMedia.contentLengths.comprehensive'), targetWords: 400, description: 'Article previews (400-600 words) - Comprehensive professional content and insights', icon: '📄' },\n         { value: 'custom', label: t('socialMedia.contentLengths.custom'), targetWords: customLength, description: 'Specify exact word count for LinkedIn', icon: '⚙️' }\n       ]\n    };\n\n    return platformSpecific[platform] || baseLengths;\n  };\n\n  // Get content lengths for current platform\n  const contentLengths = getContentLengths(platform);\n\n  // Brand voice intensity options\n  const brandVoiceIntensities = [\n    { value: 'subtle', label: t('socialMedia.brandVoiceIntensities.subtle'), description: t('socialMedia.descriptions.subtle') },\n    { value: 'moderate', label: t('socialMedia.brandVoiceIntensities.moderate'), description: t('socialMedia.descriptions.moderate') },\n    { value: 'strong', label: t('socialMedia.brandVoiceIntensities.strong'), description: t('socialMedia.descriptions.strong') },\n    { value: 'dominant', label: t('socialMedia.brandVoiceIntensities.dominant'), description: t('socialMedia.descriptions.dominant') }\n  ];\n\n  // Engagement urgency options (use correct translation keys)\n  const engagementUrgencies = [\n    { value: 'low', label: t('socialMedia.engagementUrgencies.low'), description: t('socialMedia.descriptions.low') },\n    { value: 'normal', label: t('socialMedia.engagementUrgencies.normal'), description: t('socialMedia.descriptions.normal') },\n    { value: 'high', label: t('socialMedia.engagementUrgencies.high'), description: t('socialMedia.descriptions.high') },\n    { value: 'urgent', label: t('socialMedia.engagementUrgencies.urgent'), description: t('socialMedia.descriptions.urgent') }\n  ];\n\n  // Situation options (use correct translation keys)\n  const situations = [\n    { value: 'general', label: t('socialMedia.situations.general'), description: t('socialMedia.descriptions.general') },\n    { value: 'promotional', label: t('socialMedia.situations.promotional'), description: t('socialMedia.descriptions.promotional') },\n    { value: 'crisis', label: t('socialMedia.situations.crisis'), description: t('socialMedia.descriptions.crisis') },\n    { value: 'celebration', label: t('socialMedia.situations.celebration'), description: t('socialMedia.descriptions.celebration') },\n    { value: 'educational', label: t('socialMedia.situations.educational'), description: t('socialMedia.descriptions.educational') },\n    { value: 'community', label: t('socialMedia.situations.community'), description: t('socialMedia.descriptions.community') },\n    { value: 'trending', label: t('socialMedia.situations.trending'), description: t('socialMedia.descriptions.trending') },\n    { value: 'seasonal', label: t('socialMedia.situations.seasonal'), description: t('socialMedia.descriptions.seasonal') }\n  ];\n\n  // State for modal view\n  const [modalPost, setModalPost] = useState(null);\n\n  // New: Global history from backend\n  const [globalHistory, setGlobalHistory] = useState([]);\n  const [isHistoryLoading, setIsHistoryLoading] = useState(false);\n  const [historyError, setHistoryError] = useState('');\n\n  // State for showing original content\n  const [showOriginalContent, setShowOriginalContent] = useState(false);\n  const [showComparison, setShowComparison] = useState(false);\n\n  const platforms = [\n    { value: 'facebook', label: t('socialMedia.platforms.facebook'), icon: <FacebookIcon size={36} />, maxLength: 63206, priority: true, \n      features: t('socialMedia.platformSpecific.features.facebook', { returnObjects: true }),\n      bestPractices: t('socialMedia.platformSpecific.bestPractices.facebook', { returnObjects: true }),\n      audienceTypes: t('socialMedia.platformSpecific.audienceTypes.facebook', { returnObjects: true })\n    },\n    { value: 'instagram', label: t('socialMedia.platforms.instagram'), icon: '📸', maxLength: 2200, priority: true,\n      features: t('socialMedia.platformSpecific.features.instagram', { returnObjects: true }),\n      bestPractices: t('socialMedia.platformSpecific.bestPractices.instagram', { returnObjects: true }),\n      audienceTypes: t('socialMedia.platformSpecific.audienceTypes.instagram', { returnObjects: true })\n    },\n    { value: 'linkedin', label: t('socialMedia.platforms.linkedin'), icon: '💼', maxLength: 3000, priority: true,\n      features: t('socialMedia.platformSpecific.features.linkedin', { returnObjects: true }),\n      bestPractices: t('socialMedia.platformSpecific.bestPractices.linkedin', { returnObjects: true }),\n      audienceTypes: t('socialMedia.platformSpecific.audienceTypes.linkedin', { returnObjects: true })\n    },\n    { value: 'tiktok', label: t('socialMedia.platforms.tiktok'), icon: '🎵', maxLength: 150 },\n    { value: 'twitter', label: t('socialMedia.platforms.twitter'), icon: '🐦', maxLength: 280 },\n    { value: 'youtube', label: t('socialMedia.platforms.youtube'), icon: '📺', maxLength: 5000 }\n  ];\n\n  // Platform-specific post types\n  const getPostTypes = (platform) => {\n    const baseTypes = [\n    { value: 'general', label: t('socialMedia.postTypes.general'), icon: '📝', description: t('socialMedia.descriptions.generalPost') },\n    { value: 'story', label: t('socialMedia.postTypes.story'), icon: '📖', description: t('socialMedia.descriptions.storyPersonal') },\n    { value: 'educational', label: t('socialMedia.postTypes.educational'), icon: '📚', description: t('socialMedia.descriptions.educational') },\n    { value: 'promotional', label: t('socialMedia.postTypes.promotional'), icon: '🎯', description: t('socialMedia.descriptions.promotional') },\n    { value: 'community', label: t('socialMedia.postTypes.community'), icon: '🤝', description: t('socialMedia.descriptions.community') },\n    { value: 'inspirational', label: t('socialMedia.postTypes.inspirational'), icon: '✨', description: t('socialMedia.descriptions.inspirational') },\n    { value: 'question', label: t('socialMedia.postTypes.question'), icon: '❓', description: t('socialMedia.descriptions.questionPoll') },\n    { value: 'announcement', label: t('socialMedia.postTypes.announcement'), icon: '📢', description: t('socialMedia.descriptions.announcement') }\n  ];\n\n    const platformSpecific = {\n      facebook: [\n        { value: 'event', label: t('socialMedia.platformSpecific.postTypes.facebook.event'), icon: '📅', description: t('socialMedia.platformSpecific.descriptions.postTypes.event') },\n        { value: 'live', label: t('socialMedia.platformSpecific.postTypes.facebook.live'), icon: '📺', description: t('socialMedia.platformSpecific.descriptions.postTypes.live') },\n        { value: 'group', label: t('socialMedia.platformSpecific.postTypes.facebook.group'), icon: '👥', description: t('socialMedia.platformSpecific.descriptions.postTypes.group') },\n        { value: 'marketplace', label: t('socialMedia.platformSpecific.postTypes.facebook.marketplace'), icon: '🛍️', description: t('socialMedia.platformSpecific.descriptions.postTypes.marketplace') }\n      ],\n      instagram: [\n        { value: 'reel', label: t('socialMedia.platformSpecific.postTypes.instagram.reel'), icon: '🎬', description: t('socialMedia.platformSpecific.descriptions.postTypes.reel') },\n        { value: 'story', label: t('socialMedia.platformSpecific.postTypes.instagram.story'), icon: '📱', description: t('socialMedia.platformSpecific.descriptions.postTypes.story') },\n        { value: 'igtv', label: t('socialMedia.platformSpecific.postTypes.instagram.igtv'), icon: '📺', description: t('socialMedia.platformSpecific.descriptions.postTypes.igtv') },\n        { value: 'shopping', label: t('socialMedia.platformSpecific.postTypes.instagram.shopping'), icon: '🛒', description: t('socialMedia.platformSpecific.descriptions.postTypes.shopping') }\n      ],\n      linkedin: [\n        { value: 'article', label: t('socialMedia.platformSpecific.postTypes.linkedin.article'), icon: '📄', description: t('socialMedia.platformSpecific.descriptions.postTypes.article') },\n        { value: 'career', label: t('socialMedia.platformSpecific.postTypes.linkedin.career'), icon: '💼', description: t('socialMedia.platformSpecific.descriptions.postTypes.career') },\n        { value: 'industry', label: t('socialMedia.platformSpecific.postTypes.linkedin.industry'), icon: '🏭', description: t('socialMedia.platformSpecific.descriptions.postTypes.industry') },\n        { value: 'networking', label: t('socialMedia.platformSpecific.postTypes.linkedin.networking'), icon: '🤝', description: t('socialMedia.platformSpecific.descriptions.postTypes.networking') }\n      ]\n    };\n\n    return [...baseTypes, ...(platformSpecific[platform] || [])];\n  };\n\n  // Platform-specific content structures\n  const getContentStructures = (platform) => {\n    const baseStructures = [\n    { value: 'story', label: t('socialMedia.contentStructures.story'), icon: '📖', description: t('socialMedia.descriptions.storyFormat') },\n    { value: 'problem-solution', label: t('socialMedia.contentStructures.problemSolution'), icon: '🔧', description: t('socialMedia.descriptions.problemSolution') },\n    { value: 'list', label: t('socialMedia.contentStructures.list'), icon: '📋', description: t('socialMedia.descriptions.listFormat') },\n    { value: 'question-answer', label: t('socialMedia.contentStructures.questionAnswer'), icon: '❓', description: t('socialMedia.descriptions.questionAnswer') },\n    { value: 'before-after', label: t('socialMedia.contentStructures.beforeAfter'), icon: '🔄', description: t('socialMedia.descriptions.beforeAfter') },\n    { value: 'tips', label: t('socialMedia.contentStructures.tips'), icon: '💡', description: t('socialMedia.descriptions.tipsFormat') },\n    { value: 'quote', label: t('socialMedia.contentStructures.quote'), icon: '💬', description: t('socialMedia.descriptions.quoteFormat') },\n    { value: 'announcement', label: t('socialMedia.contentStructures.announcement'), icon: '📢', description: t('socialMedia.descriptions.clearAnnouncement') }\n  ];\n\n    const platformSpecific = {\n      facebook: [\n        { value: 'poll', label: t('socialMedia.platformSpecific.contentStructures.facebook.poll'), icon: '📊', description: t('socialMedia.platformSpecific.descriptions.contentStructures.poll') },\n        { value: 'milestone', label: t('socialMedia.platformSpecific.contentStructures.facebook.milestone'), icon: '🎉', description: t('socialMedia.platformSpecific.descriptions.contentStructures.milestone') },\n        { value: 'behind-scenes', label: t('socialMedia.platformSpecific.contentStructures.facebook.behindScenes'), icon: '🎬', description: t('socialMedia.platformSpecific.descriptions.contentStructures.behindScenes') }\n      ],\n      instagram: [\n        { value: 'carousel', label: t('socialMedia.platformSpecific.contentStructures.instagram.carousel'), icon: '🖼️', description: t('socialMedia.platformSpecific.descriptions.contentStructures.carousel') },\n        { value: 'user-generated', label: t('socialMedia.platformSpecific.contentStructures.instagram.userGenerated'), icon: '👤', description: t('socialMedia.platformSpecific.descriptions.contentStructures.userGenerated') },\n        { value: 'product-showcase', label: t('socialMedia.platformSpecific.contentStructures.instagram.productShowcase'), icon: '📦', description: t('socialMedia.platformSpecific.descriptions.contentStructures.productShowcase') }\n      ],\n      linkedin: [\n        { value: 'case-study', label: t('socialMedia.platformSpecific.contentStructures.linkedin.caseStudy'), icon: '📊', description: t('socialMedia.platformSpecific.descriptions.contentStructures.caseStudy') },\n        { value: 'thought-leadership', label: t('socialMedia.platformSpecific.contentStructures.linkedin.thoughtLeadership'), icon: '🧠', description: t('socialMedia.platformSpecific.descriptions.contentStructures.thoughtLeadership') },\n        { value: 'company-culture', label: t('socialMedia.platformSpecific.contentStructures.linkedin.companyCulture'), icon: '🏢', description: t('socialMedia.platformSpecific.descriptions.contentStructures.companyCulture') }\n      ]\n    };\n\n    return [...baseStructures, ...(platformSpecific[platform] || [])];\n  };\n\n  // Platform-specific engagement goals\n  const getEngagementGoals = (platform) => {\n    const baseGoals = [\n    { value: 'awareness', label: t('socialMedia.engagementGoals.awareness'), icon: '👁️', description: t('socialMedia.descriptions.brandAwareness') },\n    { value: 'engagement', label: t('socialMedia.engagementGoals.engagement'), icon: '💬', description: t('socialMedia.descriptions.engagement') },\n    { value: 'conversation', label: t('socialMedia.engagementGoals.conversation'), icon: '🗣️', description: t('socialMedia.descriptions.conversation') },\n    { value: 'education', label: t('socialMedia.engagementGoals.education'), icon: '📚', description: t('socialMedia.descriptions.education') },\n    { value: 'conversion', label: t('socialMedia.engagementGoals.conversion'), icon: '🎯', description: t('socialMedia.descriptions.conversion') },\n    { value: 'community', label: t('socialMedia.engagementGoals.community'), icon: '🤝', description: t('socialMedia.descriptions.communityBuilding') }\n  ];\n\n    const platformSpecific = {\n      facebook: [\n        { value: 'group-engagement', label: t('socialMedia.platformSpecific.engagementGoals.facebook.groupEngagement'), icon: '👥', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.groupEngagement') },\n        { value: 'event-registration', label: t('socialMedia.platformSpecific.engagementGoals.facebook.eventRegistration'), icon: '📅', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.eventRegistration') },\n        { value: 'page-likes', label: t('socialMedia.platformSpecific.engagementGoals.facebook.pageLikes'), icon: '👍', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.pageLikes') }\n      ],\n      instagram: [\n        { value: 'story-views', label: t('socialMedia.platformSpecific.engagementGoals.instagram.storyViews'), icon: '👁️', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.storyViews') },\n        { value: 'reel-engagement', label: t('socialMedia.platformSpecific.engagementGoals.instagram.reelEngagement'), icon: '🎬', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.reelEngagement') },\n        { value: 'profile-visits', label: t('socialMedia.platformSpecific.engagementGoals.instagram.profileVisits'), icon: '👤', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.profileVisits') }\n      ],\n      linkedin: [\n        { value: 'connection-requests', label: t('socialMedia.platformSpecific.engagementGoals.linkedin.connectionRequests'), icon: '🔗', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.connectionRequests') },\n        { value: 'article-reads', label: t('socialMedia.platformSpecific.engagementGoals.linkedin.articleReads'), icon: '📖', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.articleReads') },\n        { value: 'job-applications', label: t('socialMedia.platformSpecific.engagementGoals.linkedin.jobApplications'), icon: '💼', description: t('socialMedia.platformSpecific.descriptions.engagementGoals.jobApplications') }\n      ]\n    };\n\n    return [...baseGoals, ...(platformSpecific[platform] || [])];\n  };\n\n  // Platform-specific tones\n  const getTones = (platform) => {\n    const baseTones = [\n      { value: 'engaging', label: t('socialMedia.tones.engaging'), icon: '🎯', description: t('socialMedia.descriptions.engaging') },\n      { value: 'professional', label: t('socialMedia.tones.professional'), icon: '💼', description: t('socialMedia.descriptions.professional') },\n      { value: 'casual', label: t('socialMedia.tones.casual'), icon: '😊', description: t('socialMedia.descriptions.casual') },\n      { value: 'humorous', label: t('socialMedia.tones.humorous'), icon: '😂', description: t('socialMedia.descriptions.humorous') },\n      { value: 'inspirational', label: t('socialMedia.tones.inspirational'), icon: '✨', description: t('socialMedia.descriptions.inspirationalTone') },\n      { value: 'educational', label: t('socialMedia.tones.educational'), icon: '📚', description: t('socialMedia.descriptions.educationalTone') },\n      { value: 'empathetic', label: t('socialMedia.tones.empathetic'), icon: '🤗', description: t('socialMedia.descriptions.empathetic') },\n      { value: 'authoritative', label: t('socialMedia.tones.authoritative'), icon: '👑', description: t('socialMedia.descriptions.authoritative') }\n    ];\n\n    const platformSpecific = {\n      facebook: [\n        { value: 'friendly', label: t('socialMedia.platformSpecific.tones.facebook.friendly'), icon: '😊', description: t('socialMedia.platformSpecific.descriptions.tones.friendly') },\n        { value: 'community-focused', label: t('socialMedia.platformSpecific.tones.facebook.communityFocused'), icon: '🏘️', description: t('socialMedia.platformSpecific.descriptions.tones.communityFocused') }\n      ],\n      instagram: [\n        { value: 'aesthetic', label: t('socialMedia.platformSpecific.tones.instagram.aesthetic'), icon: '🎨', description: t('socialMedia.platformSpecific.descriptions.tones.aesthetic') },\n        { value: 'trendy', label: t('socialMedia.platformSpecific.tones.instagram.trendy'), icon: '🔥', description: t('socialMedia.platformSpecific.descriptions.tones.trendy') }\n      ],\n      linkedin: [\n        { value: 'executive', label: t('socialMedia.platformSpecific.tones.linkedin.executive'), icon: '🎯', description: t('socialMedia.platformSpecific.descriptions.tones.executive') },\n        { value: 'mentoring', label: t('socialMedia.platformSpecific.tones.linkedin.mentoring'), icon: '🤝', description: t('socialMedia.platformSpecific.descriptions.tones.mentoring') }\n      ]\n    };\n\n    return [...baseTones, ...(platformSpecific[platform] || [])];\n  };\n\n  // Platform-specific audiences\n  const getAudiences = (platform) => {\n    const baseAudiences = [\n      { value: 'general', label: t('socialMedia.audiences.general'), icon: '👥', description: t('socialMedia.descriptions.generalAudience') },\n      { value: 'business', label: t('socialMedia.audiences.business'), icon: '🏢', description: t('socialMedia.descriptions.businessAudience') },\n      { value: 'youth', label: t('socialMedia.audiences.youth'), icon: '👨‍🎓', description: t('socialMedia.descriptions.youthAudience') },\n      { value: 'parents', label: t('socialMedia.audiences.parents'), icon: '👨‍👩‍👧‍👦', description: t('socialMedia.descriptions.parentsAudience') },\n      { value: 'professionals', label: t('socialMedia.audiences.professionals'), icon: '👔', description: t('socialMedia.descriptions.professionalsAudience') },\n      { value: 'creatives', label: t('socialMedia.audiences.creatives'), icon: '🎨', description: t('socialMedia.descriptions.creativesAudience') },\n      { value: 'seniors', label: t('socialMedia.audiences.seniors'), icon: '👴', description: t('socialMedia.descriptions.seniorsAudience') },\n      { value: 'local', label: t('socialMedia.audiences.local'), icon: '🏘️', description: t('socialMedia.descriptions.localCommunity') }\n    ];\n\n    const platformSpecific = {\n      facebook: [\n        { value: 'friends-family', label: t('socialMedia.platformSpecific.audiences.facebook.friendsFamily'), icon: '👨‍👩‍👧‍👦', description: t('socialMedia.platformSpecific.descriptions.audiences.friendsFamily') },\n        { value: 'local-community', label: t('socialMedia.platformSpecific.audiences.facebook.localCommunity'), icon: '🏘️', description: t('socialMedia.platformSpecific.descriptions.audiences.localCommunity') },\n        { value: 'interest-groups', label: t('socialMedia.platformSpecific.audiences.facebook.interestGroups'), icon: '🎯', description: t('socialMedia.platformSpecific.descriptions.audiences.interestGroups') }\n      ],\n      instagram: [\n        { value: 'visual-creators', label: t('socialMedia.platformSpecific.audiences.instagram.visualCreators'), icon: '📸', description: t('socialMedia.platformSpecific.descriptions.audiences.visualCreators') },\n        { value: 'lifestyle-enthusiasts', label: t('socialMedia.platformSpecific.audiences.instagram.lifestyleEnthusiasts'), icon: '✨', description: t('socialMedia.platformSpecific.descriptions.audiences.lifestyleEnthusiasts') },\n        { value: 'young-professionals', label: t('socialMedia.platformSpecific.audiences.instagram.youngProfessionals'), icon: '💼', description: t('socialMedia.platformSpecific.descriptions.audiences.youngProfessionals') }\n      ],\n      linkedin: [\n        { value: 'industry-leaders', label: t('socialMedia.platformSpecific.audiences.linkedin.industryLeaders'), icon: '👑', description: t('socialMedia.platformSpecific.descriptions.audiences.industryLeaders') },\n        { value: 'job-seekers', label: t('socialMedia.platformSpecific.audiences.linkedin.jobSeekers'), icon: '🔍', description: t('socialMedia.platformSpecific.descriptions.audiences.jobSeekers') },\n        { value: 'decision-makers', label: t('socialMedia.platformSpecific.audiences.linkedin.decisionMakers'), icon: '🎯', description: t('socialMedia.platformSpecific.descriptions.audiences.decisionMakers') }\n      ]\n    };\n\n    return [...baseAudiences, ...(platformSpecific[platform] || [])];\n  };\n\n  // Dynamic options based on selected platform\n  const postTypes = getPostTypes(platform);\n  const contentStructures = getContentStructures(platform);\n  const engagementGoals = getEngagementGoals(platform);\n  const tones = getTones(platform);\n  const audiences = getAudiences(platform);\n\n  // Calculate target length based on all factors\n  const calculateTargetLength = () => {\n    const currentContentLengths = getContentLengths(platform);\n    const selectedLength = currentContentLengths.find(cl => cl.value === contentLength);\n    let baseLength = selectedLength?.targetWords || customLength;\n    \n    // Adjust based on platform\n    const selectedPlatform = platforms.find(p => p.value === platform);\n    const platformMax = selectedPlatform?.maxLength || 1000;\n    const platformOptimal = Math.min(platformMax * 0.1, 80); // 10% of max or 80 words\n    \n    // Adjust based on brand voice intensity\n    const voiceMultiplier = {\n      subtle: 0.8,\n      moderate: 1.0,\n      strong: 1.2,\n      dominant: 1.4\n    }[brandVoiceIntensity] || 1.0;\n    \n    // Adjust based on engagement urgency\n    const urgencyMultiplier = {\n      low: 0.7,\n      normal: 1.0,\n      high: 1.3,\n      urgent: 1.6\n    }[engagementUrgency] || 1.0;\n    \n    // Adjust based on situation\n    const situationMultiplier = {\n      general: 1.0,\n      promotional: 1.1,\n      crisis: 1.3,\n      celebration: 1.2,\n      educational: 1.4,\n      community: 1.1,\n      trending: 0.9,\n      seasonal: 1.0\n    }[situation] || 1.0;\n    \n    // Calculate final target length\n    let targetLength = baseLength * voiceMultiplier * urgencyMultiplier * situationMultiplier;\n    \n    // Ensure it doesn't exceed platform limits\n    targetLength = Math.min(targetLength, platformOptimal);\n    \n    // Ensure minimum length\n    targetLength = Math.max(targetLength, 20);\n    \n    return Math.round(targetLength);\n  };\n\n  const generateContent = async () => {\n    if (!content.trim()) {\n      setError(t('socialMedia.pleaseEnterContent'));\n      return;\n    }\n\n    setIsGenerating(true);\n    setError('');\n    setEnhancedContent('');\n    setQualityAnalysis(null);\n    setShowOriginalContent(false);\n    setShowComparison(false);\n\n    try {\n      const targetLength = calculateTargetLength();\n      const minWords = targetLength;\n      const maxWords = Math.round(targetLength * 1.2);\n      \n      // Enhanced prompt focusing on relevance, precision, and clarity (no markdown, emojis, or unnecessary marks)\n      let enhancedPrompt;\n      if (platform === 'linkedin') {\n        enhancedPrompt = `You are an expert LinkedIn content creator. Your goal is to write a post that is:\\n\\n- Professional, concise, and clear\\n- Delivers a strong message or insight relevant to business or career\\n- Uses **bold** and *italics* for emphasis (but do not overuse)\\n- Includes a few professional and relevant icons/emojis (e.g., 🚀, 🤝, 🛠️, 📈, 💡, 🏆, 📣) to enhance engagement and visual appeal (but do not overuse)\\n- May include a relevant analogy or a touch of tasteful humor, but only if it is appropriate and enhances the message\\n- Structured for LinkedIn: a strong opening, a clear point, and a call to action or reflection\\n- Follows LinkedIn's markdown formatting (bold, italics)\\n\\nORIGINAL CONTENT TO ENHANCE:\\n${content}\\n\\nINSTRUCTIONS:\\n1. Transform this into a LinkedIn-optimized post that is concise, clear, and professional.\\n2. Use the professional tone as the base. Only include a witty line, analogy, or light-hearted touch if it is appropriate and enhances the message.\\n3. Use **bold** and *italics* for emphasis where appropriate, but do not overuse.\\n4. Add a few professional and relevant icons/emojis (e.g., 🚀, 🤝, 🛠️, 📈, 💡, 🏆, 📣) to enhance engagement and visual appeal, but do not overuse.\\n5. Avoid filler, repetition, or generic statements.\\n6. Do not use informal language or slang.\\n7. Output only the post text, nothing else, using LinkedIn markdown formatting.`;\n      } else {\n        enhancedPrompt = `You are an expert social media content creator specializing in ${platform} posts. Your goal is to create content that is:\\n\\n**RELEVANCE & PRECISION:**\\n- Only include information that is directly relevant to the main message\\n- Remove any unnecessary, off-topic, or verbose content\\n- Be concise and precise in your wording\\n- Avoid filler, repetition, or generic statements\\n\\n**CLARITY:**\\n- Use simple, direct language that anyone can understand\\n- Structure content with a clear beginning, middle, and end\\n- Make each sentence build naturally on the previous one\\n\\n**FORMATTING:**\\n${platform === 'instagram' ? `\\n**INSTAGRAM-SPECIFIC FORMATTING:**\\n- Use emojis strategically to make content visually appealing and engaging\\n- Include 3-5 relevant hashtags at the end of the post\\n- Use bullet points (•) only if the content naturally fits a list (e.g., tips, steps, highlights)\\n- For other content, use short paragraphs and line breaks for clarity and visual appeal\\n- Use bold formatting (**text**) for emphasis on important points\\n- Include call-to-action emojis (👉 🎯 💡 ✨ 🔥) to encourage engagement\\n- Use food, lifestyle, and aesthetic emojis relevant to the content\\n- Keep paragraphs short (2-3 lines max) for mobile viewing\\n- End with a compelling call-to-action and relevant hashtags` : `\\n- Do NOT Over use markdown, emojis, or any unnecessary formatting or symbols\\n- Do NOT Over use bullet points, numbered lists, or headings\\n- Write as a single, well-structured paragraph or two\\n- Do NOT include hashtags in the main content (they will be added separately)`}\\n\\n**CONTENT STRUCTURE:**\\n- Platform: ${platform} (${postType} post)\\n- Content structure: ${contentStructure}\\n- Engagement goal: ${engagementGoal}\\n- Brand voice intensity: ${brandVoiceIntensity}\\n- Situation context: ${situation}\\n\\n**ORIGINAL CONTENT TO ENHANCE:**\\n${content}\\n\\n**INSTRUCTIONS:**\\n1. Transform this into a ${platform}-optimized post that is concise, relevant, and precise\\n2. Remove any irrelevant or unnecessary information\\n3. Use the ${tone} tone consistently\\n4. Target ${targetAudience} audience specifically\\n5. Focus on ${engagementGoal} as the primary goal\\n6. Ensure every sentence flows logically to the next\\n7. Make the content immediately understandable and relatable\\n8. End with a clear call-to-action that fits the ${engagementGoal}\\n${platform === 'instagram' ? `\\n9. **INSTAGRAM ENHANCEMENTS:**\\n   - Use bullet points (•) only if the content naturally fits a list (e.g., tips, steps)\\n   - Otherwise, use short paragraphs and line breaks for structure\\n   - Include bold formatting (**text**) for emphasis\\n   - Add 3-5 relevant hashtags at the end\\n   - Use line breaks to create visual appeal\\n   - Include engagement emojis (💬 ❤️ 🔥 ✨) in call-to-action\\n   - Make it visually appealing for Instagram's aesthetic-focused audience` : ''}\\n\\n**LENGTH REQUIREMENT:**\\n- Write a comprehensive post of at least ${minWords} words, but not more than ${maxWords} words.\\n- The post should be in-depth, detailed, and provide substantial value to the reader.\\n- Do NOT stop early; ensure the post meets the minimum word count.\\n\\n**QUALITY REQUIREMENTS:**\\n- Relevance: Every detail should matter to the target audience\\n- Precision: No filler, no off-topic content\\n- Clarity: Use simple, powerful words that convey meaning instantly\\n- Engagement: Encourage interaction and sharing\\n- Authenticity: Make it feel genuine and personal, not generic\\n${platform === 'instagram' ? '- Visual Appeal: Use emojis and formatting to make it Instagram-worthy' : '- NO MARKDOWN, NO EMOJIS, NO SYMBOLS, NO BULLETS, NO HEADINGS'}\\n\\nGenerate a post that is concise, relevant, and precise${platform === 'instagram' ? ', with strategic emojis, and only use bullet points for real lists. Otherwise, use short paragraphs and line breaks for Instagram engagement' : ', with no markdown, emojis, or unnecessary marks'}. Output only the post text, nothing else.`;\n      }\n\n      // Force production URL if we're on Netlify\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      \n      const response = await fetch(`${baseURL}/llama`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text: enhancedPrompt,\n          useCase: 'social_media'\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        // Clean up markdown, emojis, and unnecessary marks from the generated content\n        let generatedContent = data.response;\n        \n        // DEBUG: Log the raw response from LLM\n        console.log('🔍 DEBUG: Raw LLM response:', data.response);\n        console.log('🔍 DEBUG: Response length:', data.response.length);\n        console.log('🔍 DEBUG: Response type:', typeof data.response);\n        \n        if (platform === 'instagram') {\n          // For Instagram, preserve emojis, bullet points, and hashtags\n          generatedContent = generatedContent\n            // Remove markdown code blocks\n            .replace(/```[\\s\\S]*?```/g, '')\n            // Remove inline code\n            .replace(/`([^`]+)`/g, '$1')\n            // Remove markdown links but keep text\n            .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n            // Remove markdown images but keep alt text\n            .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n            // Remove markdown emphasis but keep text\n            .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n            .replace(/\\*([^*]+)\\*/g, '$1')\n            .replace(/__([^_]+)__/g, '$1')\n            .replace(/_([^_]+)_/g, '$1')\n            // Remove markdown strikethrough\n            .replace(/~~([^~]+)~~/g, '$1')\n            // Remove markdown blockquotes\n            .replace(/^>\\s*/gm, '')\n            // Remove markdown horizontal rules\n            .replace(/^[-*_]{3,}$/gm, '')\n            // Remove markdown table syntax\n            .replace(/^\\|.*\\|$/gm, '')\n            // Remove numbered lists but keep bullet points\n            .replace(/^\\d+\\.\\s*/gm, '')\n            // Remove headings\n            .replace(/^#+\\s*/gm, '')\n            // Remove extra whitespace but preserve line breaks\n            .replace(/\\n{3,}/g, '\\n\\n')\n            .replace(/ {2,}/g, ' ')\n            .trim();\n\n          // Remove unnecessary bullet points: if every line starts with a bullet but it's not a real list, convert to paragraphs\n          const lines = generatedContent.split('\\n');\n          const bulletLines = lines.filter(line => line.trim().startsWith('•')).length;\n          if (bulletLines > 0 && bulletLines >= lines.length * 0.7) {\n            // If most lines are bullets, flatten to paragraphs\n            generatedContent = lines.map(line => line.trim().replace(/^•\\s*/, '')).join('\\n');\n          }\n        } else {\n          // For other platforms, remove all formatting\n          generatedContent = generatedContent\n            // Remove markdown code blocks\n            .replace(/```[\\s\\S]*?```/g, '')\n            // Remove inline code\n            .replace(/`([^`]+)`/g, '$1')\n            // Remove markdown links but keep text\n            .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n            // Remove markdown images but keep alt text\n            .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n            // Remove markdown emphasis but keep text\n            .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n            .replace(/\\*([^*]+)\\*/g, '$1')\n            .replace(/__([^_]+)__/g, '$1')\n            .replace(/_([^_]+)_/g, '$1')\n            // Remove markdown strikethrough\n            .replace(/~~([^~]+)~~/g, '$1')\n            // Remove markdown blockquotes\n            .replace(/^>\\s*/gm, '')\n            // Remove markdown horizontal rules\n            .replace(/^[-*_]{3,}$/gm, '')\n            // Remove markdown table syntax\n            .replace(/^\\|.*\\|$/gm, '')\n            // Remove bullet points and numbered lists\n            .replace(/^[-*•]\\s*/gm, '')\n            .replace(/^\\d+\\.\\s*/gm, '')\n            // Remove headings\n            .replace(/^#+\\s*/gm, '')\n            // Remove emojis and symbols\n            .replace(/[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}\\u{1F900}-\\u{1F9FF}\\u{1FA70}-\\u{1FAFF}\\u{1F1E6}-\\u{1F1FF}\\u{1F191}-\\u{1F251}\\u{1F004}\\u{1F0CF}\\u{1F170}-\\u{1F171}\\u{1F17E}-\\u{1F17F}\\u{1F18E}\\u{3030}\\u{2B50}\\u{2B06}\\u{2194}-\\u{21AA}\\u{2934}-\\u{2935}\\u{25AA}-\\u{25AB}\\u{25FE}-\\u{25FF}\\u{25B6}\\u{25C0}\\u{25FB}-\\u{25FC}\\u{25FD}-\\u{25FE}\\u{25A0}-\\u{25A1}\\u{25B2}-\\u{25B3}\\u{25BC}-\\u{25BD}\\u{25C6}-\\u{25C7}\\u{25CB}-\\u{25CC}\\u{25D0}-\\u{25D1}\\u{25E2}-\\u{25E5}\\u{25EF}]/gu, '')\n            // Remove extra whitespace\n            .replace(/\\n{3,}/g, '\\n\\n')\n            .replace(/ {2,}/g, ' ')\n            .trim();\n        }\n        \n        // DEBUG: Log the cleaned content\n        console.log('🔍 DEBUG: Cleaned content:', generatedContent);\n        console.log('🔍 DEBUG: Cleaned content length:', generatedContent.length);\n        console.log('🔍 DEBUG: Is content empty?', !generatedContent.trim());\n        \n        // FALLBACK: If cleaning results in empty content, use the original\n        if (!generatedContent.trim()) {\n          console.warn('⚠️ WARNING: Cleaning resulted in empty content. Using original response.');\n          setError(t('socialMedia.generatedContentEmpty'));\n          setEnhancedContent(data.response);\n        } else {\n          setEnhancedContent(generatedContent);\n        }\n        \n        // Add to generation history\n        const historyItem = {\n          original: content,\n          enhanced: generatedContent,\n          platform,\n          postType,\n          tone,\n          targetAudience,\n          contentStructure,\n          engagementGoal,\n          length: targetLength,\n          brandVoiceIntensity,\n          situation,\n          timestamp: new Date().toISOString()\n        };\n        \n        setGenerationHistory(prev => [\n          { ...historyItem, id: Date.now() },\n          ...prev.slice(0, 9)\n        ]);\n        \n        // Save to backend\n        savePostToBackend(historyItem);\n        \n        // Analyze quality with focus on coherence and relevance\n        await analyzeQuality(generatedContent);\n      } else {\n        setError(data.error || t('socialMedia.failedToGenerate'));\n      }\n    } catch (err) {\n      console.error('Generation error:', err);\n      setError(t('socialMedia.networkError'));\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const analyzeQuality = async (text) => {\n    if (!text.trim()) return;\n\n    try {\n      // Force production URL if we're on Netlify\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      \n      // Use the correct endpoint and payload for quality analysis\n      const response = await fetch(`${baseURL}/analyze-response-quality`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          response: text,\n          contentType: 'facebook_post',\n          context: {\n            platform,\n            targetAudience,\n            tone,\n            engagementGoal,\n            contentStructure,\n            postType,\n            brandVoiceIntensity,\n            engagementUrgency,\n            situation,\n            targetLength: calculateTargetLength()\n          }\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success && data.qualityAnalysis) {\n        setQualityAnalysis(data.qualityAnalysis);\n      } else {\n        setQualityAnalysis(null);\n        console.warn('Quality analysis failed:', data.error);\n      }\n    } catch (err) {\n      console.error('Quality analysis error:', err);\n      setQualityAnalysis(null);\n    }\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    alert(t('socialMedia.contentCopied'));\n  };\n\n  // Function to format Instagram content for preview\n  const formatInstagramContent = (content) => {\n    // Split content into main content and hashtags\n    const lines = content.split('\\n');\n    const hashtagLines = [];\n    const mainContent = [];\n    \n    lines.forEach(line => {\n      if (line.trim().startsWith('#')) {\n        hashtagLines.push(line.trim());\n      } else {\n        mainContent.push(line);\n      }\n    });\n    \n    const mainText = mainContent.join('\\n');\n    const hashtags = hashtagLines.join(' ');\n    \n    // Format bullet points\n    let formattedContent = mainText\n      .replace(/^•\\s*/gm, '<div class=\"bullet-item\"><span class=\"bullet-icon\">•</span>')\n      .replace(/\\n/g, '</div>\\n<div class=\"bullet-item\"><span class=\"bullet-icon\">•</span>');\n    \n    // Add hashtags section if present\n    if (hashtags) {\n      formattedContent += `<div class=\"hashtags\">${hashtags}</div>`;\n    }\n    \n    return formattedContent;\n  };\n\n  // Function to open preview in new window\n  const openPreviewWindow = (content, platform, postType, tone, targetAudience) => {\n    const platformInfo = platforms.find(p => p.value === platform);\n    const postTypeInfo = postTypes.find(pt => pt.value === postType);\n    const toneInfo = tones.find(t => t.value === tone);\n    const audienceInfo = audiences.find(a => a.value === targetAudience);\n    \n    // Platform-specific preview HTML\n    let platformPreview = '';\n    if (platform === 'facebook') {\n      platformPreview = `\n        <div style=\"background:#f0f2f5;border-radius:12px;padding:20px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;position:relative;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e4e6ea;max-width:420px;margin:0 auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:linear-gradient(135deg,#1877f2 0%,#42a5f5 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;font-weight:600;box-shadow:0 2px 8px rgba(24,119,242,0.3);\">👤</div>\n            <div style=\"flex:1;\">\n              <div style=\"font-size:16px;font-weight:600;color:#050505;margin-bottom:2px;\">${t('socialMedia.yourPageName')}</div>\n              <div style=\"font-size:13px;color:#65676b;display:flex:align-items:center;gap:4px;\">\n                <span>${t('socialMedia.justNow')}</span><span>•</span><span>${toneInfo?.icon || '🎭'} ${toneInfo?.label || ''}</span><span>•</span><span>🌍</span>\n            </div>\n                </div>\n            <div style=\"font-size:20px;color:#65676b;cursor:pointer;padding:4px;border-radius:50%;\">⋯</div>\n                </div>\n          <div style=\"font-size:15px;line-height:1.4;color:#050505;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;padding:12px;background:white;border-radius:8px;border:1px solid #e4e6ea;\">${content.replace(/\\n/g, '<br/>')}</div>\n          <div style=\"display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #e4e6ea;font-size:15px;color:#65676b;\">\n            <div style=\"display:flex;align-items:center;gap:16px;\">\n              <span>👍 ${t('socialMedia.like')}</span><span>💬 ${t('socialMedia.comment')}</span><span>🔄 ${t('socialMedia.share')}</span>\n                </div>\n            <div style=\"font-size:13px;color:#65676b;\">0 ${t('socialMedia.comments')} • 0 ${t('socialMedia.shares')}</div>\n            </div>\n        </div>\n      `;\n    } else if (platform === 'instagram') {\n      // Use formatInstagramContent for hashtags/bullets\n      const formatted = formatInstagramContent(content);\n      platformPreview = `\n        <div style=\"background:#fff;border-radius:12px;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #dbdbdb;box-shadow:0 2px 8px rgba(0,0,0,0.1);max-width:400px;margin:0 auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;padding:16px;border-bottom:1px solid #dbdbdb;\">\n            <div style=\"width:32px;height:32px;background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:14px;\">📸</div>\n            <div style=\"flex:1;\"><div style=\"font-size:14px;font-weight:600;color:#262626;\">${t('socialMedia.yourUsername')}</div></div>\n            <div style=\"font-size:18px;color:#262626;cursor:pointer;padding:4px;border-radius:50%;\">⋯</div>\n                </div>\n          <div style=\"width:100%;height:300px;background:linear-gradient(135deg,#fdf2f8 0%,#fce7f3 100%);display:flex;align-items:center;justify-content:center;font-size:48px;color:#ec4899;border-bottom:1px solid #dbdbdb;\">📷</div>\n          <div style=\"display:flex;align-items:center;gap:16px;padding:12px 16px;border-bottom:1px solid #dbdbdb;\">\n            <span style=\"font-size:24px;\">❤️</span><span style=\"font-size:24px;\">💬</span><span style=\"font-size:24px;\">📤</span><span style=\"font-size:24px;margin-left:auto;\">🔖</span>\n                </div>\n          <div style=\"padding:12px 16px;font-size:14px;line-height:1.5;color:#262626;white-space:pre-wrap;word-wrap:break-word;\">\n            <div style=\"margin-bottom:8px;\"><span style=\"font-weight:600;color:#262626;\">${t('socialMedia.yourUsername')}</span><span style=\"margin-left:8px;\">${formatted}</span></div>\n            </div>\n        </div>\n      `;\n    } else if (platform === 'linkedin') {\n      platformPreview = `\n        <div style=\"background:#fff;border-radius:12px;padding:20px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #e0e0e0;max-width:420px;margin:0 auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:#0077b5;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;\">💼</div>\n            <div><div style=\"font-size:16px;font-weight:600;color:#191919;margin-bottom:2px;\">${t('socialMedia.yourName')}</div><div style=\"font-size:14px;color:#666;margin-bottom:2px;\">${t('socialMedia.yourTitleAtCompany')}</div><div style=\"font-size:12px;color:#666;\">${t('socialMedia.now')} • ${toneInfo?.icon || '🎭'} ${toneInfo?.label || ''}</div></div>\n          </div>\n          <div style=\"font-size:16px;line-height:1.5;color:#191919;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${content.replace(/\\n/g, '<br/>')}</div>\n          <div style=\"display:flex;align-items:center;gap:24px;padding-top:16px;border-top:1px solid #e0e0e0;font-size:14px;color:#666;\">\n            <span>👍 ${t('socialMedia.like')}</span><span>💬 ${t('socialMedia.comment')}</span><span>🔄 ${t('socialMedia.repost')}</span><span>📤 ${t('socialMedia.send')}</span>\n          </div>\n        </div>\n      `;\n    } else if (platform === 'twitter') {\n      platformPreview = `\n        <div style=\"background:#fff;border-radius:12px;padding:16px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;border:1px solid #e1e8ed;max-width:420px;margin:0 auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:48px;height:48px;background:#1da1f2;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;\">🐦</div>\n            <div><div style=\"font-size:15px;font-weight:700;color:#14171a;margin-bottom:2px;\">${t('socialMedia.yourName')}</div><div style=\"font-size:14px;color:#657786;display:flex:align-items:center;gap:4px;\"><span>@${t('socialMedia.yourHandle')}</span><span>•</span><span>${t('socialMedia.now')}</span></div></div>\n          </div>\n          <div style=\"font-size:15px;line-height:1.4;color:#14171a;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${content.replace(/\\n/g, '<br/>')}</div>\n          <div style=\"display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #e1e8ed;font-size:16px;color:#657786;\">\n            <span>💬 0</span><span>🔄 0</span><span>❤️ 0</span><span>📤</span>\n          </div>\n        </div>\n      `;\n    } else if (platform === 'tiktok') {\n      platformPreview = `\n        <div style=\"background:#000;border-radius:12px;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white;position:relative;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,0.3);max-width:300px;margin:0 auto;\">\n          <div style=\"width:100%;height:400px;background:linear-gradient(45deg,#ff0050,#00f2ea);display:flex;align-items:center;justify-content:center;font-size:64px;position:relative;\">\n            <div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;background:rgba(255,255,255,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px;color:#ff0050;\">▶️</div>\n          </div>\n          <div style=\"position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(0,0,0,0.8));padding:20px 16px 80px 16px;\">\n            <div style=\"font-size:16px;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;margin-bottom:12px;max-width:280px;\">${content.replace(/\\n/g, '<br/>')}</div>\n            <div style=\"font-size:14px;color:#00f2ea;margin-bottom:12px;\">${t('socialMedia.tiktokHashtags')}</div>\n          </div>\n          <div style=\"position:absolute;top:16px;left:16px;right:16px;display:flex;align-items:center;justify-content:space-between;\">\n            <div style=\"display:flex;align-items:center;gap:8px;\">\n              <div style=\"width:32px;height:32px;background:linear-gradient(45deg,#ff0050,#00f2ea);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;\">🎵</div>\n              <div><div style=\"font-size:14px;font-weight:600;margin-bottom:2px;\">@${t('socialMedia.yourUsername')}</div><div style=\"font-size:12px;color:#ccc;\">${t('socialMedia.originalSound')}</div></div>\n            </div>\n            <span style=\"font-size:20px;\">⋯</span>\n          </div>\n          <div style=\"position:absolute;right:16px;bottom:100px;display:flex;flex-direction:column;align-items:center;gap:16px;\">\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">❤️</span><div style=\"font-size:12px;margin-top:4px;\">0</div></div>\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">💬</span><div style=\"font-size:12px;margin-top:4px;\">0</div></div>\n            <div style=\"text-align:center;\"><span style=\"font-size:32px;\">📤</span><div style=\"font-size:12px;margin-top:4px;\">${t('socialMedia.share')}</div></div>\n          </div>\n        </div>\n      `;\n    } else if (platform === 'youtube') {\n      platformPreview = `\n        <div style=\"background:#fff;border-radius:12px;padding:16px;font-family:Roboto,Arial,sans-serif;border:1px solid #e5e5e5;max-width:420px;margin:0 auto;\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:40px;height:40px;background:#ff0000;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:18px;\">📺</div>\n            <div><div style=\"font-size:16px;font-weight:500;color:#030303;margin-bottom:2px;\">${t('socialMedia.yourChannelName')}</div><div style=\"font-size:14px;color:#606060;\">${new Date().toLocaleDateString()} • ${toneInfo?.icon || '🎭'} ${toneInfo?.label || ''}</div></div>\n          </div>\n          <div style=\"font-size:14px;line-height:1.4;color:#030303;white-space:pre-wrap;word-wrap:break-word;margin-bottom:16px;\">${content.replace(/\\n/g, '<br/>')}</div>\n          <div style=\"display:flex;align-items:center;gap:16px;padding-top:12px;border-top:1px solid #e5e5e5;font-size:14px;color:#606060;\">\n            <span>👍 0</span><span>👎 0</span><span>💬 0 ${t('socialMedia.comments')}</span><span>📤 ${t('socialMedia.share')}</span>\n          </div>\n        </div>\n      `;\n    } else {\n      // fallback generic\n      platformPreview = `<div style=\"background:white;border-radius:16px;padding:24px;box-shadow:0 8px 32px rgba(0,0,0,0.1);border:1px solid #e2e8f0;\">${content.replace(/\\n/g, '<br/>')}</div>`;\n    }\n\n    const previewHTML = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${platformInfo?.label || 'Social Media'} Post Preview</title>\n    <style>\n        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }\n        .preview-actions { padding: 24px; background: white; display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }\n        .action-btn { background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; transition: all 0.2s ease; }\n        .action-btn:hover { background: #5a67d8; transform: translateY(-1px); }\n        .action-btn.secondary { background: #e2e8f0; color: #4a5568; }\n        .action-btn.secondary:hover { background: #cbd5e0; }\n        @media (max-width: 600px) { .preview-actions { padding: 20px; flex-direction: column; } }\n    </style>\n</head>\n<body>\n    <div>\n      ${platformPreview}\n        <div class=\"preview-actions\">\n        <button id=\"copy-btn\" class=\"action-btn\">📋 ${t('socialMedia.copyPost')}</button>\n        <button id=\"close-btn\" class=\"action-btn secondary\">✖ ${t('socialMedia.closeWindow')}</button>\n        </div>\n    </div>\n    <script>\n        function copyToClipboard() {\n            const content = \\`${content.replace(/`/g, '\\\\`')}\\`;\n            navigator.clipboard.writeText(content).then(() => {\n                alert('Post copied to clipboard!');\n            }).catch(() => {\n                const textArea = document.createElement('textarea');\n                textArea.value = content;\n                document.body.appendChild(textArea);\n                textArea.select();\n                document.execCommand('copy');\n                document.body.removeChild(textArea);\n                alert('Post copied to clipboard!');\n            });\n        }\n        function closeWindow() { window.close(); }\n        document.getElementById('copy-btn').addEventListener('click', copyToClipboard);\n        document.getElementById('close-btn').addEventListener('click', closeWindow);\n        document.addEventListener('keydown', (e) => {\n            if (e.ctrlKey || e.metaKey) {\n                if (e.key === 'c') { e.preventDefault(); copyToClipboard(); }\n                else if (e.key === 'w') { e.preventDefault(); closeWindow(); }\n            }\n        });\n    </script>\n</body>\n</html>`;\n\n    const newWindow = window.open('', '_blank', 'width=600,height=800,scrollbars=yes,resizable=yes');\n    newWindow.document.write(previewHTML);\n    newWindow.document.close();\n  };\n\n  const clearAll = () => {\n    setContent('');\n    setEnhancedContent('');\n    setError('');\n    setQualityAnalysis(null);\n    setGenerationHistory([]);\n    setShowAdvancedOptions(false);\n    setShowSuggestions(false);\n    setSelectedSuggestion('');\n    setShowOriginalContent(false);\n    setShowComparison(false);\n  };\n\n  // Show suggestions automatically when content is empty\n  useEffect(() => {\n    if (!content.trim() && !showSuggestions) {\n      setShowSuggestions(true);\n    }\n  }, [content, showSuggestions]);\n\n  const getPlatformIcon = (platformValue) => {\n    return platforms.find(p => p.value === platformValue)?.icon || '📱';\n  };\n\n  const getToneIcon = (toneValue) => {\n    return tones.find(t => t.value === toneValue)?.icon || '💬';\n  };\n\n  const getAudienceIcon = (audienceValue) => {\n    return audiences.find(a => a.value === audienceValue)?.icon || '👥';\n  };\n\n  const getQualityColor = (score) => {\n    if (score >= 0.8) return '#10b981';\n    if (score >= 0.6) return '#f59e0b';\n    return '#ef4444';\n  };\n\n  const getQualityLabel = (score) => {\n    if (score >= 0.8) return t('socialMedia.quality.excellent');\n    if (score >= 0.6) return t('socialMedia.quality.good');\n    if (score >= 0.4) return t('socialMedia.quality.fair');\n    return t('socialMedia.quality.poor');\n  };\n\n  // Calculate derived values for display\n  const selectedPlatform = platforms.find(p => p.value === platform);\n  const characterCount = enhancedContent.length;\n  const isOverLimit = characterCount > (selectedPlatform?.maxLength || 1000);\n\n  // Follow-up question suggestions based on user selections\n  const getFollowUpSuggestions = () => {\n    const suggestions = {\n      general: t('socialMedia.suggestions.postTypes.general', { returnObjects: true }),\n      promotional: t('socialMedia.suggestions.postTypes.promotional', { returnObjects: true }),\n      educational: t('socialMedia.suggestions.postTypes.educational', { returnObjects: true }),\n      community: t('socialMedia.suggestions.postTypes.community', { returnObjects: true }),\n      celebration: t('socialMedia.suggestions.postTypes.celebration', { returnObjects: true }),\n      trending: t('socialMedia.suggestions.postTypes.trending', { returnObjects: true }),\n      seasonal: t('socialMedia.suggestions.postTypes.seasonal', { returnObjects: true }),\n      crisis: t('socialMedia.suggestions.postTypes.crisis', { returnObjects: true })\n    };\n\n    // Get suggestions based on post type and situation\n    const postTypeSuggestions = suggestions[postType] || suggestions.general;\n    const situationSuggestions = suggestions[situation] || suggestions.general;\n    \n    // Add content structure specific suggestions\n    const structureSuggestions = {\n      story: t('socialMedia.suggestions.contentStructures.story', { returnObjects: true }),\n      'problem-solution': t('socialMedia.suggestions.contentStructures.problemSolution', { returnObjects: true }),\n      list: t('socialMedia.suggestions.contentStructures.list', { returnObjects: true }),\n      'question-answer': t('socialMedia.suggestions.contentStructures.questionAnswer', { returnObjects: true }),\n      'before-after': t('socialMedia.suggestions.contentStructures.beforeAfter', { returnObjects: true }),\n      tips: t('socialMedia.suggestions.contentStructures.tips', { returnObjects: true }),\n      quote: t('socialMedia.suggestions.contentStructures.quote', { returnObjects: true }),\n      announcement: t('socialMedia.suggestions.contentStructures.announcement', { returnObjects: true })\n    };\n\n    const structureSpecific = structureSuggestions[contentStructure] || [];\n    \n    // Add tone-specific suggestions\n    const toneSuggestions = {\n      engaging: t('socialMedia.suggestions.tones.engaging', { returnObjects: true }),\n      professional: t('socialMedia.suggestions.tones.professional', { returnObjects: true }),\n      casual: t('socialMedia.suggestions.tones.casual', { returnObjects: true }),\n      humorous: t('socialMedia.suggestions.tones.humorous', { returnObjects: true }),\n      inspirational: t('socialMedia.suggestions.tones.inspirational', { returnObjects: true }),\n      educational: t('socialMedia.suggestions.tones.educational', { returnObjects: true }),\n      empathetic: t('socialMedia.suggestions.tones.empathetic', { returnObjects: true }),\n      authoritative: t('socialMedia.suggestions.tones.authoritative', { returnObjects: true })\n    };\n\n    const toneSpecific = toneSuggestions[tone] || [];\n    \n    // Combine and remove duplicates\n    const allSuggestions = [...new Set([\n      ...postTypeSuggestions, \n      ...situationSuggestions,\n      ...structureSpecific,\n      ...toneSpecific\n    ])];\n    \n    // Add platform-specific suggestions\n    const platformSpecific = {\n      facebook: t('socialMedia.suggestions.platforms.facebook', { returnObjects: true }),\n      instagram: t('socialMedia.suggestions.platforms.instagram', { returnObjects: true }),\n      twitter: t('socialMedia.suggestions.platforms.twitter', { returnObjects: true }),\n      linkedin: t('socialMedia.suggestions.platforms.linkedin', { returnObjects: true }),\n      tiktok: t('socialMedia.suggestions.platforms.tiktok', { returnObjects: true }),\n      youtube: t('socialMedia.suggestions.platforms.youtube', { returnObjects: true })\n    };\n\n    const platformSuggestions = platformSpecific[platform] || platformSpecific.facebook;\n    \n    // Add engagement goal specific suggestions\n    const goalSuggestions = {\n      awareness: t('socialMedia.goalSuggestions.awareness', { returnObjects: true }),\n      engagement: t('socialMedia.goalSuggestions.engagement', { returnObjects: true }),\n      conversation: t('socialMedia.goalSuggestions.conversation', { returnObjects: true }),\n      education: t('socialMedia.goalSuggestions.education', { returnObjects: true }),\n      conversion: t('socialMedia.goalSuggestions.conversion', { returnObjects: true }),\n      community: t('socialMedia.goalSuggestions.community', { returnObjects: true })\n    };\n\n    const goalSpecific = goalSuggestions[engagementGoal] || [];\n    \n    return [...new Set([\n      ...allSuggestions, \n      ...platformSuggestions,\n      ...goalSpecific\n    ])].slice(0, 10); // Show top 10 most relevant suggestions\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    setSelectedSuggestion(suggestion);\n    setContent(prev => prev ? `${prev}\\n\\n${suggestion}` : suggestion);\n    setShowSuggestions(false);\n  };\n\n  const toggleSuggestions = () => {\n    setShowSuggestions(!showSuggestions);\n  };\n\n  // Function to review and clean the generated post using LLM-model\n  const reviewGeneratedContent = async (content) => {\n    setIsReviewing(true);\n    try {\n      // Use the same baseURL logic as before\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      \n      // Prompt for LLM-model to review and clean the content\n      const reviewPrompt = `Review the following ${platform} post. Remove any unnecessary, irrelevant, verbose, or off-topic content and words. Only keep what is precise, relevant, and directly serves the main message. Do not add anything new.${platform === 'instagram' ? ' Preserve emojis, bullet points (•), and hashtags as they are important for Instagram engagement.' : ' Output only the cleaned post, with no markdown, emojis, or extra formatting.'}\n\nPOST TO REVIEW:\n${content}`;\n      \n      const response = await fetch(`${baseURL}/llama`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text: reviewPrompt,\n          useCase: 'social_media'\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        let cleaned = data.response;\n        \n        if (platform === 'instagram') {\n          // For Instagram, preserve emojis, bullet points, and hashtags\n          cleaned = cleaned\n            .replace(/```[\\s\\S]*?```/g, '')\n            .replace(/`([^`]+)`/g, '$1')\n            .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n            .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n            .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n            .replace(/\\*([^*]+)\\*/g, '$1')\n            .replace(/__([^_]+)__/g, '$1')\n            .replace(/_([^_]+)_/g, '$1')\n            .replace(/~~([^~]+)~~/g, '$1')\n            .replace(/^>\\s*/gm, '')\n            .replace(/^[-*_]{3,}$/gm, '')\n            .replace(/^\\|.*\\|$/gm, '')\n            .replace(/^\\d+\\.\\s*/gm, '')\n            .replace(/^#+\\s*/gm, '')\n            .replace(/\\n{3,}/g, '\\n\\n')\n            .replace(/ {2,}/g, ' ')\n            .trim();\n        } else {\n          // For other platforms, remove all formatting\n          cleaned = cleaned\n            .replace(/```[\\s\\S]*?```/g, '')\n            .replace(/`([^`]+)`/g, '$1')\n            .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1')\n            .replace(/!\\[([^\\]]*)\\]\\([^)]+\\)/g, '$1')\n            .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\n            .replace(/\\*([^*]+)\\*/g, '$1')\n            .replace(/__([^_]+)__/g, '$1')\n            .replace(/_([^_]+)_/g, '$1')\n            .replace(/~~([^~]+)~~/g, '$1')\n            .replace(/^>\\s*/gm, '')\n            .replace(/^[-*_]{3,}$/gm, '')\n            .replace(/^\\|.*\\|$/gm, '')\n            .replace(/^[-*•]\\s*/gm, '')\n            .replace(/^\\d+\\.\\s*/gm, '')\n            .replace(/^#+\\s*/gm, '')\n            .replace(/[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}\\u{1F900}-\\u{1F9FF}\\u{1FA70}-\\u{1FAFF}\\u{1F1E6}-\\u{1F1FF}\\u{1F191}-\\u{1F251}\\u{1F004}\\u{1F0CF}\\u{1F170}-\\u{1F171}\\u{1F17E}-\\u{1F17F}\\u{1F18E}\\u{3030}\\u{2B50}\\u{2B06}\\u{2194}-\\u{21AA}\\u{2934}-\\u{2935}\\u{25AA}-\\u{25AB}\\u{25FE}-\\u{25FF}\\u{25B6}\\u{25C0}\\u{25FB}-\\u{25FC}\\u{25FD}-\\u{25FE}\\u{25A0}-\\u{25A1}\\u{25B2}-\\u{25B3}\\u{25BC}-\\u{25BD}\\u{25C6}-\\u{25C7}\\u{25CB}-\\u{25CC}\\u{25D0}-\\u{25D1}\\u{25E2}-\\u{25E5}\\u{25EF}]/gu, '')\n            .replace(/\\n{3,}/g, '\\n\\n')\n            .replace(/ {2,}/g, ' ')\n            .trim();\n        }\n        \n        setReviewedContent(cleaned);\n      } else {\n        setReviewedContent(content); // fallback\n      }\n    } catch (err) {\n      setReviewedContent(content); // fallback\n    } finally {\n      setIsReviewing(false);\n    }\n  };\n\n  // When enhancedContent changes, trigger review\n  useEffect(() => {\n    if (enhancedContent) {\n      reviewGeneratedContent(enhancedContent);\n    } else {\n      setReviewedContent('');\n    }\n  }, [enhancedContent]);\n\n  // Fetch global history from backend\n  const fetchGlobalHistory = async () => {\n    setIsHistoryLoading(true);\n    setHistoryError('');\n    try {\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      const response = await fetch(`${baseURL}/social-posts`);\n      const data = await response.json();\n      if (data.success) {\n        setGlobalHistory(data.posts || []);\n      } else {\n        setHistoryError(data.error || 'Failed to fetch global history');\n      }\n    } catch (err) {\n      setHistoryError('Network error fetching global history');\n    } finally {\n      setIsHistoryLoading(false);\n    }\n  };\n\n  // Fetch on mount\n  useEffect(() => {\n    fetchGlobalHistory();\n  }, []);\n\n  // Save new post to backend after generation\n  const savePostToBackend = async (historyItem) => {\n    try {\n      const isNetlify = window.location.hostname.includes('netlify.app') || window.location.hostname.includes('vmarketing.netlify.app');\n      const baseURL = isNetlify ? 'https://vmarketing-backend-server.onrender.com/api' : apiConfig.baseURL;\n      await fetch(`${baseURL}/social-posts`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(historyItem)\n      });\n      // Re-fetch global history after saving\n      fetchGlobalHistory();\n    } catch (err) {\n      // Optionally show error\n    }\n  };\n\n  // Helper to group history by platform (now uses globalHistory)\n  const groupHistoryByPlatform = (history) => {\n    const grouped = {};\n    history.forEach(item => {\n      if (!grouped[item.platform]) grouped[item.platform] = [];\n      grouped[item.platform].push(item);\n    });\n    return grouped;\n  };\n\n  // Handler for wizard submit (save post or trigger generation)\n  const handleWizardSubmit = () => {\n    // For now, just show an alert or call generateContent\n    generateContent();\n  };\n\n  return (\n    <div className=\"social-media-post responsive-mobile\" style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)', padding: 0 }}>\n      {/* Toggle Wizard/Advanced Mode */}\n      <div style={{ display: 'flex', justifyContent: 'center', margin: '24px 0 0 0' }}>\n        <button\n          onClick={() => setUseWizard(true)}\n          style={{ background: useWizard ? '#2563eb' : '#e5e7eb', color: useWizard ? 'white' : '#374151', border: 'none', borderRadius: 8, padding: '10px 18px', fontWeight: 700, fontSize: 15, marginRight: 8 }}\n        >\n          🧑‍🎓 {t('socialMedia.guidedMode')}\n        </button>\n        <button\n          onClick={() => setUseWizard(false)}\n          style={{ background: !useWizard ? '#2563eb' : '#e5e7eb', color: !useWizard ? 'white' : '#374151', border: 'none', borderRadius: 8, padding: '10px 18px', fontWeight: 700, fontSize: 15 }}\n        >\n          ⚡ {t('socialMedia.advancedMode')}\n        </button>\n      </div>\n      {/* Wizard UI */}\n      {useWizard && (\n        <div style={{ margin: '32px 0' }}>\n          <SocialMediaPostWizard\n            platform={platform}\n            setPlatform={setPlatform}\n            postType={postType}\n            setPostType={setPostType}\n            tone={tone}\n            setTone={setTone}\n            targetAudience={targetAudience}\n            setTargetAudience={setTargetAudience}\n            contentStructure={contentStructure}\n            setContentStructure={setContentStructure}\n            content={content}\n            setContent={setContent}\n            enhancedContent={enhancedContent}\n            setEnhancedContent={setEnhancedContent}\n            onSubmit={handleWizardSubmit}\n            // Add new props for enhancement functionality\n            isGenerating={isGenerating}\n            isReviewing={isReviewing}\n            reviewedContent={reviewedContent}\n            setReviewedContent={setReviewedContent}\n            generateContent={generateContent}\n            copyToClipboard={copyToClipboard}\n            openPreviewWindow={openPreviewWindow}\n          />\n        </div>\n      )}\n      {/* Old UI (Advanced) */}\n      {!useWizard && (\n      <div style={{ padding: '16px 8px', maxWidth: 900, margin: '0 auto' }}>\n      {/* Option/Selector UI */}\n        <div className=\"section platform-section-mobile\" style={{ marginBottom: 16 }}>\n      <SocialMediaPostOptions\n        platforms={platforms}\n        platform={platform}\n        setPlatform={setPlatform}\n        postTypes={postTypes}\n        postType={postType}\n        setPostType={setPostType}\n        tones={tones}\n        tone={tone}\n        setTone={setTone}\n        audiences={audiences}\n        targetAudience={targetAudience}\n        setTargetAudience={setTargetAudience}\n        contentStructures={contentStructures}\n        contentStructure={contentStructure}\n        setContentStructure={setContentStructure}\n        engagementGoals={engagementGoals}\n        engagementGoal={engagementGoal}\n        setEngagementGoal={setEngagementGoal}\n        contentLengths={contentLengths}\n        contentLength={contentLength}\n        setContentLength={setContentLength}\n        customLength={customLength}\n        setCustomLength={setCustomLength}\n        brandVoiceIntensities={brandVoiceIntensities}\n        brandVoiceIntensity={brandVoiceIntensity}\n        setBrandVoiceIntensity={setBrandVoiceIntensity}\n        engagementUrgencies={engagementUrgencies}\n        engagementUrgency={engagementUrgency}\n        setEngagementUrgency={setEngagementUrgency}\n        situations={situations}\n        situation={situation}\n        setSituation={setSituation}\n        showAdvancedOptions={showAdvancedOptions}\n        setShowAdvancedOptions={setShowAdvancedOptions}\n      />\n        </div>\n      {/* Content Input Section */}\n        <div className=\"section content-input-section\" style={{ marginBottom: 16 }}>\n          <div className=\"content-label\" style={{ fontSize: 18, fontWeight: 700, marginBottom: 12 }}>{t('socialMedia.enterContent')}</div>\n        <textarea\n            className=\"mobile-friendly-input\"\n          value={content}\n          onChange={e => setContent(e.target.value)}\n          placeholder={t('socialMedia.contentPlaceholder')}\n            style={{\n              width: '100%',\n              minHeight: 220,\n              fontSize: 20,\n              padding: '28px 20px',\n              marginBottom: 18,\n              border: '2.5px solid #a5b4fc',\n              borderRadius: 18,\n              background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)',\n              boxShadow: '0 6px 32px rgba(79,140,255,0.10)',\n              fontWeight: 500,\n              color: '#1e293b',\n              outline: 'none',\n              transition: 'border 0.2s, box-shadow 0.2s',\n            }}\n            onFocus={e => e.target.style.border = '2.5px solid #6366f1'}\n            onBlur={e => e.target.style.border = '2.5px solid #a5b4fc'}\n        />\n        <div className=\"content-actions\" style={{ display: 'flex', gap: 12, marginTop: 8 }}>\n          <button\n              className=\"mobile-generate-btn generate-btn\"\n            onClick={generateContent}\n              disabled={!content.trim() || isGenerating}\n              style={{ background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', color: 'white', border: 'none', borderRadius: 10, fontWeight: 700, fontSize: 16, padding: '14px 0', flex: 1 }}\n          >\n              {isGenerating ? t('socialMedia.generating') : t('socialMedia.generatePost')}\n          </button>\n          <button\n              className=\"mobile-clear-btn clear-btn\"\n            onClick={clearAll}\n              style={{ background: 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%)', color: '#4a5568', border: 'none', borderRadius: 10, fontWeight: 600, fontSize: 16, padding: '14px 0', flex: 1 }}\n          >\n            {t('socialMedia.clear')}\n          </button>\n        </div>\n      </div>\n        {/* Result Section (Enhanced Post, etc.) */}\n        {enhancedContent && (\n          <div className=\"section result-section mobile-result-section\" style={{ position: 'relative' }}>\n      <SocialMediaPostResult\n        enhancedContent={enhancedContent}\n        reviewedContent={reviewedContent}\n        isReviewing={isReviewing}\n        showOriginalContent={showOriginalContent}\n        setShowOriginalContent={setShowOriginalContent}\n        showComparison={showComparison}\n        setShowComparison={setShowComparison}\n        content={content}\n        platform={platform}\n        postType={postType}\n        tone={tone}\n        targetAudience={targetAudience}\n        getPlatformIcon={getPlatformIcon}\n        getToneIcon={getToneIcon}\n        getAudienceIcon={getAudienceIcon}\n        tones={tones}\n        audiences={audiences}\n        platforms={platforms}\n        selectedPlatform={platforms.find(p => p.value === platform)}\n              isOverLimit={isOverLimit}\n        qualityAnalysis={qualityAnalysis}\n        copyToClipboard={copyToClipboard}\n        openPreviewWindow={openPreviewWindow}\n        setContent={setContent}\n        setEnhancedContent={setEnhancedContent}\n        setPlatform={setPlatform}\n        setPostType={setPostType}\n        setTone={setTone}\n        setTargetAudience={setTargetAudience}\n        setContentStructure={setContentStructure}\n        setEngagementGoal={setEngagementGoal}\n        setContentLength={setContentLength}\n        setBrandVoiceIntensity={setBrandVoiceIntensity}\n        setEngagementUrgency={setEngagementUrgency}\n        setSituation={setSituation}\n        postTypes={postTypes}\n        brandVoiceIntensities={brandVoiceIntensities}\n        engagementUrgencies={engagementUrgencies}\n        situations={situations}\n            />\n              \n              {/* Social Media Integration */}\n              <SocialMediaIntegration\n                content={reviewedContent || enhancedContent}\n                platform={platform}\n                onPublishSuccess={(platform, result) => {\n                  console.log(`Successfully published to ${platform}:`, result);\n                  // You can add success notification here\n                }}\n                onPublishError={(platform, error) => {\n                  console.error(`Failed to publish to ${platform}:`, error);\n                  // You can add error notification here\n                }}\n              />\n          </div>\n        )}\n      </div>\n      )}\n    </div>\n  );\n};\n\nexport default SocialMediaPost; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst platformIcons = {\n  facebook: '📘',\n  instagram: '📸',\n  twitter: '🐦',\n  linkedin: '💼',\n  tiktok: '🎵',\n  youtube: '📺',\n};\n\nconst platformColors = {\n  facebook: '#1877f2',\n  instagram: '#e4405f',\n  twitter: '#1da1f2',\n  linkedin: '#0077b5',\n  tiktok: '#000',\n  youtube: '#ff0000',\n};\n\nconst FullPostView = ({ post, getToneIcon, tones = [], onClose }) => {\n  const { t } = useTranslation();\n  if (!post) return null;\n  const {\n    platform,\n    enhanced,\n    reviewedContent,\n    postType,\n    tone,\n    targetAudience,\n    timestamp,\n  } = post;\n  const displayContent = reviewedContent || enhanced;\n  const toneObj = tones.find(tn => tn.value === tone);\n\n  // Platform-specific rendering\n  let platformView = null;\n  if (platform === 'facebook') {\n    platformView = (\n      <div style={{ background: '#f0f2f5', borderRadius: 12, padding: 20, fontFamily: 'inherit', boxShadow: '0 2px 8px rgba(0,0,0,0.1)', border: '1px solid #e4e6ea', marginBottom: 0 }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 16 }}>\n          <div style={{ width: 48, height: 48, background: 'linear-gradient(135deg,#1877f2 0%,#42a5f5 100%)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontSize: 20, fontWeight: 600, boxShadow: '0 2px 8px rgba(24,119,242,0.3)' }}>👤</div>\n          <div style={{ flex: 1 }}>\n            <div style={{ fontSize: 16, fontWeight: 600, color: '#050505', marginBottom: 2 }}>{t('socialMedia.yourPageName')}</div>\n            <div style={{ fontSize: 13, color: '#65676b', display: 'flex', alignItems: 'center', gap: 4 }}>\n              <span>{t('socialMedia.justNow')}</span><span>•</span><span>{getToneIcon ? getToneIcon(tone) : ''} {toneObj?.label}</span><span>•</span><span>🌍</span>\n            </div>\n          </div>\n          <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 22, color: '#64748b', cursor: 'pointer', marginLeft: 8 }} aria-label=\"Close\">✖</button>\n        </div>\n        <div style={{ fontSize: 15, lineHeight: 1.4, color: '#050505', whiteSpace: 'pre-wrap', wordWrap: 'break-word', marginBottom: 16, padding: 12, background: 'white', borderRadius: 8, border: '1px solid #e4e6ea' }}>{displayContent}</div>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', paddingTop: 12, borderTop: '1px solid #e4e6ea', fontSize: 15, color: '#65676b' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\n            <span>👍 {t('socialMedia.like')}</span><span>💬 {t('socialMedia.comment')}</span><span>🔄 {t('socialMedia.share')}</span>\n          </div>\n          <div style={{ fontSize: 13, color: '#65676b' }}>0 {t('socialMedia.comments')} • 0 {t('socialMedia.shares')}</div>\n        </div>\n      </div>\n    );\n  } else if (platform === 'instagram') {\n    platformView = (\n      <div style={{ background: '#fff', borderRadius: 12, padding: 0, fontFamily: 'inherit', border: '1px solid #dbdbdb', boxShadow: '0 2px 8px rgba(0,0,0,0.1)', maxWidth: 400, margin: '0 auto' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, padding: 16, borderBottom: '1px solid #dbdbdb' }}>\n          <div style={{ width: 32, height: 32, background: 'linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontSize: 14 }}>📸</div>\n          <div style={{ flex: 1 }}><div style={{ fontSize: 14, fontWeight: 600, color: '#262626' }}>{t('socialMedia.yourUsername')}</div></div>\n          <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 20, color: '#64748b', cursor: 'pointer', marginLeft: 8 }} aria-label=\"Close\">✖</button>\n        </div>\n        <div style={{ width: '100%', height: 300, background: 'linear-gradient(135deg,#fdf2f8 0%,#fce7f3 100%)', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 48, color: '#ec4899', borderBottom: '1px solid #dbdbdb' }}>📷</div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16, padding: '12px 16px', borderBottom: '1px solid #dbdbdb' }}>\n          <span style={{ fontSize: 24 }}>❤️</span><span style={{ fontSize: 24 }}>💬</span><span style={{ fontSize: 24 }}>📤</span><span style={{ fontSize: 24, marginLeft: 'auto' }}>🔖</span>\n        </div>\n        <div style={{ padding: '12px 16px', fontSize: 14, lineHeight: 1.5, color: '#262626', whiteSpace: 'pre-wrap', wordWrap: 'break-word' }}>\n          <div style={{ marginBottom: 8 }}><span style={{ fontWeight: 600, color: '#262626' }}>{t('socialMedia.yourUsername')}</span><span style={{ marginLeft: 8 }}>{displayContent}</span></div>\n          <div style={{ color: '#00376b', fontSize: 13, marginTop: 8, lineHeight: 1.4 }}>#socialmedia #content #engagement #marketing #digital</div>\n          <div style={{ fontSize: 12, color: '#8e8e8e', marginTop: 8 }}>{t('socialMedia.viewAllComments', { count: 0 })}</div>\n        </div>\n      </div>\n    );\n  } else if (platform === 'linkedin') {\n    platformView = (\n      <div style={{ background: '#fff', borderRadius: 12, padding: 20, fontFamily: 'inherit', border: '1px solid #e0e0e0' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 16 }}>\n          <div style={{ width: 48, height: 48, background: '#0077b5', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontSize: 20 }}>💼</div>\n          <div>\n            <div style={{ fontSize: 16, fontWeight: 600, color: '#191919', marginBottom: 2 }}>Your Name</div>\n            <div style={{ fontSize: 14, color: '#666', marginBottom: 2 }}>Your Title at Company</div>\n            <div style={{ fontSize: 12, color: '#666' }}>now • {getToneIcon ? getToneIcon(tone) : ''} {toneObj?.label}</div>\n          </div>\n          <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 20, color: '#64748b', cursor: 'pointer', marginLeft: 8 }} aria-label=\"Close\">✖</button>\n        </div>\n        <div style={{ fontSize: 16, lineHeight: 1.5, color: '#191919', whiteSpace: 'pre-wrap', wordWrap: 'break-word', marginBottom: 16 }}>{displayContent}</div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 24, paddingTop: 16, borderTop: '1px solid #e0e0e0', fontSize: 14, color: '#666' }}>\n          <span>👍 Like</span><span>💬 Comment</span><span>🔄 Repost</span><span>📤 Send</span>\n        </div>\n      </div>\n    );\n  } else if (platform === 'twitter') {\n    platformView = (\n      <div style={{ background: '#fff', borderRadius: 12, padding: 16, fontFamily: 'inherit', border: '1px solid #e1e8ed' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 16 }}>\n          <div style={{ width: 48, height: 48, background: '#1da1f2', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontSize: 20 }}>🐦</div>\n          <div>\n            <div style={{ fontSize: 15, fontWeight: 700, color: '#14171a', marginBottom: 2 }}>{t('socialMedia.yourName')}</div>\n            <div style={{ fontSize: 14, color: '#657786', display: 'flex', alignItems: 'center', gap: 4 }}>\n              <span>@{t('socialMedia.yourHandle')}</span><span>•</span><span>{t('socialMedia.now')}</span>\n            </div>\n          </div>\n          <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 20, color: '#64748b', cursor: 'pointer', marginLeft: 8 }} aria-label=\"Close\">✖</button>\n        </div>\n        <div style={{ fontSize: 15, lineHeight: 1.4, color: '#14171a', whiteSpace: 'pre-wrap', wordWrap: 'break-word', marginBottom: 16 }}>{displayContent}</div>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', paddingTop: 12, borderTop: '1px solid #e1e8ed', fontSize: 16, color: '#657786' }}>\n          <span>💬 0</span><span>🔄 0</span><span>❤️ 0</span><span>📤</span>\n        </div>\n      </div>\n    );\n  } else if (platform === 'tiktok') {\n    platformView = (\n      <div style={{ background: '#000', borderRadius: 12, padding: 0, fontFamily: 'inherit', color: 'white', position: 'relative', overflow: 'hidden', boxShadow: '0 4px 16px rgba(0,0,0,0.3)', maxWidth: 300, margin: '0 auto' }}>\n        <button onClick={onClose} style={{ position: 'absolute', top: 12, right: 12, background: 'rgba(0,0,0,0.5)', border: 'none', fontSize: 20, color: '#fff', cursor: 'pointer', zIndex: 2 }} aria-label=\"Close\">✖</button>\n        <div style={{ width: '100%', height: 400, background: 'linear-gradient(45deg,#ff0050,#00f2ea)', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 64, position: 'relative' }}>\n          <div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%,-50%)', width: 80, height: 80, background: 'rgba(255,255,255,0.9)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 32, color: '#ff0050' }}>▶️</div>\n        </div>\n        <div style={{ position: 'absolute', bottom: 0, left: 0, right: 0, background: 'linear-gradient(transparent,rgba(0,0,0,0.8))', padding: '20px 16px 80px 16px' }}>\n          <div style={{ fontSize: 16, lineHeight: 1.4, whiteSpace: 'pre-wrap', wordWrap: 'break-word', marginBottom: 12, maxWidth: 280 }}>{displayContent}</div>\n          <div style={{ fontSize: 14, color: '#00f2ea', marginBottom: 12 }}>#fyp #viral #trending #content #tiktok</div>\n        </div>\n        <div style={{ position: 'absolute', top: 16, left: 16, right: 16, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n            <div style={{ width: 32, height: 32, background: 'linear-gradient(45deg,#ff0050,#00f2ea)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 14 }}>🎵</div>\n            <div><div style={{ fontSize: 14, fontWeight: 600, marginBottom: 2 }}>@yourusername</div><div style={{ fontSize: 12, color: '#ccc' }}>Original Sound</div></div>\n          </div>\n          <span style={{ fontSize: 20 }}>⋯</span>\n        </div>\n        <div style={{ position: 'absolute', right: 16, bottom: 100, display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 16 }}>\n          <div style={{ textAlign: 'center' }}><span style={{ fontSize: 32 }}>❤️</span><div style={{ fontSize: 12, marginTop: 4 }}>0</div></div>\n          <div style={{ textAlign: 'center' }}><span style={{ fontSize: 32 }}>💬</span><div style={{ fontSize: 12, marginTop: 4 }}>0</div></div>\n          <div style={{ textAlign: 'center' }}><span style={{ fontSize: 32 }}>📤</span><div style={{ fontSize: 12, marginTop: 4 }}>Share</div></div>\n        </div>\n      </div>\n    );\n  } else if (platform === 'youtube') {\n    platformView = (\n      <div style={{ background: '#fff', borderRadius: 12, padding: 16, fontFamily: 'Roboto,Arial,sans-serif', border: '1px solid #e5e5e5' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 16 }}>\n          <div style={{ width: 40, height: 40, background: '#ff0000', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontSize: 18 }}>📺</div>\n          <div>\n            <div style={{ fontSize: 16, fontWeight: 500, color: '#030303', marginBottom: 2 }}>Your Channel Name</div>\n            <div style={{ fontSize: 14, color: '#606060' }}>{timestamp ? new Date(timestamp).toLocaleDateString() : ''} • {getToneIcon ? getToneIcon(tone) : ''} {toneObj?.label}</div>\n          </div>\n          <button onClick={onClose} style={{ background: 'none', border: 'none', fontSize: 20, color: '#64748b', cursor: 'pointer', marginLeft: 8 }} aria-label=\"Close\">✖</button>\n        </div>\n        <div style={{ fontSize: 14, lineHeight: 1.4, color: '#030303', whiteSpace: 'pre-wrap', wordWrap: 'break-word', marginBottom: 16 }}>{displayContent}</div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16, paddingTop: 12, borderTop: '1px solid #e5e5e5', fontSize: 14, color: '#606060' }}>\n          <span>👍 0</span><span>👎 0</span><span>💬 0 comments</span><span>📤 Share</span>\n        </div>\n      </div>\n    );\n  } else {\n    // Fallback for unknown platforms\n    platformView = (\n      <div style={{ padding: 16, borderRadius: 8, background: '#f8fafc', border: '1px solid #e2e8f0', marginBottom: 0 }}>{displayContent}</div>\n    );\n  }\n\n  return (\n    <div style={{ maxWidth: 600, margin: '0 auto', position: 'relative' }}>\n      {platformView}\n      <div style={{ display: 'flex', gap: 8, marginTop: 18, justifyContent: 'flex-end' }}>\n        <button onClick={() => navigator.clipboard.writeText(displayContent)} className=\"action-btn\" style={{ background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)', color: 'white', border: 'none', borderRadius: 8, padding: '8px 16px', fontSize: 15, fontWeight: 600, minWidth: 120, cursor: 'pointer', boxShadow: '0 2px 8px rgba(16,185,129,0.10)' }}>📋 {t('socialMedia.copyEnhanced')}</button>\n      </div>\n    </div>\n  );\n};\n\nexport default FullPostView; ","import React, { useEffect, useState } from 'react';\nimport SocialMediaPostResult from '../components/SocialMediaPostResult';\nimport { useTranslation } from 'react-i18next';\nimport apiConfig from '../config/api';\nimport '../screens/SocialMediaPost.css';\nimport { Link } from 'react-router-dom';\nimport FullPostView from '../components/FullPostView';\n\n// Define tones array for use in SocialMediaPostResult\nconst tones = [\n  { value: 'friendly', label: 'Friendly', icon: '😊' },\n  { value: 'professional', label: 'Professional', icon: '💼' },\n  { value: 'playful', label: 'Playful', icon: '😜' },\n  { value: 'urgent', label: 'Urgent', icon: '⚡' },\n  { value: 'inspirational', label: 'Inspirational', icon: '🌟' },\n  // Add more as needed\n];\n\n// Subcomponent for each post card\nconst PostCard = ({ item, platform, platformIcon, platformColor, expanded, onExpand, onCollapse }) => {\n  // Platform icon map (must be at the top)\n  const platformIcons = {\n    facebook: '📘',\n    instagram: '📸',\n    twitter: '🐦',\n    linkedin: '💼',\n    tiktok: '🎵',\n    youtube: '📺',\n  };\n  // Platform color map (must be at the top)\n  const platformColors = {\n    facebook: '#1877f2',\n    instagram: '#e4405f',\n    twitter: '#1da1f2',\n    linkedin: '#0077b5',\n    tiktok: '#000',\n    youtube: '#ff0000',\n  };\n  const { t } = useTranslation();\n  // Detect mobile\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    const checkMobile = () => setIsMobile(window.innerWidth < 800);\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Card click/hover handlers\n  const handleExpand = () => {\n    if (!expanded) onExpand(item._id || item.id);\n    else if (isMobile) onCollapse(); // On mobile, tap again to collapse\n  };\n\n  // Provide getToneIcon for SocialMediaPostResult\n  const getToneIcon = (tone) => {\n    const toneIcons = {\n      friendly: '😊',\n      professional: '💼',\n      playful: '😜',\n      urgent: '⚡',\n      inspirational: '🌟',\n      // Add more as needed\n    };\n    return toneIcons[tone] || '🎤';\n  };\n\n  // Provide getPlatformIcon for SocialMediaPostResult\n  const getPlatformIcon = (p) => platformIcons[p] || '';\n\n  return (\n    <div\n      className={`post-card expandable-card${expanded ? ' expanded' : ''}`}\n      style={{\n        background: '#fff',\n        borderRadius: 16,\n        boxShadow: expanded ? '0 8px 32px rgba(0,0,0,0.13)' : '0 2px 8px rgba(0,0,0,0.06)',\n        border: `2px solid ${platformColor || '#e2e8f0'}`,\n        padding: expanded ? 0 : 18,\n        minHeight: 180,\n        position: 'relative',\n        transition: 'box-shadow 0.25s, padding 0.25s',\n        cursor: 'pointer',\n        overflow: 'hidden',\n        gridColumn: expanded ? '1 / -1' : undefined,\n        zIndex: expanded ? 20 : 1,\n      }}\n      tabIndex={0}\n      aria-expanded={expanded}\n    >\n      {expanded ? (\n        <div style={{ padding: 0, background: '#f8fafc', borderRadius: 16 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10, padding: '18px 18px 0 18px' }}>\n            <span style={{ fontSize: 22 }}>{platformIcon}</span>\n            <span style={{ fontWeight: 600, color: platformColor, fontSize: 15 }}>{t(`socialMedia.platforms.${platform}`) || platform}</span>\n            <span style={{ color: '#64748b', fontSize: 12, marginLeft: 'auto' }}>{new Date(item.timestamp).toLocaleDateString()}</span>\n            <button onClick={onCollapse} style={{ marginLeft: 12, background: 'none', border: 'none', fontSize: 20, color: '#64748b', cursor: 'pointer' }} aria-label=\"Collapse\">✕</button>\n          </div>\n          <div style={{ padding: 18, paddingTop: 8 }}>\n            <FullPostView\n              post={item}\n              getToneIcon={getToneIcon}\n              tones={tones}\n              onClose={onCollapse}\n            />\n          </div>\n        </div>\n      ) : (\n        <>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\n            <span style={{ fontSize: 22 }}>{platformIcon}</span>\n            <span style={{ fontWeight: 600, color: platformColor, fontSize: 15 }}>{t(`socialMedia.platforms.${platform}`) || platform}</span>\n            <span style={{ color: '#64748b', fontSize: 12, marginLeft: 'auto' }}>{new Date(item.timestamp).toLocaleDateString()}</span>\n          </div>\n          <div style={{ fontSize: 14, color: '#374151', margin: '6px 0', maxHeight: 60, overflow: 'hidden', textOverflow: 'ellipsis', display: '-webkit-box', WebkitLineClamp: 3, WebkitBoxOrient: 'vertical' }}>{item.enhanced.substring(0, 120)}...</div>\n          <div style={{ display: 'flex', gap: 8, marginTop: 'auto' }}>\n            <button onClick={() => onExpand(item._id || item.id)} className=\"action-btn\" style={{ background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', color: 'white', border: 'none', borderRadius: 8, padding: '8px 16px', fontSize: 14, fontWeight: 600, flex: 1 }}>👁️ {t('socialMedia.viewFull')}</button>\n            <button onClick={() => navigator.clipboard.writeText(item.enhanced)} className=\"action-btn\" style={{ background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)', color: 'white', border: 'none', borderRadius: 8, padding: '8px 16px', fontSize: 14, fontWeight: 600, flex: 1 }}>📋 {t('socialMedia.copyEnhanced')}</button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst SocialMediaPostHistory = () => {\n  const { t } = useTranslation();\n  const [globalHistory, setGlobalHistory] = useState([]);\n  const [isHistoryLoading, setIsHistoryLoading] = useState(true);\n  const [historyError, setHistoryError] = useState('');\n  const [expandedId, setExpandedId] = useState(null);\n\n  // Dummy setters for props not used in history-only view\n  const noop = () => {};\n\n  useEffect(() => {\n    fetchGlobalHistory();\n  }, []);\n\n  const fetchGlobalHistory = async () => {\n    setIsHistoryLoading(true);\n    setHistoryError('');\n    try {\n      const res = await fetch(apiConfig.baseURL + '/social-posts');\n      const data = await res.json();\n      if (data.success) {\n        setGlobalHistory(data.posts || []);\n      } else {\n        setHistoryError(t('menu.failedToFetchHistory'));\n      }\n    } catch (err) {\n      setHistoryError(t('menu.failedToFetchHistory'));\n    } finally {\n      setIsHistoryLoading(false);\n    }\n  };\n\n  // Group posts by platform\n  const groupHistoryByPlatform = (history) => {\n    const grouped = {};\n    (history || []).forEach((item) => {\n      if (!grouped[item.platform]) grouped[item.platform] = [];\n      grouped[item.platform].push(item);\n    });\n    return grouped;\n  };\n\n  // Platform icon map\n  const platformIcons = {\n    facebook: '📘',\n    instagram: '📸',\n    twitter: '🐦',\n    linkedin: '💼',\n    tiktok: '🎵',\n    youtube: '📺',\n  };\n\n  // Platform color map\n  const platformColors = {\n    facebook: '#1877f2',\n    instagram: '#e4405f',\n    twitter: '#1da1f2',\n    linkedin: '#0077b5',\n    tiktok: '#000',\n    youtube: '#ff0000',\n  };\n\n  // Responsive card grid for posts\n  return (\n    <div className=\"social-media-post responsive-mobile\" style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)', padding: 0 }}>\n      {/* Sticky header */}\n      <div style={{\n        position: 'sticky',\n        top: 0,\n        zIndex: 10,\n        background: 'linear-gradient(135deg, #4f8cff 0%, #38e8ff 100%)',\n        padding: '24px 16px 16px 16px',\n        borderBottomLeftRadius: 24,\n        borderBottomRightRadius: 24,\n        boxShadow: '0 4px 24px rgba(79,140,255,0.08)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n      }}>\n        <Link to=\"/social-media\" style={{ color: '#fff', fontSize: 24, textDecoration: 'none', fontWeight: 700, display: 'flex', alignItems: 'center', gap: 8 }}>\n          ←\n        </Link>\n        <div style={{ flex: 1, textAlign: 'center' }}>\n          <h2 style={{ color: '#fff', fontWeight: 800, fontSize: 24, margin: 0 }}>{t('menu.historyPageTitle')}</h2>\n          <div style={{ color: '#e0e7ff', fontSize: 14, marginTop: 4 }}>{t('menu.historyPageSubtitle')}</div>\n        </div>\n        <div style={{ width: 40 }}></div>\n      </div>\n\n      {/* Main content */}\n      <div style={{ padding: '16px 8px', maxWidth: 900, margin: '0 auto' }}>\n        {isHistoryLoading ? (\n          <div style={{ color: '#64748b', fontSize: 18, padding: '48px 0', textAlign: 'center' }}>Loading...</div>\n        ) : historyError ? (\n          <div style={{ color: '#ef4444', fontSize: 18, padding: '48px 0', textAlign: 'center' }}>{historyError}</div>\n        ) : globalHistory.length === 0 ? (\n          <div style={{ textAlign: 'center', padding: '64px 0' }}>\n            <div style={{ fontSize: 64, marginBottom: 16 }}>📭</div>\n            <div style={{ fontSize: 20, fontWeight: 700, color: '#64748b', marginBottom: 8 }}>{t('socialMedia.noPostsYet')}</div>\n            <div style={{ color: '#94a3b8', fontSize: 15, marginBottom: 24 }}>{t('socialMedia.recentlyGeneratedPosts')}</div>\n            <Link to=\"/social-media\" className=\"action-btn\" style={{ background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', color: 'white', border: 'none', borderRadius: 8, padding: '12px 24px', fontSize: 16, fontWeight: 600, textDecoration: 'none', boxShadow: '0 2px 8px rgba(139, 92, 246, 0.2)' }}>\n              + {t('menu.socialMedia')}\n            </Link>\n          </div>\n        ) : (\n          Object.entries(groupHistoryByPlatform(globalHistory)).map(([platform, posts]) => (\n            <div key={platform} style={{ marginBottom: 32 }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginBottom: 12 }}>\n                <span style={{ fontSize: 28, color: platformColors[platform] }}>{platformIcons[platform]}</span>\n                <span style={{ fontWeight: 700, fontSize: 20, color: '#2d3748' }}>{t(`socialMedia.platforms.${platform}`) || platform}</span>\n                <span style={{ color: '#64748b', fontSize: 14, fontWeight: 400, marginLeft: 8 }}>({posts.length} post{posts.length > 1 ? 's' : ''})</span>\n              </div>\n              <div className=\"post-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(290px, 1fr))', gap: 16 }}>\n                {posts.map((item) => (\n                  <PostCard\n                    key={item._id || item.id}\n                    item={item}\n                    platform={platform}\n                    platformIcon={platformIcons[platform]}\n                    platformColor={platformColors[platform]}\n                    expanded={expandedId === (item._id || item.id)}\n                    onExpand={(id) => setExpandedId(id)}\n                    onCollapse={() => setExpandedId(null)}\n                  />\n                ))}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SocialMediaPostHistory; ","import React from 'react';\nimport SocialMediaIntegration from '../components/SocialMediaIntegration';\nimport { useTranslation } from 'react-i18next';\nimport '../screens/SocialMediaPost.css';\n\nconst SocialMediaIntegrationScreen = () => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"social-media-post responsive-mobile\" style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)', padding: 0 }}>\n      <div style={{ maxWidth: 700, margin: '40px auto', background: 'rgba(255,255,255,0.98)', borderRadius: 20, boxShadow: '0 8px 32px rgba(0,0,0,0.10)', padding: 0 }}>\n        <div style={{\n          background: 'linear-gradient(135deg, #4f8cff 0%, #38e8ff 100%)',\n          padding: '40px 24px 24px 24px',\n          borderTopLeftRadius: 20,\n          borderTopRightRadius: 20,\n          textAlign: 'center',\n          color: '#fff',\n        }}>\n          <h1 style={{ fontWeight: 800, fontSize: 28, margin: 0 }}>{t('socialMedia.integration.title')}</h1>\n          <p style={{ fontSize: 16, margin: '12px 0 0 0', color: '#e0e7ff' }}>{t('socialMedia.integration.subtitle')}</p>\n        </div>\n        <div style={{ padding: 24 }}>\n          <div style={{ marginBottom: 24, color: '#64748b', fontSize: 15, textAlign: 'center' }}>\n            {t('socialMedia.integration.tips.oauth')}.<br/>\n            {t('socialMedia.integration.tips.permissions')}.<br/>\n            {t('socialMedia.integration.tips.security')}.<br/>\n            {t('socialMedia.integration.tips.refresh')}.\n          </div>\n          <SocialMediaIntegration />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SocialMediaIntegrationScreen; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getApiUrl } from '../config/api';\nimport './Login.css';\n\nconst providers = [\n  { key: 'facebook', name: 'Facebook', icon: '📘', color: '#1877f2' },\n  { key: 'google', name: 'Google', icon: '🔎', color: '#ea4335' },\n  { key: 'twitter', name: 'Twitter', icon: '🐦', color: '#1da1f2' },\n  { key: 'linkedin', name: 'LinkedIn', icon: '💼', color: '#0077b5' }\n];\n\nexport default function Login() {\n  const { t } = useTranslation();\n  const [error, setError] = React.useState('');\n\n  const handleLogin = (provider) => {\n    window.location.href = getApiUrl(`/auth/${provider}`);\n  };\n\n  return (\n    <div className=\"login-bg\">\n      <main className=\"login-card\">\n        <h1 className=\"login-title\">{t('login.title') || 'Sign in to your account'}</h1>\n        <p className=\"login-subtitle\">{t('login.subtitle') || 'Choose a provider to continue:'}</p>\n        {error && <div className=\"login-error\">{error}</div>}\n        <div className=\"login-providers\">\n          {providers.map((p) => (\n            <button\n              key={p.key}\n              className=\"login-btn\"\n              style={{ background: p.color }}\n              onClick={() => handleLogin(p.key)}\n            >\n              <span className=\"login-btn-icon\">{p.icon}</span>\n              {t(`login.with${p.name}`) || `Continue with ${p.name}`}\n            </button>\n          ))}\n        </div>\n        <div className=\"login-footer\">\n          <span>Need help? <a href=\"mailto:support@vmarketing.app\" className=\"login-support-link\">Contact support</a></span>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n// Helper to shade color for hover effect\nfunction shadeColor(color, percent) {\n  let R = parseInt(color.substring(1,3),16);\n  let G = parseInt(color.substring(3,5),16);\n  let B = parseInt(color.substring(5,7),16);\n  R = parseInt(R * (100 + percent) / 100);\n  G = parseInt(G * (100 + percent) / 100);\n  B = parseInt(B * (100 + percent) / 100);\n  R = (R<255)?R:255;  \n  G = (G<255)?G:255;  \n  B = (B<255)?B:255;  \n  const RR = ((R.toString(16).length===1)?\"0\":\"\") + R.toString(16);\n  const GG = ((G.toString(16).length===1)?\"0\":\"\") + G.toString(16);\n  const BB = ((B.toString(16).length===1)?\"0\":\"\") + B.toString(16);\n  return \"#\"+RR+GG+BB;\n} ","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getApiUrl } from '../config/api';\nimport './Login.css';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function Signup() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({ name: '', email: '', password: '', confirmPassword: '' });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n    setError('');\n    setSuccess('');\n  };\n\n  const validate = () => {\n    if (!form.email || !form.password || !form.confirmPassword) {\n      setError(t('signup.errorRequired') || 'Email and password are required.');\n      return false;\n    }\n    if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(form.email)) {\n      setError(t('signup.errorEmail') || 'Invalid email format.');\n      return false;\n    }\n    if (form.password.length < 6) {\n      setError(t('signup.errorPassword') || 'Password must be at least 6 characters.');\n      return false;\n    }\n    if (form.password !== form.confirmPassword) {\n      setError(t('signup.errorPasswordMatch') || 'Passwords do not match.');\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validate()) return;\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const res = await fetch(getApiUrl('/auth/register'), {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: form.name, email: form.email, password: form.password })\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        setSuccess(t('signup.success') || 'Account created successfully! You can now log in.');\n        setForm({ name: '', email: '', password: '', confirmPassword: '' });\n        setTimeout(() => {\n          navigate('/login');\n        }, 1200); // 1.2s delay to show success message\n      } else {\n        setError(data.error || t('signup.errorGeneric') || 'Failed to create account.');\n      }\n    } catch (err) {\n      setError(t('signup.errorNetwork') || 'Network error. Please try again.');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"login-bg\">\n      <main className=\"login-card\">\n        <h1 className=\"login-title\">{t('signup.title') || 'Create your account'}</h1>\n        <p className=\"login-subtitle\">{t('signup.subtitle') || 'Sign up to get started:'}</p>\n        {error && <div className=\"login-error\">{error}</div>}\n        {success && <div className=\"login-success\">{success}</div>}\n        <form onSubmit={handleSubmit} style={{ width: '100%' }} autoComplete=\"off\">\n          <div style={{ marginBottom: 16 }}>\n            <input\n              type=\"text\"\n              name=\"name\"\n              className=\"login-input\"\n              placeholder={t('signup.name') || 'Name (optional)'}\n              value={form.name}\n              onChange={handleChange}\n              autoComplete=\"name\"\n            />\n          </div>\n          <div style={{ marginBottom: 16 }}>\n            <input\n              type=\"email\"\n              name=\"email\"\n              className=\"login-input\"\n              placeholder={t('signup.email') || 'Email'}\n              value={form.email}\n              onChange={handleChange}\n              autoComplete=\"email\"\n              required\n            />\n          </div>\n          <div style={{ marginBottom: 16, position: 'relative' }}>\n            <input\n              type={showPassword ? 'text' : 'password'}\n              name=\"password\"\n              className=\"login-input\"\n              placeholder={t('signup.password') || 'Password'}\n              value={form.password}\n              onChange={handleChange}\n              autoComplete=\"new-password\"\n              required\n            />\n            <button\n              type=\"button\"\n              className=\"login-btn\"\n              style={{\n                position: 'absolute',\n                right: 8,\n                top: 8,\n                background: 'none',\n                color: '#2563eb',\n                fontSize: 14,\n                padding: '2px 8px',\n                border: 'none',\n                cursor: 'pointer',\n                boxShadow: 'none',\n                width: 'auto',\n                minWidth: 0\n              }}\n              tabIndex={-1}\n              onClick={() => setShowPassword((v) => !v)}\n            >\n              {showPassword ? '🙈' : '👁️'}\n            </button>\n          </div>\n          <div style={{ marginBottom: 24, position: 'relative' }}>\n            <input\n              type={showConfirmPassword ? 'text' : 'password'}\n              name=\"confirmPassword\"\n              className=\"login-input\"\n              placeholder={t('signup.confirmPassword') || 'Confirm Password'}\n              value={form.confirmPassword}\n              onChange={handleChange}\n              autoComplete=\"new-password\"\n              required\n            />\n            <button\n              type=\"button\"\n              className=\"login-btn\"\n              style={{\n                position: 'absolute',\n                right: 8,\n                top: 8,\n                background: 'none',\n                color: '#2563eb',\n                fontSize: 14,\n                padding: '2px 8px',\n                border: 'none',\n                cursor: 'pointer',\n                boxShadow: 'none',\n                width: 'auto',\n                minWidth: 0\n              }}\n              tabIndex={-1}\n              onClick={() => setShowConfirmPassword((v) => !v)}\n            >\n              {showConfirmPassword ? '🙈' : '👁️'}\n            </button>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"login-btn\"\n            style={{ width: '100%', background: '#2563eb' }}\n            disabled={loading}\n          >\n            {loading ? t('signup.loading') || 'Signing up...' : t('signup.submit') || 'Sign Up'}\n          </button>\n        </form>\n        <div className=\"login-footer\" style={{ marginTop: 20 }}>\n          <span>\n            {t('signup.haveAccount') || 'Already have an account?'}{' '}\n            <a href=\"/login\" className=\"login-support-link\">{t('signup.loginLink') || 'Log in'}</a>\n          </span>\n        </div>\n      </main>\n    </div>\n  );\n} ","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\nimport Header from './components/Header';\nimport HomeScreen from './screens/HomeScreen';\nimport Llma from './components/Llma';\nimport EnhancedLLM from './components/EnhancedLLM';\nimport VoiceReview from './screens/VoiceReview';\nimport ReviewGenerator from './screens/ReviewGenerator';\nimport ReviewHistory from './screens/ReviewHistory';\nimport BlogCreator from './screens/BlogCreator';\nimport BlogIndex from './screens/BlogIndex';\nimport BlogPost from './screens/BlogPost';\nimport CustomerServiceResponse from './screens/CustomerServiceResponse';\nimport VoiceTest from './screens/VoiceTest';\nimport SocialMediaPost from './screens/SocialMediaPost';\nimport SocialMediaPostHistory from './screens/SocialMediaPostHistory';\nimport SocialMediaIntegrationScreen from './screens/SocialMediaIntegrationScreen';\nimport Login from './screens/Login';\nimport Signup from './screens/Signup';\n\n// Dummy useAuth hook (replace with real auth logic)\nfunction useAuth() {\n  // Replace with real authentication logic\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  React.useEffect(() => {\n    // Example: check session or cookie\n    fetch('/api/auth/session', { credentials: 'include' })\n      .then(res => res.json())\n      .then(data => setIsAuthenticated(!!data.user))\n      .catch(() => setIsAuthenticated(false));\n  }, []);\n  return { isAuthenticated };\n}\n\nfunction App() {\n  const { isAuthenticated } = useAuth();\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/signup\" element={<Signup />} />\n          <Route path=\"/\" element={<HomeScreen />} />\n          <Route path=\"/llama\" element={<Llma />} />\n          <Route path=\"/enhanced-llm\" element={<EnhancedLLM />} />\n          <Route path=\"/voice-review\" element={<VoiceReview />} />\n          <Route path=\"/voice\" element={<VoiceReview />} />\n          <Route path=\"/review-generator\" element={<ReviewGenerator />} />\n          <Route path=\"/generate\" element={<ReviewGenerator />} />\n          <Route path=\"/review-history\" element={<ReviewHistory />} />\n          <Route path=\"/history\" element={<ReviewHistory />} />\n          <Route path=\"/blog-creator\" element={<BlogCreator />} />\n          <Route path=\"/blog-index\" element={<BlogIndex />} />\n          <Route path=\"/blog\" element={<BlogIndex />} />\n          <Route path=\"/blog-post/:slug\" element={<BlogPost />} />\n          <Route path=\"/customer-service\" element={<CustomerServiceResponse />} />\n          <Route path=\"/voice-test\" element={<VoiceTest />} />\n          <Route path=\"/social-media\" element={<SocialMediaPost />} />\n          <Route path=\"/social-media-history\" element={<SocialMediaPostHistory />} />\n          <Route path=\"/social-media-integration\" element={<SocialMediaIntegrationScreen />} />\n          {/* Protected routes example */}\n          <Route path=\"/social\" element={isAuthenticated ? <SocialMediaIntegrationScreen /> : <Navigate to=\"/login\" />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport en from './locales/en/translation.json';\nimport vi from './locales/vi/translation.json';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: en },\n      vi: { translation: vi }\n    },\n    fallbackLng: 'en',\n    interpolation: { escapeValue: false }\n  });\n\nexport default i18n; ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}